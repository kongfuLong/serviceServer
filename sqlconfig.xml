<?xml version="1.0" encoding="UTF-8"?>
<sqls name="SQL配置文件大于小于号用全角＜＞；ID属性大写">
    <sql ID="1" value="select aa.user_type,aa.login_name,aa.login_salt,aa.trade_password,aa.nick,aa.brand_id,aa.buyer_fee_rate,aa.balance,aa.freeze_balance,aa.total_balance,bb.freezed from tb_web_user aa left join (select user_id,freezed from tb_money_movements where user_id=@user_id@ and order_id=@order_id@) bb on aa.user_id=bb.user_id where aa.user_id=@user_id@"/>
    <sql ID="2" value="select aa.user_id_supplier,aa.freight_rec_amount,aa.order_amount,aa.fee_free,aa.is_seller_insure,aa.is_insurance,aa.insurance_amount,aa.month_money,aa.month_time,
    bb.user_type,bb.nick,bb.login_name,bb.brand_id,bb.fee_rate from (select os.user_id_supplier,os.freight_rec_amount,os.order_amount,os.fee_free,os.is_seller_insure,os.is_insurance,
    os.insurance_amount,us.month_money,us.month_time from tb_order_supplier os,tb_web_user_seller us where os.user_id_supplier=us.user_id and os.order_id=@order_id@) aa,tb_web_user bb where aa.user_id_supplier=bb.user_id"/>
    <sql ID="3" value="select order_item,goods_id,user_id,goods_name,discount_price,goods_num,amounts from tb_order_goods where order_id=@order_id@"/>
    <sql ID="4" value="select aa.order_amount,aa.coupon_amount,aa.credits_amount,aa.amounts from tb_order aa where aa.order_id=@order_id@"/>
    <!-- 插入订单支付相关表 -->
    <!-- 插入资金变动记录表 -->
    <sql ID="5" value="insert into tb_money_movements(pay_id,order_id,bank_order_id,trade_type,pay_bank,pay_type,pay_cer_id,user_id,move_time,amount,freezed,remarks,status_time,move_status,bank_status) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <!-- 插入订单支付记录表 -->
    <sql ID="6" value="insert into tb_order_pay(pay_sn,user_id,order_id,goods_name,create_time,expire_time,pay_time,pay_clazz,pay_money,pay_status) values (?,?,?,?,?,?,?,?,?,?)"/>
    <!-- 插入订单支付记录表 -->
    <sql ID="7" value="insert into tb_order_pay(pay_sn,user_id,order_id,goods_name,create_time,expire_time,pay_clazz,pay_money,pay_status) values (?,?,?,?,?,?,?,?,?)"/>
    <!-- 插入订单支付渠道说明银行 -->
    <sql ID="8" value="insert into tb_order_pay_clazz(pay_sn,pay_clazz,pay_money,pay_remark,pay_bank,pay_type,pay_cer_id,bank_order_id,bank_id,account_no) values (?,?,?,?,?,?,?,?,?,?)"/>
    <!-- 插入订单支付渠道说明余额 -->
    <sql ID="9" value="insert into tb_order_pay_clazz(pay_sn,pay_clazz,pay_money,pay_remark,pay_type,pay_status,bank_status,pay_time,bank_amount) values (?,?,?,?,?,?,?,?,?)"/>
    <!-- 插入订单交易支出记录表 -->
    <sql ID="10" value="insert into tb_user_order_pay_out(pay_sn,batch_no,buyer_user_id,seller_type,seller_user_id,seller_nick,order_id,goods_name,create_time,order_amount,fee_free,fee_rate,fee_all,trade_status,update_time,amount) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <!-- 插入订单交易收入记录表 -->
    <sql ID="11" value="insert into tb_user_order_pay_in(pay_sn,batch_no,seller_type,seller_user_id,buyer_user_id,buyer_nick,order_id,goods_name,create_time,order_amount,fee_free,fee_rate,fee_all,trade_status,update_time,amount) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"/>

    <!-- 更新订单支付相关表 -->
    <!-- 更新资金变动记录表 -->
    <sql ID="12" value="update tb_money_movements set bank_order_id=?,pay_bank=?,pay_type=?,pay_cer_id=?,amount=?,freezed=?,status_time=?,move_status=?,bank_status=? where pay_id=?"/>
    <!-- 更新订单支付记录表 -->
    <sql ID="13" value="update tb_order_pay set pay_time=?,pay_clazz=?,pay_status=? where pay_sn=?"/>
    <!-- 更新订单支付记录表 -->
    <sql ID="14" value="update tb_order_pay set pay_clazz=?,pay_status=? where pay_sn=?"/>
    <!-- 删除订单支付渠道说明 -->
    <sql ID="15" value="delete from tb_order_pay_clazz where pay_sn=?"/>
    <!-- 更新订单交易支出记录表 -->
    <sql ID="16" value="update tb_user_order_pay_out set trade_status=?,update_time=? where pay_sn=?"/>
    <!-- 更新订单交易收入记录表 -->
    <sql ID="17" value="update tb_user_order_pay_in set trade_status=?,update_time=? where pay_sn=?"/>
    <!-- 更新用户余额 -->
    <sql ID="18" value="update tb_web_user set balance=?,freeze_balance=?,total_balance=? where user_id=?"/>
    <!-- 更新订单支付信息及订单状态 -->
    <sql ID="19" value="update tb_order set order_status=?,pay_time=?,pay_sn=? where order_id=?"/>
    <sql ID="20" value="select aa.user_id,aa.login_salt,aa.balance,aa.freeze_balance,aa.total_balance,bb.bank_status from tb_web_user aa,tb_money_movements bb where aa.user_id=bb.user_id and bb.pay_id=@pay_id@"/>
    <!-- 更新资金变动记录表 -->
    <sql ID="21" value="update tb_money_movements set freezed=?,status_time=?,move_status=?,bank_status=? where pay_id=?"/>
    <sql ID="22" value="update tb_order_pay_clazz set pay_status=?,bank_status=?,pay_time=?,bank_return_code=?,bank_voucher_no=?,bank_msg_type=?,bank_msg=?,bank_amount=? where pay_clazz=? and pay_sn=?"/>
    <sql ID="23" value="update tb_user_recharge set recharge_status=?,bank_status=?,pay_time=?,bank_return_code=?,bank_voucher_no=?,bank_msg_type=?,bank_msg=?,bank_amount=? where recharge_id=?"/>
    <sql ID="24" value="select sa.user_id_supplier,ua.valid_mobile from tb_order_supplier sa,tb_web_user ua where sa.user_id_supplier=ua.user_id and sa.order_id=@order_id@"/>
    <sql ID="25" value="update tb_web_user_seller set month_money=month_money+?,month_time=? where user_id=?"/>
    <!-- 更新订单交易支出记录表 -->
    <sql ID="26" value="update tb_user_order_pay_out set order_amount=?,fee_free=?,fee_rate=?,fee_all=?,trade_status=?,update_time=?,amount=? where seller_type=1 and seller_user_id=? and pay_sn=?"/>
    <!-- 更新订单交易收入记录表 -->
    <sql ID="27" value="update tb_user_order_pay_in set order_amount=?,fee_free=?,fee_rate=?,fee_all=?,trade_status=?,update_time=?,amount=? where seller_type=1 and seller_user_id=? and pay_sn=?"/>

    <sql ID="99" value="select a.valid_mobile,a.valid_email,a.idcard,a.avatar,a.province_id,a.province_id,a.area_id,a.allocate_brand,a.real_name,a.sex,a.qq,a.user_id,a.user_type,a.is_seller,a.login_name,a.login_pwd,a.login_salt,a.trade_accout,a.trade_password,a.is_lock,a.nick,a.last_time,a.last_ip,a.session_uuid,b.check_status from tb_web_user a left join tb_web_user_seller b on a.user_id=b.user_id where a.user_id=?"/>
    <!-- rcl   100-500_______________________________________________________________________________________________________________________________________ / -->
    <!-- 查询用户 -->
    <sql ID="100" value="select a.valid_mobile,a.valid_email,a.idcard,a.avatar,a.province_id,a.province_id,a.area_id,a.allocate_brand,a.real_name,a.sex,a.qq,a.user_id,a.user_type,a.is_seller,a.login_name,a.login_pwd,a.login_salt,a.trade_accout,a.trade_password,a.is_lock,a.nick,a.last_time,a.last_ip,a.session_uuid,b.check_status from tb_web_user a left join tb_web_user_seller b on a.user_id=b.user_id where a.login_name=?"/>
    <!-- 插入企业用户 -->
    <sql ID="101" value="insert into tb_web_user
    (user_type,is_seller,login_name,login_pwd,login_salt,trade_password,province_id,city_id,area_id,reg_ip,reg_time,last_time,last_ip,session_uuid,balance,freeze_balance,total_balance,relation_uid,credits)values
    (@usertype@,@seller@,@txt_zh@,@txt_pwd@,@login_salt@,@trade_password@,@province@,@city@,@town@,@reg_ip@,@reg_time@,@reg_time@,@reg_ip@,@login_salt@,@balance@,@freeze_balance@,@total_balance@,@rd@,@credits@)"/>
    <!-- 查询插入的用户id -->
    <sql ID="102" value="select user_id,login_name from tb_web_user where login_name=?"/>
    <!-- 更新用户信息 -->
    <sql ID="103" value="update tb_web_user set last_time=@last_time@,session_uuid=@session_uuid@,last_ip=@last_ip@ where user_id=@user_id@"/>
    <!-- 插入企业信息seller-->
    <sql ID="104" value="insert into tb_web_user_seller
(user_id,company,company_english,legaler,legaler_mobile,legaler_phone,contacts,contacts_phone,contacts_fax,postcode,company_address,business_scope,company_website,tax_img,business_img,org_img,company_remark,check_status) values
(@user_id@,@txt_company@,@txt_companyyw@,@txt_frxm@,@txt_sjhm@,@txt_frgddh@,@txt_ywlxr@,@txt_ywdh@,@txt_czhm@,@txt_yzbh@,@txt_jycs@,@txt_jyfw@,@txt_url@,@file_swdj@,@file_yyzz@,@file_zzjg@,@txt_gssm@,0)"/>
    <!-- 根据用户名删除记录-->
    <sql ID="105" value="delete from tb_web_user where login_name=@login_name@"/>
    <!-- 插入普通用户 -->
    <sql ID="106" value="insert into tb_web_user(user_type,login_name,login_pwd,login_salt,trade_password,valid_mobile,valided_mobile,reg_ip,reg_time,last_time,last_ip,session_uuid,balance,freeze_balance,total_balance,relation_uid)
    values(@usertype@,@txt_zh@,@txt_pwd@,@login_salt@,@trade_password@,@txt_zh@,1,@reg_ip@,@reg_time@,@reg_time@,@reg_ip@,@login_salt@,@balance@,@freeze_balance@,@total_balance@,@rd@)"/>
    <sql ID="109" value="select * from tb_order where order_id=? and user_id=?"/>
    <sql ID="110" value="select country_id,address_id,province_id,city_id,area_id,receiver,area_name,town_name,phone,is_default from tb_web_user_address where user_id = ? order by is_default desc,update_time desc "/>
    <!--购物车-->
    <sql ID="111" value="select aa.user_id,aa.goods_id,aa.seller_user_id,aa.company,aa.goods_name,aa.goods_main_img,aa.goods_num,aa.price,aa.property_code,aa.property_json,bb.parts_cate_id,aa.cart_hashcode,aa.cart_uuid,aa.car_property
 from tb_cart aa left join tb_product_online bb on aa.goods_id = bb.goods_id where aa.user_id=@user_id@ order by aa.add_time desc"/>
    <sql ID="119" value="delete from tb_cart where user_id=@user_id@ and goods_id in (@goods_ids@)"/>
    <!--运费模板-->
    <sql ID="112" value="select freight_id,user_id,freight_name,country_id,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated from tb_web_freight where freight_id in (@freight_id1@)"/>
    <sql ID="113" value="select freight_id,user_id,delivery_type,city_ids,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_city where freight_id in (@freight_id2@)"/>
    <sql ID="114" value="select freight_id,user_id,delivery_type,city_ids,city_names,charge_type,designated,first_condition,second_contition from tb_web_freight_city_free where freight_id in (@freight_id3@)"/>
    <sql ID="115" value="select freight_id,user_id,delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_type where freight_id in (@freight_id4@)"/>
    <!-- 产品金额-->
    <sql ID="117" value="select goods_id,goods_name,user_id,goods_main_img,freight_id,weight,volume,price1,snapshot,price3,price4,price5 from tb_product_online where goods_id in (@goods_id@)"/>
    <!--用户类型-->
    <sql ID="118" value="select user_type from tb_web_user where user_id=@user_id@"/>
    <!--发票-->
    <sql ID="120" value="select invoice_id,invoice_name,invoice_type from tb_web_user_invoice where user_id=@user_id@"/>
    <!--用户缓存更新-->
    <sql ID="121" value="select user_id,user_type,valid_mobile,valid_email,is_seller from tb_web_user where user_id = ?"/>
    <!--查询订单产品信息-->
    <sql ID="122" value="select goods_id,goods_name,user_id,goods_main_img,freight_id,weight,store_num,volume,price0,price1,price2,snapshot,snap_status,price3,price4,price5,min_num_3,min_num_4,min_num_5,c_tax_rate,s_tax_rate,is_tax,price_life,sale_limit from tb_product_online where goods_id in (@goods_id@)"/>
    <!--查询产品属性-->
    <sql ID="123" value="select distinct attr_hashcode_1,attr_hashcode_2,price3,price4,price5,store_num,attr_id_1,attr_id_2,price1,price2 from tb_product_sell_price where goods_id = ? "/>
    <!--订单插入-->
    <sql ID="107" value="insert into tb_order(order_id,user_id,user_nick,is_anony,order_time,refer_ip,order_amount,coupon_amount,credits_amount,tax_amount,amounts,is_invoice,invoice_id,receiver,phone,address,country_id,province_id,city_id,area_id) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <sql ID="108" value="insert into tb_order_goods(fee_rate,order_item,order_id,user_id_buyer,order_time,goods_id,user_id,goods_name,goods_main_img,property_ids,property_json,property_code,is_discount,sale_price,discount_price,goods_num,amounts,snapshot,tax,price1,cost_amounts,profit_amounts,credits,price_clazz,car_property) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <sql ID="116" value="insert into tb_order_supplier(fee_free,order_id,user_id_buyer,order_time,user_id_supplier,goods_rec_amount,delivery_type,freight_rec_amount,is_insurance,insurance_amount,tax_amount,order_amount,order_remark) values(?,?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <sql ID="124" value="update tb_product_top set orders=orders+@goods_num@ where goods_id=@goods_id@"/>
    <sql ID="125" value="update tb_product_sell_price set store_num=@store_num@ where goods_id=@goods_id@ @property@"/>
    <sql ID="126" value="update tb_product_online set store_num=? where goods_id=?"/>
    <sql ID="127" value="insert into tb_cart (user_id,goods_id,seller_user_id,company,goods_name,goods_main_img,property_ids,property_json,property_code,goods_num,price,add_time) values(?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <sql ID="128" value="insert into tb_cart (goods_id,seller_user_id,company,goods_name,goods_main_img,property_ids,property_json,property_code,goods_num,price,add_time) values(?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <!--购物车产品信息重载-->
    <sql ID="129" value="select goods_id,parts_cate_id,goods_name,user_id,goods_main_img,freight_id,weight,volume,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,snapshot,store_num,is_lock,c_tax_rate,s_tax_rate,is_tax,price_life,sale_limit from tb_product_online where goods_id in (@goods_id@)"/>
    <sql ID="130" value="select goods_id,store_num,price3,price4,price5 from tb_product_sell_price where goods_id=@goods_id@ @property@"/>
    <sql ID="131" value="delete from tb_cart where  user_id=@user_id@ and cart_uuid in (@cart_uuid@)"/>
    <sql ID="132" value="delete from tb_cart where  user_id=@user_id@"/>
    <sql ID="133" value="insert into tb_cart (user_id,seller_user_id,goods_num,price,goods_id, goods_name,goods_main_img,property_code,property_json,cart_hashcode,cart_uuid,car_property,add_time)
     select @user_id@,user_id,@num@,@price@,goods_id, goods_name,goods_main_img,@property_code@,@property_json@,@cart_hashcode@,@cart_uuid@,@car_property@,now() from tb_product_online where goods_id= @goods_id@ "/>
    <sql ID="134" value="select goods_id,goods_main_img,goods_name,parts_cate_id,price@price@ from tb_product_online where is_lock=0 limit 0,@num@"/>
    <sql ID="135" value="insert into tb_task (task_type,task_obj_id,attr_0) values(?,?,?)"/>
    <sql ID="136" value="update tb_product_online set store_num=0,is_lock=1 where goods_id=?"/>
    <sql ID="137" value="select property_json,goods_num,discount_price from tb_order_goods where order_id=? and goods_id=?"/>
    <sql ID="138" value="select invoice_type from tb_web_user_invoice where invoice_id=@invoice_id@ "/>
    <sql ID="139" value="select allocate_on,allocate_object,allocate_brand from tb_web_user where user_id=?"/>
    <sql ID="140" value="select fee_rate from tb_web_user where user_id=@user_id@"/>
    <sql ID="141" value="update tb_product_online set sort_value=@sort_value@ where goods_id=@goods_id@"/>
    <sql ID="142" value="select * from tb_order where order_id=?"/>
    <sql ID="143" value="select * from tb_order where order_status=2 and task_statu=0"/>
    <sql ID="144" value="update tb_order set task_statu=1 where FIND_IN_SET(order_id,?)"/>
    <sql ID="145" value="insert into test_user (auname,sex) values(?,?)"/>
    <sql ID="146" value="update tb_order_goods set snapshot=? where snapshot=?"/>
    <sql ID="147" value="insert into test_user (uname,sex) values(?,?)"/>
    <sql ID="148" value="UPDATE mt_order_appointment set is_enable=0 where is_enable=1 and (update_time+?)＜current_timestamp"/>
    <sql ID="149" value="update mt_order_appointment set is_enable=3 where find_in_set(order_id,?)"/>
    <sql ID="150" value="SELECT aa.*,bb.order_id from mt_appointment_statistics aa LEFT JOIN mt_order_appointment bb on (aa.appointment_date=bb.appointment_date and aa.appointment_part=bb.appointment_part and aa.user_id=bb.user_id and aa.son_user_id=bb.son_user_id) where  find_in_set(bb.order_id,?)"/>
    <sql ID="151" value="update mt_appointment_statistics set used=used+1 where appointment_date=? and appointment_part=? and user_id=? and son_user_id=?"/>
    <sql ID="152" value="insert into mt_appointment_statistics (appointment_date,appointment_part,user_id,son_user_id,used) values (?,?,?,?,?) "/>
    <sql ID="153" value="select * from mt_order_appointment where is_enable=2"/>
    <sql ID="154" value="select dd.user_type,aa.*,(select pp.provincename from tb_province pp where pp.provinceid = dd.province_id)as province,(select yy.cityname from tb_city yy where yy.cityid =dd.city_id)as city,(select zz.areaname from tb_area zz where zz.areaid=dd.area_id)as area from tb_product_online aa left join tb_web_user dd on aa.user_id = dd.user_id where  find_in_set(goods_id,?) "/>
    <sql ID="155" value="SELECT  aa.attr_hashcode,bb.attr_name,bb.attr_value,bb.attr_hashcode as attr_hashcode1 from tb_goods_property aa LEFT JOIN tb_attribute bb on aa.attr_id=bb.attr_id where aa.goods_id=?"/>
    <sql ID="156" value="select * from tb_parts_category where  find_in_set(parts_cate_id,?)"/>
    <sql ID="157" value="select aa.snapshot as orderSnap,aa.car_property,aa.property_json,aa.amounts,aa.goods_id as orderGoodsId,aa.user_id as orderUid,aa.sale_price,bb.* from tb_order_goods aa left join tb_product_online bb on (aa.goods_id=bb.goods_id) where aa.order_id=?"/>
    <sql ID="158" value="update  tb_web_user set nick='aa' where user_id=@user_id@"/>
    <sql ID="159" value="select * from tb_balance_task where find_in_set(balance_uuid,?)"/>
    <sql ID="160" value="select user_id,login_salt,balance_num,balance,total_balance from tb_web_user where user_id = ?"/>
    <sql ID="161" value="update tb_web_user set balance=?,total_balance=?,freeze_balance=?,balance_num=balance_num+1 where balance_num=? and user_id=?"/>
    <sql ID="162" value="update tb_balance_task set statu=1 where balance_uuid=?"/>


    <!-- xyw   500-1000_______________________________________________________________________________________________________________________________________ / -->
    <!--通过车型查询 车辆型号-->
    <sql ID="502" value="select car_model_id,brand_id,car_model_name from tb_car_model where find_in_set(?,car_model_no)"/>
    <!--通过车辆型号查询 年份-->
    <sql ID="503" value="select distinct manufacture_year from tb_car_conf where car_model_id = ?"/>
    <!--通过车辆型号查询 品牌-->
    <sql ID="504" value="select brand_id,brand_name from tb_car_brand where brand_id = ?"/>
    <!--通过车辆型号、年份查询 年份配置-->
    <sql ID="505" value="select car_conf_id,car_conf_name from tb_car_conf where car_model_id = ? and manufacture_year = ?"/>
    <!--查询汽车品牌-->
    <sql ID="506" value="select brand_id,brand_name,brand_sp from tb_car_brand"/>
    <!--查询配件分类-->
    <sql ID="507" value="select parts_cate_id,parts_cate_name,parts_cate_parent from tb_parts_category where is_lock = 0 and parts_cate_parent = ?"/>
    <!--查询配件品牌-->
    <sql ID="508" value="select parts_brand_id, parts_brand_name from tb_parts_brand  where find_in_set(?,parts_cate_id)"/>
    <!--查询车辆型号-->
    <sql ID="509" value="select car_model_id,car_model_name from tb_car_model where brand_id = ?"/>
    <!--查询配件信息-->
    <sql ID="510" value="select parts_cate_id,parts_cate_name,parts_cate_parent from tb_parts_category where is_lock = 0 and parts_cate_id  = ?"/>


    <!-- rll  1001-1500 _______________________________________________________________________________________________________________________________________ / -->
    <!-- 配件第1层 -->
    <sql ID="1001" value="select parts_cate_id,parts_cate_name from tb_parts_category where is_lock = 0 and (parts_cate_id%@firstLev@=0)"/>
    <!-- 配件第2层-->
    <sql ID="1002" value="select parts_cate_id,parts_cate_name from tb_parts_category where is_lock = 0 and parts_cate_id%100=0 and parts_cate_id＞@parentLev@ and parts_cate_id＜=(@parentLev@+9900)"/>
    <!-- 配件第3层-->
    <sql ID="1003" value="select parts_cate_id,parts_cate_name from tb_parts_category where is_lock = 0 and parts_cate_id＞@parentLev@ and parts_cate_id＜=(@parentLev@+99)"/>
    <!-- 汽车品牌-->
    <sql ID="1006" value="select brand_id,brand_name from tb_car_brand where is_lock = 0 "/>
    <!-- 汽车型号-->
    <sql ID="1007" value="select car_model_id,car_model_name from tb_car_model where is_lock = 0 and brand_id = @parentId@"/>
    <!-- 配件品牌-->
    <sql ID="1008" value="select parts_brand_id,parts_brand_name from tb_parts_brand where is_lock = 0 and FIND_IN_SET(@partsCateId@,parts_cate_id)"/>
    <!-- 右侧刷新-->
    <sql ID="1009" value="select buy_offer_id,parts_cate_id,start_time,buy_name,buy_describe,buy_num,expected_time,offer_sum,user_id,user_name,province_name,city_name from tb_buy_offer where buy_status = 0 and end_time ＞= NOW() @where@ order by buy_offer_id desc limit 0,60"/>
    <!-- 求购上方数据提交-->
    <sql ID="1010" value="insert into tb_buy_offer(buy_name,buy_describe,parts_cate_id,parts_brand_id,car_model_id,vin_no,img_parts,buy_num,user_name,phone,email,province_id,province_name,city_id,city_name,start_time,end_time,manufacture_year,expected_time,user_id,buy_status)VALUES(@qgbt@,@pjDescrib@,@pjlxId@,@pjppId@,@qcppId@,@cjh@,@tpsc@,@qgsl@,@qgxm@,@qgdh@,@qgem@,@sfId@,@sfName@,@csId@,@csName@,@start_time@,@end_time@,@clnk@,@expected_time@,@user_id@,4) "/>
    <!-- 买家中心User-->
    <sql ID="1011" value="select nick, rank, balance, credits, valided_mobile, valided_email,avatar from tb_web_user where user_id = ? "/>
    <!-- 买家中心个人资料查询-->
    <sql ID="1012" value="select nick, sex, valid_mobile, valid_email, real_name, province_id, city_id, area_id, brand_id, car_model_id, car_conf_id, qq, wechat_id,buy_date,vin from tb_web_user where user_id = ? "/>
    <!-- 买家中心账户安全查询上-->
    <sql ID="1013" value="select valid_mobile, valided_mobile, valid_email, valided_email, idcard, valided_idcard, trade_accout, last_time from tb_web_user where user_id = ? "/>
    <!-- 买家个人资料更新-->
    <sql ID="1014" value="update tb_web_user set nick=@nick@,real_name=@real_name@,province_id=@province_id@,city_id=@city_id@,area_id=@area_id@,sex=@sex@ where user_id=@user_id@"/>
    <!-- 买家中心账户安全查询下-->
    <sql ID="1015" value="select valided_idcard from tb_web_user where user_id = ? "/>
    <!-- 买家中心地址管理查询-->
    <sql ID="1016" value="select address_id,receiver,province_id,city_id,area_id,area_name,town_name,phone from tb_web_user_address where user_id = ? order by is_default desc,update_time desc "/>
    <!-- 买家中心地址管理删除-->
    <sql ID="1017" value="delete from tb_web_user_address where address_id = @addressId@"/>
    <!-- 买家中心地址管理修改查询-->
    <sql ID="1018" value="select receiver,province_id,city_id,area_id,town_name,phone from tb_web_user_address where address_id = ? "/>
    <!-- 买家中心地址管理修改更新-->
    <sql ID="1019" value="update tb_web_user_address set receiver=@receiver@,province_id=@province_id@,city_id=@city_id@,area_id=@area_id@,town_name=@town_name@,phone=@phone@,area_name=@area_name@ where address_id=@address_id@"/>
    <!-- 买家中心地址管理默认-->
    <sql ID="1020" value="update tb_web_user_address set is_default = 1 , update_time = now() where address_id = @addressId@"/>
    <!-- 买家中心地址管理保存-->
    <sql ID="1021" value="INSERT into tb_web_user_address(user_id,receiver,country_id,province_id,city_id,area_id,area_name,town_name,phone,is_default,update_time) values(@user_id@,@receiver@,@country_id@,@province_id@,@city_id@,@area_id@,@area_name@,@town_name@,@phone@,@is_default@,now())"/>
    <!-- 买家中心账户安全修改密码-->
    <sql ID="1022" value="select login_pwd,login_salt,trade_password from tb_web_user where user_id = @user_id@"/>
    <!-- 买家中心账户安全修改密码-->
    <sql ID="1023" value="update tb_web_user set login_pwd=@newPwd@ where user_id = @user_id@"/>
    <!-- 买家中心验证邮箱-->
    <sql ID="1024" value="update tb_web_user set valided_email = 1 where user_id = @userId@"/>
    <!-- 买家中心我的积分-->
    <sql ID="1025" value="select user_id,order_id,credits,credit_remark,credit_time from tb_web_user_credits where user_id = ? order by credit_time desc "/>
    <!-- 买家中心账户安全保存邮箱-->
    <sql ID="1027" value="update tb_web_user set valid_email = @valid_email@ where user_id = @user_id@ "/>
    <!-- 买家中心收藏夹查询-->
    <sql ID="1028" value="select bb.goods_id,bb.goods_name,bb.shop_price,bb.user_price,bb.store_num,bb.join_time,bb.goods_main_img,aa.is_sale_property,aa.parts_cate_id,aa.sale_limit,aa.user_id from (select user_id,is_sale_property,goods_id,parts_cate_id,sale_limit from tb_product_online where is_lock = 0 ) aa left join tb_web_favorites bb on aa.goods_id = bb.goods_id where bb.user_id = ? and is_sale ＞= ? and is_sale ＜= 1 and store_num ＜  ? "/>
    <!-- 买家中心收藏夹删除-->
    <sql ID="1029" value="delete from tb_web_favorites where goods_id in (@goods_id@) and user_id = @user_id@"/>
    <!-- 买家中心红包 可用-->
    <sql ID="1030" value="select coupon_sn,coupon_money,start_time,end_time,min_money,used_time from tb_web_coupon where  is_used = 0 and user_id = ? and TO_DAYS(NOW())-TO_DAYS(end_time) ＜= 0 order by start_time desc"/>
    <!-- 买家中心红包 已用-->
    <sql ID="1031" value="select coupon_sn,coupon_money,start_time,end_time,min_money,used_time from tb_web_coupon where  is_used = 1 and user_id = ? order by start_time desc"/>
    <!-- 买家中心红包 过期-->
    <sql ID="1032" value="select coupon_sn,coupon_money,start_time,end_time,min_money,used_time from tb_web_coupon where  TO_DAYS(NOW())-TO_DAYS(end_time) ＞ 0 and is_used = 0 and user_id = ? order by start_time desc"/>
    <!-- 买家中心红包 可用-->
    <sql ID="1033" value="select coupon_sn,coupon_money,start_time,end_time,min_money,used_time from tb_web_coupon where  is_used = 0 and user_id = ? and TO_DAYS(NOW())-TO_DAYS(end_time) ＜ 0 order by end_time desc"/>
    <!-- 买家中心红包 已用-->
    <sql ID="1034" value="select coupon_sn,coupon_money,start_time,end_time,min_money,used_time from tb_web_coupon where  is_used = 1 and user_id = ? order by end_time desc"/>
    <!-- 买家中心红包 过期-->
    <sql ID="1035" value="select coupon_sn,coupon_money,start_time,end_time,min_money,used_time from tb_web_coupon where  TO_DAYS(NOW())-TO_DAYS(end_time) ＞ 0 and user_id = ? order by end_time desc"/>
    <!-- 买家中心首页收藏-->
    <sql ID="1036" value="select bb.goods_id,bb.goods_name,bb.shop_price,bb.user_price,bb.store_num,bb.join_time,bb.goods_main_img,aa.parts_cate_id from (select is_sale_property,goods_id,parts_cate_id from tb_product_online where is_lock = 0 ) aa left join tb_web_favorites bb on aa.goods_id = bb.goods_id where bb.user_id = ? order by bb.join_time desc "/>
    <!-- 买家中心首页收藏统计促销-->
    <sql ID="1037" value="select count(*) as number from tb_web_favorites where user_id = ? and is_sale = 1"/>
    <!-- 买家中心首页收藏统计库存jz-->
    <sql ID="1038" value="select count(*) as number from tb_web_favorites where user_id = ? and store_num ＜ 50"/>
    <!-- 买家中心首页红包可用-->
    <sql ID="1039" value="select count(*) as number from tb_web_coupon where  is_used = 0 and user_id = ? and TO_DAYS(NOW())-TO_DAYS(end_time) ＜ 0"/>
    <!-- 买家中心首页红包快gq-->
    <sql ID="1040" value="select count(*) as number from tb_web_coupon where  is_used = 0 and user_id = ? and (TO_DAYS(NOW())-TO_DAYS(end_time)) ＜= 0 and (TO_DAYS(NOW())-TO_DAYS(end_time)) ＞= -7"/>
    <!-- 买家中心所有订单-->
    <sql ID="1041" value="select order_id,order_time,is_invoice from tb_order where user_id = ? order by order_id desc limit ?,? "/>
    <!-- 买家中心订单商品-->
    <sql ID="1042" value="select bb.order_id,bb.amounts,bb.order_status,bb.is_buyer_reviews,aa.goods_id,aa.goods_name,aa.sale_price,aa.discount_price,aa.goods_num,aa.goods_main_img,aa.property_json,aa.refund_status,aa.car_property,aa.`snapshot` from tb_order_goods aa left join tb_order bb on aa.order_id = bb.order_id where bb.user_id = ? and bb.order_id = ? order by aa.order_item "/>
    <!-- 买家中心待付款订单-->
    <sql ID="1043" value="select order_id,order_time,is_invoice from tb_order where user_id = ? and order_status = 0 order by order_id desc limit ?,? "/>
    <!-- 买家中心待发货订单-->
    <sql ID="1044" value="select order_id,order_time,is_invoice from tb_order where user_id = ? and order_status = 1 order by order_id desc limit ?,? "/>
    <!-- 买家中心待收货订单-->
    <sql ID="1045" value="select order_id,order_time,is_invoice from tb_order where user_id = ? and order_status = 2 order by order_id desc limit ?,? "/>
    <!-- 买家中心待评价订单-->
    <sql ID="1046" value="select order_id,order_time,is_invoice from tb_order where user_id = ? and order_status = 3 and is_buyer_reviews = 0 order by order_id desc limit ?,? "/>
    <!-- 买家中心已结束订单-->
    <sql ID="1047" value="select order_id,order_time,is_invoice from tb_order where user_id = ? and order_status = 3 and is_buyer_reviews = 1 order by order_id desc limit ?,? "/>
    <!-- 买家中心订单-->
    <sql ID="1048" value="select count(*) as number from tb_order where user_id = ? "/>
    <!-- 买家中心订单-->
    <sql ID="1049" value="select count(*) as number from tb_order where user_id = ? and order_status = 0 "/>
    <!-- 买家中心订单-->
    <sql ID="1050" value="select count(*) as number from tb_order where user_id = ? and order_status = 1 "/>
    <!-- 买家中心订单-->
    <sql ID="1051" value="select count(*) as number from tb_order where user_id = ? and order_status = 2 "/>
    <!-- 买家中心订单-->
    <sql ID="1052" value="select count(*) as number from tb_order where user_id = ? and order_status = 3 and is_buyer_reviews = 0 "/>
    <!-- 买家中心订单-->
    <sql ID="1053" value="select count(*) as number from tb_order where user_id = ? and order_status = 3 and is_buyer_reviews = 1 "/>
    <!-- 买家中心待评价-->
    <sql ID="1054" value="select order_id,goods_name,credits,buy_time from tb_web_goods_reviews where user_id = ? and is_reviews = 0 order by order_id "/>
    <!-- 买家中心评价-->
    <sql ID="1055" value="select bb.goods_name,bb.goods_id,bb.goods_img,bb.credits,bb.buy_time from tb_order  aa left join  tb_web_goods_reviews  bb on aa.order_id = bb.order_id where bb.user_id = ? and bb.order_id = ? and bb.is_reviews = 0 and aa.order_status = 3 order by bb.goods_id "/>
    <!-- 买家中心评价提示标签-->
    <sql ID="1056" value="select reviews_mark_id,reviews_mark_name,count(*) as num from tb_web_goods_mark  where goods_id = ? group by reviews_mark_id order by num desc limit 0,10 "/>
    <!-- 买家中心评价下拉标签-->
    <sql ID="1057" value="select reviews_mark_id,reviews_mark_name from tb_reviews_mark where reviews_mark_name like @reviewName@ or reviews_mark_py like @reviewName@ limit 0,10 "/>
    <!-- 买家中心评价id最大值-->
    <sql ID="1058" value="select reviews_mark_id from tb_reviews_mark order by reviews_mark_id desc limit 0,1 "/>
    <!-- 买家中心评价添加按钮添加-->
    <sql ID="1059" value="insert into tb_reviews_mark(reviews_mark_name) VALUES(@reviews_mark_name@) "/>
    <!-- 买家中心评价点击删除-->
    <sql ID="1060" value="delete from tb_reviews_mark where reviews_mark_id = @reviews_mark_id@ "/>
    <!-- 买家中心评价点击添加-->
    <sql ID="1061" value="insert into tb_web_goods_mark values(@goods_id@,@reviews_mark_id@,@reviews_mark_name@) "/>
    <!-- 买家中心评价提交-->
    <sql ID="1062" value="update tb_web_goods_reviews set is_reviews = 1, reviews_mark_ids = @reviews_mark_ids@, global_score = @global_score@, desc_score = @desc_score@, service_score = @service_score@, shipments_score = @shipments_score@, logistics_score = @logistics_score@, courier_score = @courier_score@, is_anonymous = @is_anonymous@ ,detail_reviews = @detail_reviews@,is_image = @is_image@, image_reviews = @image_reviews@, reviews_time = NOW() where order_id = @order_id@ and goods_id = @goods_id@ and is_reviews = 0 "/>
    <!-- 买家中心评价提交 积分记录表-->
    <sql ID="1063" value="insert into tb_web_user_credits values(@user_id@,@order_id@,@credits@,@credit_remark@,NOW()) "/>
    <!-- 买家中心评价提交 用户积分更新-->
    <sql ID="1066" value="update tb_web_user  aa set aa.credits = (aa.credits + IFNULL((select cc.credits from tb_web_goods_reviews  cc where cc.user_id = @user_id@ and cc.order_id = @order_id@ and cc.goods_id = @goods_id@ ),0)) where aa.user_id = @user_id@ "/>
    <!-- 买家中心评价提交 订单状态更新-->
    <sql ID="1067" value="update tb_order set is_buyer_reviews = 1 where order_id = @order_id@ and user_id = @user_id@"/>
    <!-- 买家中心我的评价 已评-->
    <sql ID="1068" value="select detail_reviews,goods_name,order_id,credits,reviews_time from tb_web_goods_reviews where user_id = ? and is_reviews = 1 order by reviews_time desc "/>
    <!-- 买家中心我的评价 卖评-->
    <sql ID="1069" value="select reply_content,reply_time,order_id,goods_name,seller_user_id,reply_score from tb_web_goods_reviews where user_id = ? and order_id in (select order_id from tb_order where user_id = ? and is_seller_reviews = 1)"/>
    <!-- 买家中心我的评价 卖家昵称-->
    <sql ID="1070" value="select nick from tb_web_user where user_id = ? and is_seller = 1"/>
    <!-- 买家中心我的咨询-->
    <sql ID="1071" value="select consult_id,goods_name,consult_content,reply_content,reply_time,consult_time,satisfaction from tb_web_consult where user_id = ? and consult_status = 1 order by consult_time desc "/>
    <!-- 无 -->
    <sql ID="1072" value=" "/>
    <!-- 无 -->
    <sql ID="1073" value="select goods_main_img,goods_id,goods_name,price3 from tb_product_online where is_lock = 0 and find_in_set(?,brand_ids) and find_in_set(?,car_model_ids) and find_in_set(?,car_conf_ids) "/>
    <!-- 无 -->
    <sql ID="1074" value="select goods_main_img,goods_id,goods_name,price3 from tb_product_online where is_lock = 0 and find_in_set(?,brand_ids) and mfg_no = ? "/>
    <!-- 运费查询 -->
    <sql ID="1075" value="select freight_rec_amount,freight_extra_amount,order_amount from tb_order_supplier where user_id_buyer = ? and order_id = ? "/>
    <!-- 商品详情页 关联产品 -->
    <sql ID="1076" value="select goods_id,goods_name,price2,price@priceType@,goods_main_img,parts_cate_id from tb_product_online where is_lock = 0 and parts_cate_id = @parts_cate_id@ order by update_time desc limit 20 "/>
    <!-- 评论后更新top表trades -->
    <sql ID="1077" value="update tb_product_top set trades = trades+1, goods=(case WHEN @global_score@＞3 THEN goods+1 else goods end), mediums =(case WHEN @global_score@=3 THEN mediums+1 ELSE mediums end),bads = (case WHEN @global_score@＜3 THEN bads+1 ELSE bads end)  where goods_id = @goods_id@ "/>
    <!-- 商品详情页 总评论 -->
    <sql ID="1078" value="select a.order_id,a.buy_time,a.global_score,a.reviews_mark_ids,a.detail_reviews,a.reviews_time,a.is_anonymous,a.used_num,a.user_id,a.specifications,a.image_reviews,b.nick,b.avatar from tb_web_goods_reviews  a left join tb_web_user  b on a.user_id = b.user_id where a.goods_id = ?  and a.is_reviews = 1 order by buy_time desc limit ?,? "/>
    <!-- 商品详情页 总评论条数 -->
    <sql ID="1079" value="select count(*) as num from tb_web_goods_reviews  a where a.goods_id = @goods_id@ and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 商品详情页 好评 4，5  中评 3 差评 1，2-->
    <sql ID="1080" value="select a.order_id,a.buy_time,a.global_score,a.reviews_mark_ids,a.detail_reviews,a.reviews_time,a.is_anonymous,a.used_num,a.user_id,a.specifications,a.image_reviews,b.nick,b.avatar from tb_web_goods_reviews  a left join tb_web_user  b on a.user_id = b.user_id where a.goods_id = ? and a.global_score in(?,?) and a.is_reviews = 1 order by buy_time desc limit ?,? "/>
    <!-- 无 -->
    <sql ID="1081" value="select count(*) as num from tb_web_goods_reviews  a where a.goods_id = @goods_id@ and a.global_score in(@scoreF@,@scoreE@) order by buy_time desc "/>
    <!-- 商品详情页 评论标签 -->
    <sql ID="1082" value="select reviews_mark_name from tb_reviews_mark where reviews_mark_id in (?) "/>
    <!-- 商品详情页 好评条数 -->
    <sql ID="1083" value="select count(*) as num from tb_web_goods_reviews  a where a.goods_id = @goods_id@ and a.global_score in(@scoreF_1@,@scoreE_1@) and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 商品详情页 中评条数 -->
    <sql ID="1084" value="select count(*) as num from tb_web_goods_reviews  a where a.goods_id = @goods_id@ and a.global_score in(@scoreF_2@,@scoreE_2@) and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 商品详情页 差评条数 -->
    <sql ID="1085" value="select count(*) as num from tb_web_goods_reviews  a where a.goods_id = @goods_id@ and a.global_score in(@scoreF_3@,@scoreE_3@) and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 商品详情页 晒单条数 -->
    <sql ID="1086" value="select count(*) as num from tb_web_goods_reviews  a where a.goods_id = @goods_id@ and a.is_image = 1 and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 商品详情页 晒单 -->
    <sql ID="1087" value="select a.order_id,a.buy_time,a.global_score,a.reviews_mark_ids,a.detail_reviews,a.reviews_time,a.is_anonymous,a.used_num,a.user_id,a.specifications,a.image_reviews,b.nick,b.avatar from tb_web_goods_reviews  a left join tb_web_user  b on a.user_id = b.user_id where a.goods_id = ? and a.is_image = 1 and a.is_reviews = 1 order by buy_time desc limit ?,? "/>
    <!-- 商品详情页 咨询 -->
    <sql ID="1088" value="insert into tb_web_consult(goods_id,goods_name,consult_type,consult_content,user_id,is_email,consult_time,email) values(@goods_id@,@goods_name@,@consult_type@,@consult_content@,@user_id@,@is_email@,NOW(),@email@) "/>
    <!-- 商品详情页 有用数 -->
    <sql ID="1089" value="update tb_web_goods_reviews set used_num = used_num+1 where order_id = @order_id@ and goods_id = @goods_id@ "/>
    <!-- 商品详情页 价格 2参数-->
    <sql ID="1090" value="select distinct attr_hashcode_1,attr_hashcode_2,price@userType@ from tb_product_sell_price where goods_id = @goods_id@ and attr_hashcode_1 = @cod1@ and attr_hashcode_2 = @cod2@ "/>
    <!-- 商品详情页 价格 1参数-->
    <sql ID="1091" value="select distinct attr_hashcode_1,price@userType@ from tb_product_sell_price where goods_id = @goods_id@ and attr_hashcode_1 = @cod1@ "/>
    <!-- 商品详情页 价格 0参数-->
    <sql ID="1092" value="select distinct attr_hashcode_1,attr_hashcode_2,price@userType@ from tb_product_sell_price where goods_id = @goods_id@ "/>
    <!-- 会员中心 汽车款式-->
    <sql ID="1093" value="select car_conf_id,car_conf_name from tb_car_conf where car_model_id = @parentId@"/>
    <!-- 会员中心 更新更多信息-->
    <sql ID="1094" value="update tb_web_user set brand_id= @brand_id@,car_model_id=@car_model_id@,car_conf_id=@car_conf_id@,qq=@qq@,wechat_id=@wechat_id@ where user_id = @user_id@"/>
    <!-- 会员中心 企业会员-->
    <sql ID="1095" value="select a.legaler,a.legaler_mobile,a.legaler_phone,a.company,a.company_english,b.province_id,b.city_id,b.area_id,b.user_type,a.postcode,a.company_address,a.business_scope,a.company_website,a.reg_money,a.company_remark,a.contacts,a.contacts_phone,a.contacts_fax,b.nick,b.sex,b.valid_mobile,b.real_name,b.brand_id, b.car_model_id, b.car_conf_id, b.qq, b.wechat_id,b.buy_date,b.vin from  tb_web_user  b left join tb_web_user_seller  a on a.user_id = b.user_id where b.user_id = ? "/>
    <!-- 会员中心 企业会员更新基本信息-->
    <sql ID="1096" value="update tb_web_user_seller set legaler = @legaler@,legaler_mobile = @legaler_mobile@ ,legaler_phone = @legaler_phone@ ,company = @company@ ,company_english = @company_english@ ,postcode = @postcode@ ,company_address = @company_address@ ,business_scope = @business_scope@ ,company_website = @company_website@ ,reg_money = @reg_money@ ,company_remark = @company_remark@ ,contacts = @contacts@ ,contacts_phone = @contacts_phone@ ,contacts_fax = @contacts_fax@  where user_id = @user_id@"/>
    <!-- 会员中心 企业会员更新基本信息-->
    <sql ID="1097" value="update tb_web_user set province_id = @province_id@, city_id = @city_id@, area_id = @area_id@ where user_id = @user_id@"/>
    <!-- 会员中心 企业会员更新图片信息-->
    <sql ID="1098" value="update tb_web_user_seller set tax_img = @tax_img@, business_img = @business_img@, org_img = @org_img@ where user_id = @user_id@ "/>
    <!-- 会员中心 个人会员更新头像-->
    <sql ID="1099" value="update tb_web_user set avatar = @avatar@ where user_id = @user_id@ "/>
    <!-- 商品详情  销售属性 价格 库存 -->
    <sql ID="1100" value="select distinct b.attr_hashcode_1, b.attr_hashcode_2, b.price@priceType@ as bPrice, b.store_num from tb_product_sell_price  b  where b.goods_id = @goods_id@ "/>
    <!-- 商品详情 价格、最小个数、相应库存 -->
    <sql ID="1101" value="select price@priceType@, store_num, min_num_@priceType@ from tb_product_online where is_lock = 0 and goods_id = @goods_id@ "/>
    <!-- 会员中心 验证邮箱-->
    <sql ID="1102" value="update tb_web_user set valided_email = 1, valid_email = @valid_email@ where user_id = @user_id@ "/>
    <!-- 会员中心 更新身份证-->
    <sql ID="1103" value="update tb_web_user set idcard = @idcard@, idcard_front_img = @idcard_front_img@, idcard_back_img = @idcard_back_img@ where user_id = @user_id@ "/>
    <!-- 会员中心 查询身份证图片-->
    <sql ID="1104" value="select idcard_front_img,idcard_back_img from tb_web_user where user_id = @user_id@ "/>
    <!-- 会员中心 验证手机-->
    <sql ID="1105" value="update tb_web_user set valid_mobile = @valid_mobile@, valided_mobile = 1 where user_id = @user_id@ "/>
    <!-- 会员中心 支付账号-->
    <sql ID="1106" value="update tb_web_user set trade_accout = @trade_accout@ where user_id = @user_id@ "/>
    <!-- 会员中心 支付密码修改-->
    <sql ID="1107" value="update tb_web_user set trade_password = @trade_password@ where user_id = @user_id@ "/>
    <!-- 会员中心 支付密码查询-->
    <sql ID="1108" value="select user_id,trade_password,valid_mobile,valid_email from tb_web_user where user_id = ? "/>
    <!-- 会员中心 提现银行卡查询-->
    <sql ID="1109" value="select count(*) as num from tb_user_bank_card where user_id = ? and advance_default = 1 and is_deleted = 0 "/>
    <!-- 会员中心 借记银行卡查询-->
    <sql ID="1110" value="select aa.card_type,aa.account_no,aa.verify_status,bb.bank_name,bb.bank_ico from tb_user_bank_card aa left join tb_bank bb on aa.bank_id=bb.bank_id where aa.user_id = ? and aa.card_type = 10 and aa.is_deleted = 0 "/>
    <!-- 会员中心 更新提现银行卡-->
    <sql ID="1111" value="update tb_user_bank_card set advance_default = 1,update_time = NOW() where user_id = @user_id@ and account_no = @account_no@ "/>
    <!-- 会员中心 添加提现银行卡-->
    <sql ID="1112" value="insert into tb_user_bank_card(user_id,bank_id,account_type,card_type,account_name,province_id,city_id,town_id,area_name,bank_full_name,account_no,mobile,advance_default,create_time)
     values(@user_id@,@bank_id@,@account_type@,@card_type@,@account_name@,@province_id@,@city_id@,@town_id@,@area_name@,@bank_full_name@,@account_no@,@mobile@,1,NOW())"/>
    <!-- 查询重复邮箱 -->
    <sql ID="1113" value="select count(*) as num from tb_web_user where valid_email = ? "/>
    <!-- 查询重复手机 -->
    <sql ID="1114" value="select count(*) as num from tb_web_user where valid_mobile = ? "/>
    <!-- 注册后发送账号密码 -->
    <sql ID="1115" value="select login_name,login_pwd,login_salt  from tb_web_user where user_id = ? "/>
    <!-- 会员中心 个人资料 企业 -->
    <sql ID="1116" value="update tb_web_user_seller set contacts= @contacts@, contacts_phone= @contacts_phone@, contacts_fax= @contacts_fax@, company= @company@, company_english = @company_english@, company_address= @company_address@,legaler= @legaler@,legaler_phone= @legaler_phone@,legaler_mobile= @legaler_mobile@,postcode= @postcode@,business_scope= @business_scope@,company_website= @company_website@,reg_money= @reg_money@,company_remark= @company_remark@,tax_img= @tax_img@,business_img= @business_img@,org_img= @org_img@ where user_id = @user_id@ "/>
    <!-- 会员中心 个人资料 个人 -->
    <sql ID="1117" value="update tb_web_user set nick=@nick@,sex=@sex@,real_name=@real_name@,province_id= @province_id@, city_id= @city_id@, area_id= @area_id@,avatar=@avatar@,brand_id=@brand_id@,car_model_id=@car_model_id@,car_conf_id=@car_conf_id@,qq=@qq@,wechat_id=@wechat_id@,vin=@vin@,buy_date=@buy_date@ where user_id = @user_id@ "/>
    <!-- 会员中心 个人资料 个人头像 -->
    <sql ID="1118" value="select avatar from tb_web_user where user_id = @user_id@ "/>
    <!-- 会员中心 个人资料 证件 -->
    <sql ID="1119" value="select tax_img,business_img,org_img from tb_web_user_seller where user_id = @user_id@ "/>
    <!-- 会员中心 申请成为卖家 -->
    <sql ID="1120" value="select is_seller from tb_web_user where user_id = ? "/>
    <!-- 会员中心 是否已有支付账号 -->
    <sql ID="1121" value="select trade_accout from tb_web_user where user_id = ? "/>
    <!-- 成为卖家 查找所在地 -->
    <sql ID="1122" value="select province_id,city_id,area_id from tb_web_user where user_id = ? "/>
    <!-- 成为卖家 更新is_seller -->
    <sql ID="1123" value="update tb_web_user set is_seller = 1, user_type = @usertype@, province_id = @province_id@, city_id = @city_id@, area_id = @area_id@ where user_id =  @user_id@ "/>
    <!-- 成为卖家 更新seller表 -->
    <sql ID="1124" value="update tb_web_user_seller set contacts= @txt_ywlxr@, contacts_phone= @txt_ywdh@, contacts_fax= @txt_czhm@, company= @txt_company@, company_english = @txt_companyyw@, company_address= @txt_jycs@,legaler= @txt_frxm@,legaler_phone= @txt_frgddh@,legaler_mobile= @txt_sjhm@,postcode= @txt_yzbh@,business_scope= @txt_jyfw@,company_website= @txt_url@,company_remark= @txt_gssm@,tax_img= @file_swdj@,business_img= @file_yyzz@,org_img= @file_zzjg@ where user_id = @user_id@ "/>
    <!-- 买家中心 账户安全 修改支付密码-->
    <sql ID="1125" value="update tb_web_user set trade_password=@newPwd@ where user_id = @user_id@"/>
    <!-- 已购买商品 查询parts_cate_id -->
    <sql ID="1126" value="select parts_cate_id from tb_product_online where is_lock = 0 and goods_id = ? "/>
    <!-- 忘记密码 账号存在-->
    <sql ID="1127" value="select count(*) as num from tb_web_user where login_name = ? "/>
    <!-- 忘记密码 邮箱手机-->
    <sql ID="1128" value="select login_name,valid_email,valid_mobile from tb_web_user where login_name = ? "/>
    <!-- 忘记密码 查询salt-->
    <sql ID="1129" value="select login_salt from tb_web_user where login_name = ? "/>
    <!-- 忘记密码 修改密码-->
    <sql ID="1130" value="update tb_web_user set login_pwd = @login_pwd@ where login_name = @login_name@ "/>
    <!-- 商品详情 价格3 -->
    <sql ID="1131" value="select store_num,price3,min_num_3 from tb_product_online where is_lock = 0 and goods_id = @goods_id@ "/>
    <!-- 商品详情 价格4 -->
    <sql ID="1132" value="select store_num,price3,min_num_3,price4,min_num_4 from tb_product_online where is_lock = 0 and goods_id = @goods_id@ "/>
    <!-- 商品详情 价格5 -->
    <sql ID="1133" value="select store_num,price3,min_num_3,price4,min_num_4,price5,min_num_5 from tb_product_online where is_lock = 0 and goods_id = @goods_id@ "/>
    <!-- 商品详情 价格3销售属性 -->
    <sql ID="1134" value="select distinct b.attr_hashcode_1, b.attr_hashcode_2, b.price2, b.price3, b.store_num from tb_product_sell_price  b  where b.goods_id = @goods_id@ "/>
    <!-- 商品详情  价格4销售属性 -->
    <sql ID="1135" value="select distinct b.attr_hashcode_1, b.attr_hashcode_2, b.price2, b.price3, b.store_num,b.price4 from tb_product_sell_price  b  where b.goods_id = @goods_id@ "/>
    <!-- 商品详情  价格5销售属性 -->
    <sql ID="1136" value="select distinct b.attr_hashcode_1, b.attr_hashcode_2, b.price2, b.price3, b.store_num,b.price4,b.price5 from tb_product_sell_price  b  where b.goods_id = @goods_id@ "/>
    <!-- 求购中心  热点咨询左 -->
    <sql ID="1137" value="select aa.art_cateid,aa.artid,aa.art_title,cc.parent_cateid from tb_article aa left join tb_article_top bb on aa.artid=bb.artid left join tb_article_cate cc on aa.art_cateid=cc.art_cateid where cc.cate_template='simple' and  aa.is_lock = 0 limit 0,8 "/>
    <!-- 求购中心  热点咨询右 -->
    <sql ID="1138" value="select aa.art_cateid,aa.artid,aa.art_title,cc.parent_cateid from tb_article aa left join tb_article_top bb on aa.artid=bb.artid left join tb_article_cate cc on aa.art_cateid=cc.art_cateid where cc.cate_template='simple' and  aa.is_lock = 0 order by bb.clicks DESC,bb.goods DESC,bb.shares DESC limit 0,8 "/>
    <!-- 确认收货  查询订单信息 -->
    <sql ID="1139" value="select goods_name,goods_main_img,property_json,sale_price,promotion_id,discount_price,goods_num,amounts from tb_order_goods where refund_status=0 and user_id_buyer=@user_id@ and order_id in(@order_id@) order by order_id,order_item"/>
    <!-- 确认收货  查询 实付款 地址 -->
    <sql ID="1140" value="select order_id,amounts,receiver,phone,address,pay_sn,pay_time from tb_order where user_id=@user_id@ and order_id in(@order_id@)"/>
    <!-- 确认收货  查询 实付款 地址 -->
    <sql ID="1141" value="select trade_password,login_salt from tb_web_user where user_id=@user_id@"/>
    <!-- 确认收货  更新order表 -->
    <sql ID="1142" value="update tb_order set order_status=3 where order_id in(@orderId@)"/>
    <!-- 确认收货  评论表插入数据 商品积分0不知道哪取 -->
    <sql ID="1143" value="insert into tb_web_goods_reviews(order_id,user_id,goods_id,goods_name,specifications,buy_time,goods_img,credits,is_reviews,seller_user_id)
        select order_id,user_id_buyer,goods_id,goods_name,property_json,order_time,goods_main_img,credits,0,user_id from tb_order_goods where refund_status=0 and order_id in(@orderId@)"/>
    <!-- 我的求购  查询 -->
    <sql ID="1144" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 0 and end_time ＞= NOW() and user_id = ? order by buy_offer_id desc limit ?,? "/>
    <!-- 我的求购  停止 -->
    <sql ID="1145" value="update tb_buy_offer set buy_status = 2 where offer_sum != 0 and end_time ＞= NOW() and user_id = @user_id@ and buy_offer_id = @id@ "/>
    <!-- 我的求购  删除 -->
    <sql ID="1146" value="update tb_buy_offer set buy_status = 3 where offer_sum = 0 and user_id = @user_id@ and buy_offer_id = @id@ "/>
    <!-- 我的求购  修改查询 -->
    <sql ID="1147" value="select bb.buy_offer_id,bb.buy_name,bb.buy_describe,dd.parts_cate_name,bb.parts_brand_id,ee.car_model_name,bb.vin_no,bb.img_parts,bb.buy_num,bb.user_name,bb.phone,bb.email,bb.province_name,bb.city_name,bb.manufacture_year,bb.expected_time from tb_buy_offer  bb , (select aa.parts_cate_name,aa.parts_cate_id from tb_parts_category  aa )  dd , (select cc.car_model_name,cc.car_model_id from tb_car_model  cc)  ee where dd.parts_cate_id = bb.parts_cate_id and ee.car_model_id = bb.car_model_id and  bb.buy_status = 0 and buy_offer_id = @id@ and user_id = @user_id@ "/>
    <!-- 我的求购  查询品牌 -->
    <sql ID="1148" value="select cc.parts_brand_name  from tb_parts_brand  cc where cc.parts_brand_id = @parts_brand_id@ "/>
    <!-- 我的求购  修改 -->
    <sql ID="1149" value="update tb_buy_offer set buy_name = @qgbt@, buy_describe = @pjDescrib@, parts_cate_id = @pjlxId@, parts_brand_id = @pjppId@, car_model_id = @qcppId@, vin_no = @cjh@, img_parts = @tpsc@,buy_num = @qgsl@,user_name = @qgxm@,phone = @qgdh@,email = @qgem@,province_id = @sfId@,province_name = @sfName@,city_id = @csId@,city_name=@csName@,end_time = @end_time@,manufacture_year= @clnk@,expected_time = @expected_time@ where user_id = @user_id@ and buy_offer_id = @id@ "/>
    <!-- 我的求购  完成 -->
    <sql ID="1150" value="update tb_buy_offer set buy_status = 1 where offer_sum != 0 and end_time ＞= NOW() and user_id = @user_id@ and buy_offer_id = @id@ "/>
    <!-- 我的求购  继续求购 -->
    <sql ID="1151" value="update tb_buy_offer set buy_status = 0 where buy_status = 2 and end_time ＞= NOW() and user_id = @user_id@ and buy_offer_id = @id@ "/>
    <!-- 我的求购  查询成功 -->
    <sql ID="1152" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 1 and user_id = ? order by buy_offer_id desc limit ?,? "/>
    <!-- 我的求购  查询停止 -->
    <sql ID="1153" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 2 and user_id = ? order by buy_offer_id desc limit ?,? "/>
    <!-- 我的求购  查询过期-->
    <sql ID="1154" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 0 and end_time ＜ NOW()  and user_id = ? order by buy_offer_id desc limit ?,? "/>
    <!-- 我的求购  ing 名称搜索-->
    <sql ID="1155" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 0 and end_time ＞= NOW() and user_id = @user_id@ and buy_name like '@ss@%' order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  ing 时间搜索-->
    <sql ID="1156" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 0 and end_time ＞= NOW() and user_id = @user_id@ and start_time between @begin@ and @end@ order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  suc 名称搜索-->
    <sql ID="1157" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 1 and user_id = @user_id@ and buy_name like '@ss@%' order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  suc 时间搜索-->
    <sql ID="1158" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 1 and user_id = @user_id@ and start_time between @begin@ and @end@ order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  stop 名称搜索-->
    <sql ID="1159" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 2 and user_id = @user_id@ and buy_name like '@ss@%' order by buy_offer_id desc limit @limit1@,@size@  "/>
    <!-- 我的求购  stop 时间搜索-->
    <sql ID="1160" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 2 and user_id = @user_id@ and start_time between @begin@ and @end@ order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  time 名称搜索-->
    <sql ID="1161" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 0 and end_time ＜ NOW()  and user_id = @user_id@ and buy_name like '@ss@%' order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  time 时间搜索-->
    <sql ID="1162" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 0 and end_time ＜ NOW()  and user_id = @user_id@ and start_time between @begin@ and @end@ order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  报价查询 -->
    <sql ID="1163" value="select buy_offer_id,price,dead_days,buy_supply_info_id,start_time,end_time,company,area_name,sub_remark,file1 from tb_buy_supply_info where end_time ＞= NOW() and supply_status = 0 and buy_offer_id = ? "/>
    <!-- 我的求购  完成 报价完成 -->
    <sql ID="1164" value="update tb_buy_supply_info set supply_status = 1 where buy_supply_info_id = @offerId@ and buy_offer_id = @id@ "/>
    <!-- 我的求购  完成 报价停止 -->
    <sql ID="1165" value="update tb_buy_supply_info set supply_status = 2 where buy_supply_info_id != @offerId@ and buy_offer_id = @id@ "/>
    <!-- 我的求购 已完成 详细 -->
    <sql ID="1166" value="select buy_offer_id,price,dead_days,buy_supply_info_id,start_time,end_time,company,area_name,sub_remark,file1,supply_status from tb_buy_supply_info where supply_status in(1,2) and buy_offer_id = ? "/>
    <!-- 我的咨询 打分 -->
    <sql ID="1167" value="update tb_web_consult set satisfaction = @fen@ where consult_status = 1 and user_id = @user_id@ and consult_id = @id@ "/>
    <!-- 商品详情 关注度 -->
    <sql ID="1168" value="select clickeds as guan from tb_product_top where goods_id = @goods_id@ "/>
    <!-- 我的求购  审核未通过-->
    <sql ID="1169" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 5 and user_id = ? order by buy_offer_id desc limit ?,? "/>
    <!-- 我的求购  时间搜索 审核未通过-->
    <sql ID="1170" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 5 and user_id = @user_id@ and start_time between @begin@ and @end@ order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 我的求购  名称搜索 审核未通过-->
    <sql ID="1171" value="select buy_offer_id,buy_name,buy_num,substring(start_time,1,10) as start_time,end_time,buy_describe,offer_sum from tb_buy_offer where buy_status = 5 and user_id = @user_id@ and buy_name like '@ss@%' order by buy_offer_id desc limit @limit1@,@size@ "/>
    <!-- 手机 会员中心 退款中查询-->
    <sql ID="1172" value="select count(*) as number from tb_order where user_id = ? and order_status = 7 "/>
    <!-- 手机 注册 -->
    <sql ID="1173" value="select count(*) as num from tb_web_user where login_name = @login_name@ or valid_mobile = @login_name@ "/>
    <!-- 手机 注册 查询重复 -->
    <sql ID="1174" value="select count(*) as num from tb_web_user where login_name = ? or valid_mobile = ? "/>
    <!-- 广告征集 -->
    <sql ID="1175" value="insert into tb_temp_slogan(add_time,add_type,author,mobile,idcard,ad,remark,is_show) values(NOW(),0,@userName@,@userPhone@,@idCard@,@ad@,@detail@,0)"/>
    <!-- 手机 注册 插入 -->
    <sql ID="1176" value="insert into tb_web_user(user_type,login_name,login_pwd,login_salt,trade_password,valid_mobile,valided_mobile,balance,freeze_balance,total_balance,reg_time,session_uuid)
                                         values (1,@login_name@,@login_pwd@,@login_salt@,@login_pwd@,@login_name@,1,@balance@,@balance@,@balance@,NOW(),@login_salt@) "/>
    <!-- 手机  手机号码查询 -->
    <sql ID="1177" value="select valid_mobile from tb_web_user where user_id  = ? and is_lock = 0 and is_off = 0"/>

    <!-- 手机 修改密码 查询-->
    <sql ID="1178" value="select login_pwd,login_salt,trade_password from tb_web_user where user_id = ? "/>
    <!-- 广告征集 查询 -->
    <sql ID="1179" value="select slogan_id,add_time,add_type,author,mobile,idcard,ad,remark,is_show,score1,score2,score3 from tb_temp_slogan where is_show = 1 order by slogan_id desc limit ?,?"/>
    <!-- 广告征集 投票数据插入 -->
    <sql ID="1180" value="insert into tb_temp_vote values (@user_id@,@voteId@,NOW())"/>

    <!-- 广告征集 当天对单独广告投过票数 -->
    <sql ID="1181" value="select count(*) as num from tb_temp_vote where user_id = @user_id@ and slogan_id = @voteId@ and vote_time between @vote_time_start@ and  @vote_time_end@"/>

    <!-- 广告征集 当天投过票数 -->
    <sql ID="1182" value="select count(*) as num from tb_temp_vote where user_id =  @user_id@ and vote_time between @vote_time_start@ and  @vote_time_end@"/>
    <!-- 广告征集 某一期某广告的总票数 -->
    <sql ID="1183" value="select slogan_id,add_time,add_type,author,mobile,idcard,ad,remark,is_show,score1,score2,score3 from tb_temp_slogan where slogan_id = @voteId@ "/>
    <!-- 广告征集 更新票数score -->
    <sql ID="1184" value="update tb_temp_slogan set score = score + 1 where slogan_id = @voteId@"/>
    <!-- 广告征集 更新票数score1 -->
    <sql ID="1185" value="update tb_temp_slogan set score1 = score1 + 1 where slogan_id = @voteId@"/>
    <!-- 广告征集 更新票数score2 -->
    <sql ID="1186" value="update tb_temp_slogan set score2 = score2 + 1 where slogan_id = @voteId@"/>
    <!-- 广告征集 更新票数score3 -->
    <sql ID="1187" value="update tb_temp_slogan set score3 = score3 + 1 where slogan_id = @voteId@"/>

    <!-- 广告征集 第一期票数排行top20 -->
    <sql ID="1188" value="select (@i := @i + 1) as rowno, slogan_id,add_time,add_type,author,mobile,idcard,ad,remark,is_show,score,score1,score2,score3 from tb_temp_slogan,(select @i :=0 ) as a where is_show = 1 order by score1 desc, add_time asc limit 0,20"/>
    <!-- 广告征集 第二期票数排行top20 -->
    <sql ID="1189" value="select (@i := @i + 1) as rowno, slogan_id,add_time,add_type,author,mobile,idcard,ad,remark,is_show,score,score1,score2,score3 from tb_temp_slogan,(select @i :=0 ) as a where is_show = 1 order by score2 desc, add_time asc limit 0,20"/>
    <!-- 广告征集 第三期票数排行top20 -->
    <sql ID="1190" value="select (@i := @i + 1) as rowno, slogan_id,add_time,add_type,author,mobile,idcard,ad,remark,is_show,score,score1,score2,score3 from tb_temp_slogan,(select @i :=0 ) as a where is_show = 1 order by score3 desc, add_time asc limit 0,20"/>
    <!-- 广告征集 总票数排行top10 -->
    <sql ID="1191" value="select (@i := @i + 1) as rowno, slogan_id,add_time,add_type,author,mobile,idcard,ad,remark,is_show,score,score1,score2,score3 from tb_temp_slogan,(select @i :=0 ) as a order by score desc, add_time asc limit 0,10"/>
    <!-- 手机 配件分类 查询一层 -->
    <sql ID="1192" value="select parts_cate_id,parts_cate_name from tb_parts_category where parts_cate_parent = 0 and is_lock = 0 order by sort_weight desc "/>
    <!-- 手机 分类下品牌 -->
    <sql ID="1193" value="select parts_brand_id,parts_brand_name,parts_brand_logo from tb_parts_brand where  FIND_IN_SET(?,parts_cate_id) "/>
    <!-- 手机 分类下品牌 更多 -->
    <sql ID="1194" value="select parts_brand_id,parts_brand_name,parts_brand_logo from tb_parts_brand where  FIND_IN_SET(?,parts_cate_id) limit 8,20 "/>
    <!-- 广告征集 注册并绑定手机或邮箱 更多 -->
    <sql ID="1195" value="select count(*) as num  from tb_web_user where user_id = @user_id@ and valided_mobile = 1 "/>
    <!-- 广告征集 作弊模式 score3-->
    <sql ID="1196" value="update tb_temp_slogan set score3 = score3 + @updateNum@ where slogan_id = @voteId@"/>
    <!-- 广告征集 作弊模式 score -->
    <sql ID="1197" value="update tb_temp_slogan set score = score + @updateNum@ where slogan_id = @voteId@"/>

    <!-- 手机 会员 收件地址 插入(ps:不能直接复用pc版的，因为那里少了个字段is_default) -->
    <sql ID="1200" value="insert into tb_web_user_address(user_id,receiver,country_id,province_id,city_id,area_id,area_name,town_name,phone,is_default,update_time)  values (@user_id@,@receiver@,@country_id@,@province_id@,@city_id@,@area_id@,@area_name@,@town_name@,@phone@,@is_default@,now())"/>
    <!-- 手机 会员 收件地址 修改(ps:不能直接复用pc版的，因为那里少了个字段is_default) -->
    <sql ID="1201" value="update tb_web_user_address set user_id=@user_id@, receiver=@receiver@, country_id=@country_id@,province_id=@province_id@,city_id=@city_id@,area_id=@area_id@,area_name=@area_name@,town_name=@town_name@,phone=@phone@,is_default=@is_default@,update_time=now() where address_id=@address_id@"/>
    <!-- 手机 根据新闻类别查询 art_cateid,limit-->
    <sql ID="1205" value="SELECT aa.artid,aa.art_cateid,aa.art_title,aa.art_content,aa.art_img,aa.art_author,cc.parent_cateid FROM tb_article aa,tb_article_cate cc where aa.art_cateid=cc.art_cateid and cc.cate_template='simple' and  aa.is_lock = 0 and aa.art_cateid=? limit ?,?"/>
    <!-- 手机 根据新闻artid查询 该条新闻-->
    <sql ID="1206" value="SELECT aa.artid,aa.art_cateid,aa.art_title,aa.art_content,aa.art_img,aa.art_author,cc.parent_cateid FROM tb_article aa,tb_article_cate cc where aa.art_cateid=cc.art_cateid and cc.cate_template='simple' and  aa.is_lock = 0 and aa.art_cateid=? and aa.artid=?"/>
    <!-- 手机 查询某条新闻的前一条 art_id-->
    <sql ID="1207" value="SELECT aa.artid,aa.art_cateid,aa.art_title,aa.art_content,aa.art_img,aa.art_author,cc.parent_cateid FROM tb_article aa,tb_article_cate cc where aa.art_cateid=cc.art_cateid and cc.cate_template='simple' and  aa.is_lock = 0 and aa.art_cateid=? and aa.artid＜? order by aa.artid desc limit 0,1"/>
    <!-- 手机 查询某条新闻的后一条 art_id-->
    <sql ID="1208" value="SELECT aa.artid,aa.art_cateid,aa.art_title,aa.art_content,aa.art_img,aa.art_author,cc.parent_cateid FROM tb_article aa,tb_article_cate cc where aa.art_cateid=cc.art_cateid and cc.cate_template='simple' and  aa.is_lock = 0 and aa.art_cateid=? and aa.artid＞? order by aa.artid limit 0,1"/>
    <!-- 手机 根据新闻类别查询 parent_cateid,limit-->
    <sql ID="1209" value="SELECT aa.artid,aa.art_cateid,aa.art_title,aa.art_content,aa.art_img,aa.art_author,cc.parent_cateid FROM tb_article aa,tb_article_cate cc where aa.art_cateid=cc.art_cateid and cc.cate_template='simple' and  aa.is_lock = 0 and cc.parent_cateid=? order by aa.update_time desc limit ?,?"/>

    <!-- 手机 产品详情1 -->
    <sql ID="1300" value="select aa.goods_name,aa.parts_cate_id,aa.goods_main_img,aa.goods_imgs,aa.price2,aa.price3,aa.min_num_3,aa.price4,aa.min_num_4,aa.price5,aa.min_num_5,aa.goods_sn,aa.rank,aa.is_oem,aa.is_dead,aa.is_sale_property,aa.unit_name,aa.freight_id,aa.weight,aa.volume,aa.goods_sell_title from tb_product_online aa where aa.goods_id = ? and aa.is_lock = 0 "/>
    <!-- 手机 产品 销售属性1 -->
    <sql ID="1301" value="select distinct attr_id_1,attr_value_1,attr_hashcode_1 from tb_product_sell_price where goods_id = ? "/>
    <!-- 手机 产品 销售属性2 -->
    <sql ID="1302" value="select distinct attr_id_2,attr_value_2,attr_hashcode_2 from tb_product_sell_price where goods_id = ? "/>
    <!-- 手机 产品 销售属性中文 -->
    <sql ID="1303" value="select attr_id,attr_name from tb_attribute where attr_id = ? "/>
    <!-- 会员中心 验证邮箱-->
    <sql ID="1304" value="update tb_web_user set valided_email = 0, valid_email = @valid_email@ where user_id = @user_id@ "/>
    <!-- 会员中心 验证手机-->
    <sql ID="1305" value="update tb_web_user set valid_mobile = @valid_mobile@, valided_mobile = 0 where user_id = @user_id@ "/>
    <!-- 手机 商品详情页 关联产品 -->
    <sql ID="1306" value="select goods_id,goods_name,price2,price@priceType@,goods_main_img,parts_cate_id from tb_product_online where parts_cate_id = @parts_cate_id@ order by update_time desc limit 4 "/>
    <!-- 手机 产品详情2 -->
    <sql ID="1307" value="select aa.goods_main_img,aa.goods_imgs,aa.goods_sn,aa.unit_name,aa.weight,aa.volume,aa.goods_no,aa.goods_standard,aa.original_car_no,aa.brand_ids,aa.car_model_ids,bb.parts_brand_name from tb_product_online aa left join tb_parts_brand bb on aa.parts_brand_id = bb.parts_brand_id where aa.goods_id = ? and aa.is_lock = 0 "/>
    <!-- 手机 产品详情2 适用车型 汽车品牌 -->
    <sql ID="1308" value="select brand_name from tb_car_brand where brand_id in (@brand_ids@) "/>
    <!-- 手机 产品详情2 适用车型 车型 -->
    <sql ID="1309" value="select car_model_name from tb_car_model where brand_id = @brand_id@ and car_model_id in(@car_model_ids@) "/>
    <!-- 手机 产品详情 评论 good -->
    <sql ID="1310" value="select a.global_score,a.detail_reviews,a.reviews_time,a.is_anonymous,a.user_id,b.nick from tb_web_goods_reviews  a left join tb_web_user  b on a.user_id = b.user_id where a.goods_id = ? and a.is_reviews = 1 and global_score in(4,5) order by buy_time desc limit ?,? "/>
    <!-- 手机 产品详情 评论 normal -->
    <sql ID="1311" value="select a.global_score,a.detail_reviews,a.reviews_time,a.is_anonymous,a.user_id,b.nick from tb_web_goods_reviews  a left join tb_web_user  b on a.user_id = b.user_id where a.goods_id = ? and a.is_reviews = 1 and global_score = 3 order by buy_time desc limit ?,? "/>
    <!-- 手机 产品详情 评论 bad -->
    <sql ID="1312" value="select a.global_score,a.detail_reviews,a.reviews_time,a.is_anonymous,a.user_id,b.nick from tb_web_goods_reviews  a left join tb_web_user  b on a.user_id = b.user_id where a.goods_id = ? and a.is_reviews = 1 and global_score in(1,2) order by buy_time desc limit ?,? "/>
    <!-- 手机 产品详情 好评 -->
    <sql ID="1313" value="select count(*) as num from tb_web_goods_reviews a where a.goods_id = ? and a.global_score in(4,5) and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 手机 产品详情 中评 -->
    <sql ID="1314" value="select count(*) as num from tb_web_goods_reviews a where a.goods_id = ? and a.global_score = 3 and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 手机 产品详情 差评 -->
    <sql ID="1315" value="select count(*) as num from tb_web_goods_reviews a where a.goods_id = ? and a.global_score in(1,2) and a.is_reviews = 1 order by buy_time desc "/>
    <!-- 买家中心 退款中 待修改(按订单状态查还是订单商品的状态查) 与 1172 挂钩-->
    <sql ID="1316" value="select order_id,order_time from tb_order where user_id = ? and order_status = 7 order by order_id desc limit ?,? "/>
    <!-- 物流 不同卖家快递信息-->
    <sql ID="1317" value="select aa.order_id,aa.order_time,bb.seller_send_info,bb.order_remark,bb.express_company,bb.express_py,bb.express_no,bb.user_id_supplier from tb_order aa left join tb_order_supplier bb on aa.order_id = bb.order_id where aa.order_id = @order_id@ and aa.user_id = @user_id@ and bb.user_id_supplier = @user_id_supplier@ and bb.is_expressed = 1 "/>
    <!-- 物流 不同卖家-->
    <sql ID="1318" value="select distinct user_id from tb_order_goods where order_id = @order_id@ and user_id_buyer = @user_id_buyer@ "/>
    <!-- 物流 不同卖家的产品-->
    <sql ID="1319" value="select goods_id,goods_name,goods_main_img,sale_price,goods_num from tb_order_goods where order_id = @order_id@ and user_id_buyer = @user_id_buyer@ and user_id = @user_id@ "/>
    <!-- 物流 热销商品 -->
    <sql ID="1320" value="select aa.goods_id,aa.goods_name,aa.price2,aa.price@priceType@,aa.goods_main_img,aa.parts_cate_id from tb_product_online aa where aa.is_lock = 0 and aa.goods_id in(select goods_id from tb_product_top order by orders desc ) order by aa.update_time limit 0,18 "/>
    <!-- 元宵活动 推荐人加2秒 -->
    <sql ID="1321" value="update tb_puzzle_e set puzzle_endtime=puzzle_endtime+2.00 where user_id = @rd@ "/>
    <!-- 手机 积分-->
    <sql ID="1322" value="select credits from tb_web_user where user_id = ? "/>
    <!-- 手机 交易记录-->
    <sql ID="1323" value="select remarks,move_time,amount,move_status,trade_type from tb_money_movements where user_id = ? order by move_time desc limit 0,10 "/>
    <!-- 手机 交易记录详细 -->
    <sql ID="1324" value="select remarks,move_time,amount,move_status,trade_type from tb_money_movements where user_id = ? order by move_time desc "/>
    <!-- 手机 交易记录 jylx-->
    <sql ID="1325" value="select remarks,move_time,amount,move_status,trade_type from tb_money_movements where user_id = ? and trade_type = ? order by move_time desc "/>
    <!-- 手机 交易记录 jyzt-->
    <sql ID="1326" value="select remarks,move_time,amount,move_status,trade_type from tb_money_movements where user_id = ? and move_status = ? order by move_time desc "/>
    <!-- 手机 交易记录 all-->
    <sql ID="1327" value="select remarks,move_time,amount,move_status,trade_type from tb_money_movements where user_id = ? and trade_type = ? and move_status = ? order by move_time desc "/>
    <!-- 手机 我的汽车 查询 -->
    <sql ID="1328" value="select bb.brand_name,cc.car_model_name,dd.car_conf_name from tb_web_user aa ,tb_car_brand bb ,tb_car_model cc ,tb_car_conf dd where aa.user_id = ? and aa.car_model_id = cc.car_model_id and aa.brand_id = bb.brand_id and aa.car_conf_id = dd.car_conf_id "/>
    <!-- 手机 我的汽车 删除 -->
    <sql ID="1329" value="update tb_web_user set brand_id = 0,car_model_id = 0,car_conf_id = 0 where user_id = @user_id@ "/>
    <!-- 手机 汽车  品牌 -->
    <sql ID="1330" value="select brand_id,brand_name,brand_sp from tb_car_brand where is_lock = 0 order by brand_sp,sort_weight "/>
    <!-- 手机 汽车  车型 -->
    <sql ID="1331" value="select aa.car_model_id,aa.car_model_name,bb.brand_name from tb_car_model aa left join tb_car_brand bb on aa.brand_id = bb.brand_id where aa.brand_id = ? and aa.is_lock = 0 "/>
    <!-- 手机 汽车  年款 -->
    <sql ID="1332" value="select car_conf_id,car_conf_name,manufacture_year from tb_car_conf where car_model_id = ? and is_lock = 0 order by manufacture_year "/>
    <!-- 手机 我的汽车  添加 -->
    <sql ID="1333" value="update tb_web_user set brand_id = @brand_id@, car_model_id = @car_model_id@, car_conf_id = @car_conf_id@ where user_id = @user_id@ "/>
    <!-- 索取发票 金额 -->
    <sql ID="1334" value="select IFNULL(SUM(amounts),0) as zong from tb_order where user_id = ? and (is_invoice = 1 or is_invoice = 3) and order_status = 3 "/>
    <!-- 索取发票 全部发票＞-->
    <sql ID="1335" value="select cc.order_id,cc.pay_time,cc.invoice_name,cc.invoice_id,dd.order_amount,dd.is_invoice,dd.user_id_supplier from tb_order_supplier dd left join (select aa.order_id,aa.pay_time,bb.invoice_name,bb.invoice_id from tb_order aa left join tb_web_user_invoice bb on aa.invoice_id = bb.invoice_id where aa.user_id = ? and aa.is_invoice ＞= 1 and aa.order_status = 3) cc on dd.order_id = cc.order_id where dd.order_id in(cc.order_id) and dd.is_invoice ＞= 1 "/>
    <!-- 索取发票 全部发票 含时间＜＞-->
    <sql ID="1336" value="select cc.order_id,cc.pay_time,cc.invoice_name,cc.invoice_id,dd.order_amount,dd.is_invoice,dd.user_id_supplier from tb_order_supplier dd left join (select aa.order_id,aa.pay_time,bb.invoice_name,bb.invoice_id from tb_order aa left join tb_web_user_invoice bb on aa.invoice_id = bb.invoice_id where aa.user_id = ? and aa.is_invoice ＞= 1 and aa.order_status = 3 and aa.order_time between  ? and  ? ) cc on dd.order_id = cc.order_id where dd.order_id in(cc.order_id) "/>
    <!-- 索取发票 详情 -->
    <sql ID="1337" value="select dd.invoice_name,dd.invoice_type,ee.receiver,ee.phone,ee.address,ee.pay_time,ee.invoice_sn,ee.shippment_time,ee.invoice_money,ee.express_company,ee.express_py,ee.express_no from tb_web_user_invoice dd left join (select aa.user_id,aa.invoice_id,aa.receiver,aa.phone,aa.address,aa.pay_time,cc.invoice_sn,cc.shippment_time,cc.invoice_money,cc.express_company,cc.express_py,cc.express_no from tb_order aa left join (select bb.order_id,bb.invoice_sn,bb.shippment_time,bb.invoice_money,bb.express_company,bb.express_py,bb.express_no,bb.buyer_id from tb_order_invoice bb where bb.order_id = ? and bb.seller_id = ? and bb.buyer_id = ?) cc on aa.order_id = cc.order_id where aa.user_id = cc.buyer_id and aa.order_id = cc.order_id and aa.order_status = 3) ee on dd.invoice_id = ee.invoice_id where dd.invoice_id = ee.invoice_id and dd.user_id = ee.user_id "/>
    <!-- 友情链接 申请 -->
    <sql ID="1338" value="insert into tb_web_link(link_char,link_web,email,webchat,web_content,link_time,verify_status) values (@word@,@address@,@email@,@qq@,@addressMsg@,NOW(),0)"/>
    <!-- 加盟 -->
    <sql ID="1339" value="insert into tb_web_join(company_name,join_clazz,contactor,mobile,best_time,phone,email,province,city,town,address,remark,create_time) values(@gongS@,@leiX@,@lianX@,@shouJ@,@huiF@,@dianH@,@youX@,@shengF@,@chengS@,@quX@,@diZ@,@liuY@,NOW()) "/>
    <!-- 详情页 品牌 -->
    <sql ID="1340" value="select brand_id,brand_name,brand_sp from tb_car_brand where brand_id in(@bId@) order by sort_weight desc "/>
    <!-- 详情页 车型 -->
    <sql ID="1341" value="select car_model_id,brand_id,car_model_name from tb_car_model where car_model_id in(@mId@) order by sort_weight desc "/>
    <!-- 详情页 年款 -->
    <sql ID="1342" value="select car_conf_id,car_model_id,car_conf_name from tb_car_conf where car_conf_id in(@cId@) order by seo_desc desc "/>
    <!-- 详情页 所有品牌 -->
    <sql ID="1343" value="select brand_id,brand_name,brand_sp from tb_car_brand order by sort_weight desc "/>
    <!-- 详情页 所有车型 -->
    <sql ID="1344" value="select car_model_id,brand_id,car_model_name from tb_car_model order by sort_weight desc "/>
    <!-- 详情页 所有年款 -->
    <sql ID="1345" value="select car_conf_id,car_model_id,car_conf_name from tb_car_conf order by seo_desc desc "/>
    <!-- 会员中心 地址管理 条数-->
    <sql ID="1346" value="select count(*) as zong from tb_web_user_address where user_id = ? "/>
    <!-- 会员中心 地址管理 第一条 更新用户信息-->
    <sql ID="1347" value="update tb_web_user set province_id= @province_id@, city_id= @city_id@, area_id= @area_id@ where user_id = @user_id@ "/>
    <!-- 卖家中心 订单发票信息查询 -->
    <sql ID="1348" value="select aa.tax_amount,bb.user_id,bb.invoice_id,bb.receiver,bb.phone,bb.address,cc.invoice_name,cc.invoice_type,cc.register_no,cc.bank_name,cc.bank_no,cc.license_address,cc.licnese_phone from tb_web_user_invoice cc,tb_order_supplier aa left join tb_order bb on aa.order_id = bb.order_id where cc.invoice_id = bb.invoice_id and aa.order_id = ? and aa.user_id_buyer =? and bb.is_invoice = 1 "/>
    <!-- 卖家中心 开票 -->
    <sql ID="1349" value="insert into tb_order_invoice VALUES(@ddh@,@mj@,@user_id@,@fp@,@fpbh@,@skje@,@jcsj@,@name@,@py@,@kddh@,'1',@kdfy@,@fhsm@) "/>
    <!-- 卖家中心 开票 更新is_invoice -->
    <sql ID="1350" value="update tb_order_supplier set is_invoice = 2 where order_id = @ddh@ and user_id_buyer = @mj@ and user_id_supplier = @user_id@ and is_invoice = 1 "/>
    <!-- 商品详情页 点击量 -->
    <sql ID="1351" value="update tb_product_top set clickeds = (IFNULL(clickeds,0)+1) where goods_id = @goods_id@"/>
    <!-- 查询重复手机 -->
    <sql ID="1352" value="select count(*) as num from tb_web_user where valid_mobile = ? or login_name = ? "/>
    <!-- 商品详情页 成本价 -->
    <sql ID="1353" value="select price@priceType@ as jia from tb_product_online where goods_id = @goods_id@"/>


    <!-- zjj  1501-2000 _______________________________________________________________________________________________________________________________________ / -->
    <!-- 配件第1层 -->
    <sql ID="1501" value="select parts_cate_id,parts_cate_name from tb_parts_category where (parts_cate_id%@firstLev@=0) and is_lock = 0"/>
    <!-- 配件第2层-->
    <sql ID="1502" value="select parts_cate_id,parts_cate_name from tb_parts_category where parts_cate_id%100=0 and parts_cate_id＞@parentLev@ and parts_cate_id＜=(@parentLev@+9900) and is_lock = 0"/>
    <!-- 配件第3层-->
    <sql ID="1503" value="select parts_cate_id,parts_cate_name from tb_parts_category where parts_cate_id＞@parentLev@ and parts_cate_id＜=(@parentLev@+99) and is_lock = 0"/>
    <!-- 求购列表筛选-->
    <!--<sql ID="1504" value="select aa.buy_offer_id,aa.buy_name,aa.buy_num,aa.img_parts,aa.start_time,aa.end_time,aa.offer_sum,aa.province_name,aa.city_name,aa.img_parts,aa.parts_cate_id,bb.rank,NOW() as curtime
    from tb_buy_offer aa left join tb_web_user bb on aa.user_id = bb.user_id where aa.buy_status=0 and aa.end_time>curdate() @where@ "/>-->
    <sql ID="1504" value="select aa.buy_offer_id,aa.buy_name,aa.buy_num,aa.img_parts,aa.start_time,aa.end_time,aa.offer_sum,aa.province_name,aa.city_name,aa.img_parts,aa.parts_cate_id,bb.rank,NOW() as curtime
    from tb_buy_offer aa left join tb_web_user bb on aa.user_id = bb.user_id where aa.buy_status=0 and aa.end_time>curdate() @where@ limit @row@,@pagesize@"/>
    <!-- 求购详情-->
    <sql ID="1505" value="select aa.buy_offer_id,aa.buy_name,aa.buy_describe,aa.buy_num,aa.start_time,aa.end_time,aa.offer_sum,aa.province_name,aa.city_name,aa.img_parts,aa.manufacture_year,NOW() as curtime,
                          bb.parts_cate_name ,cc.parts_brand_name,dd.car_model_name from tb_buy_offer aa
                          left join tb_parts_category bb on aa.parts_cate_id = bb.parts_cate_id
                          left join tb_parts_brand cc on aa.parts_brand_id = cc.parts_brand_id
                          left join tb_car_model dd on aa.car_model_id = dd.car_model_id
                          where aa.buy_offer_id =?"/>
    <!-- 配件相关求购单-->
    <sql ID="1506" value="select aa.buy_offer_id,aa.buy_name,aa.buy_num,aa.start_time,aa.end_time,aa.offer_sum,aa.province_name,aa.city_name,bb.rank
    from tb_buy_offer aa left join tb_web_user bb on aa.user_id = bb.user_id where aa.end_time＞now() and aa.parts_cate_id = ? order by aa.end_time desc limit 0,4 "/>
    <!-- 报价相关信息-->
    <sql ID="1507" value="select company,start_time,area_name,sub_remark from tb_buy_supply_info where buy_offer_id=? order by buy_supply_info_id desc "/>
    <!-- 报价单标题-->
    <sql ID="1508" value="select buy_name,buy_num from tb_buy_offer where buy_offer_id=? "/>
    <!-- 读取报价人信息-->
    <sql ID="1509" value="select aa.real_name,aa.valid_email,aa.valid_mobile,aa.sex,aa.province_id,aa.city_id,bb.company from tb_web_user aa left join tb_web_user_seller bb on aa.user_id = bb.user_id where aa.user_id= ?"/>
    <!-- 填写报价单相关信息-->
    <sql ID="1510" value="insert into tb_buy_supply_info (buy_offer_id,user_id,price,start_time,end_time,dead_days,norms_remark,other_norms,sub_remark,file1,
     company,sex,contacts,province_id,city_id,area_name,mobile,email)
     values(@buy_offer_id@,@user_id@,@wpdj@,now(),@jgyxq@,@jhqx@,@guige@,@other_norms@,@baojia@,@path@,@gsmc@,@sex@,@sellname@,@province@,@city@,@areaname@,@telephone@,@email@)"/>
    <sql ID="1511" value="update tb_buy_offer set offer_sum = offer_sum +1 where buy_offer_id= @buy_offer_id@"/>
    <!-- 采购批发sql语句-->
    <!-- 初始化 获取配件分类列表 第一级-->
    <sql ID="1512" value="select parts_cate_id,parts_cate_name,parts_cate_parent from tb_parts_category where is_lock = 0 and parts_cate_parent = ? "/>
    <!-- 获取配件品牌 -->
    <sql ID="1513" value="select parts_brand_id, parts_brand_name from tb_parts_brand  where find_in_set(?,parts_cate_id)"/>
    <!-- 获取汽车品牌 -->
    <sql ID="1514" value="select brand_id,brand_name,brand_sp,brand_logo from tb_car_brand "/>
    <!-- 获取汽车型号 -->
    <sql ID="1515" value="select brand_id,car_model_id,car_model_name from tb_car_model where brand_id =?"/>
    <!-- 获取汽车年款 -->
    <sql ID="1516" value="select distinct brand_id,car_model_id,manufacture_year from tb_car_conf where car_model_id=?"/>
    <!-- 获取汽车配置 -->
    <sql ID="1517" value="select car_conf_id,car_conf_name from tb_car_conf where car_model_id =? and manufacture_year =?"/>
    <!-- 获取产品列表 -->
    <!-- <sql ID="1518" value="select aa.goods_id,aa.parts_cate_id,aa.goods_main_img,aa.goods_name,aa.price2,aa.price3,aa.price4,aa.price5,bb.company,
     (select pp.provincename from tb_province pp where pp.provinceid =dd.province_id)as area
      from tb_product_online aa left join tb_web_user_seller bb on aa.user_id = bb.user_id
      left join tb_product_top cc on aa.goods_id = cc.goods_id
      left join tb_web_user dd on aa.user_id = dd.user_id
      where aa.is_lock=0 and aa.is_dead=1  @where@ aa.sort_weight desc limit @row@,@pagesize@ "/>-->
    <sql ID="1518" value="select goods_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_sale_property,is_oem,is_dead,rank,orders,goods,mediums,bads,
    (select cityname from tb_city yy where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area zz where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.goods_name,pp.price2,pp.price@pc@ as price,is_sale_property,pp.is_oem,pp.is_dead,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc @order@ limit @row@,@pagesize@ "/>
    <!-- 添加收藏夹 -->
    <sql ID="1519" value="insert into tb_web_favorites (user_id, goods_id,is_sale,goods_name,goods_main_img,shop_price,user_price,store_num,join_time)
     select @user_id@, goods_id,(select if(sell_end_time＞now(),1,0)),goods_name,goods_main_img,price2,@price@,store_num,now() from tb_product_online where goods_id= @goods_id@ "/>
    <!-- 添加购物车 -->
    <sql ID="1520" value="insert into tb_cart (user_id,goods_num,price,goods_id, goods_name,goods_main_img,add_time)
     select @user_id@,@num@,@difprice@,goods_id, goods_name,goods_main_img,now() from tb_product_online where goods_id= @goods_id@ "/>
    <!-- 删除购物车 -->
    <sql ID="1521" value="delete from tb_cart where goods_id= @goods_id@ and user_id=@user_id@"/>
    <!-- 滞销产品sql语句-->
    <!-- 获取产品列表 -->
    <!--<sql ID="1522" value="select aa.goods_id,aa.parts_cate_id,aa.goods_main_img,aa.mfg_no,aa.original_car_no,aa.goods_name,aa.rank,
    aa.price2,aa.price3,aa.price4,aa.price5,aa.store_num,bb.company,
    (select pp.provincename from tb_province pp where pp.provinceid =dd.province_id)as provinde,
    (select yy.cityname from tb_city yy where yy.cityid =dd.city_id)as city,
    (select zz.areaname from tb_area zz where zz.areaid=dd.area_id)as area
    from tb_product_online aa left join tb_web_user_seller bb on aa.user_id = bb.user_id
    left join tb_web_user dd on aa.user_id = dd.user_id
    where aa.is_lock=0 and aa.is_dead=0 and aa.store_num >0 @where@  order by aa.sort_weight  desc limit @row@,@pagesize@ "/>-->

    <sql ID="1522" value="select goods_id,user_id,parts_cate_id,mfg_no,original_car_no,goods_name,price2,price,is_sale_property,store_num,num,is_oem,is_dead,rank,orders,goods,mediums,bads,
    (select cityname from tb_city where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades from
    (select pp.goods_id,pp.parts_cate_id,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price@pc@ as price,pp.is_sale_property,pp.store_num,pp.min_num_@pc@ as num,pp.is_oem,pp.is_dead,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 and pp.is_dead=1 and pp.store_num >0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc limit @row@,@pagesize@"/>
    <!-- 卖家中心出售商品sql语句-->
    <!-- 获取产品列表 -->
    <sql ID="1523" value="select aa.goods_id,aa.parts_cate_id,aa.goods_main_img,aa.goods_name,aa.price2,aa.price3,aa.price4,aa.price5,
    aa.store_num,aa.update_time,bb.orders
     from tb_product_online aa
     left join tb_product_top bb on aa.goods_id = bb.goods_id
     where aa.is_lock=0 @where@ order by aa.goods_id desc limit @row@,@pagesize@ "/>
    <!--批量删除记录-->
    <sql ID="1524" value="delete from tb_product_online where goods_id in(@goods_ids@)"/>
    <!--批量下架-->
    <sql ID="1525" value="update tb_product_online set is_lock = 1 where goods_id in(@goods_ids@)"/>
    <!--修改商品名称-->
    <sql ID="1526" value="update tb_product_online set goods_name = @goods_name@,snap_status=1 where goods_id = @goods_id@"/>
    <!--修改商品价格-->
    <sql ID="1527" value="update tb_product_online set price3 = @price3@,price4 = @price4@,price5 = @price5@,snap_status=1 where goods_id = @goods_id@"/>
    <!--修改商品库存-->
    <sql ID="1528" value="update tb_product_online set store_num = @store_num@,snap_status=1 where goods_id = @goods_id@"/>
    <!--配件分类列表-->
    <!-- <sql ID="1529" value="select aa.goods_id,aa.parts_cate_id,aa.goods_main_img,aa.goods_name,aa.price2,aa.price3,aa.price4,aa.price5,aa.is_oem,aa.is_dead,bb.company,
     cc.orders,cc.goods,cc.mediums,cc.bads,
     (select pp.provincename from tb_province pp where pp.provinceid = dd.province_id)as province,
     (select yy.cityname from tb_city yy where yy.cityid =dd.city_id)as city,
     (select zz.areaname from tb_area zz where zz.areaid=dd.area_id)as area
      from tb_product_online aa left join tb_web_user_seller bb on aa.user_id = bb.user_id
      left join tb_product_top cc on aa.goods_id = cc.goods_id
      left join tb_web_user dd on aa.user_id = dd.user_id
      where aa.is_lock=0 @where@ aa.sort_weight desc  limit @row@,@pagesize@ "/>-->

    <!--<sql ID="1531" value="select aa.goods_id,aa.parts_cate_id,aa.goods_main_img,aa.mfg_no,aa.original_car_no,aa.goods_name,aa.price2,aa.price3,aa.price4,aa.price5,aa.is_oem,aa.is_dead,aa.rank,cc.orders,
    (select pp.provincename from tb_province pp where pp.provinceid = dd.province_id)as province,
    (select yy.cityname from tb_city yy where yy.cityid =dd.city_id)as city,
    (select zz.areaname from tb_area zz where zz.areaid=dd.area_id)as area
     from tb_product_online aa left join tb_web_user_seller bb on aa.user_id = bb.user_id
     left join tb_product_top cc on aa.goods_id = cc.goods_id
     left join tb_web_user dd on aa.user_id = dd.user_id
     where aa.is_lock=0 @where@ aa.sort_weight desc limit @row@,@pagesize@ "/>
-->
    <sql ID="1529" value="select goods_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_oem,is_dead,rank,orders,goods,mediums,bads,
    (select cityname from tb_city where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.goods_name,pp.price2,pp.price@pc@ as price,pp.is_oem,pp.is_dead,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc @order@ limit @row@,@pagesize@"/>

    <sql ID="1531" value="select goods_id,parts_cate_id,mfg_no,original_car_no,goods_name,price2,price,is_sale_property,is_oem,is_dead,rank,orders,
    (select cityname from tb_city yy where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area zz where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.trades from
    (select pp.goods_id,pp.parts_cate_id,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price@pc@ as price,pp.is_sale_property,pp.is_oem,pp.is_dead,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc @order@ limit @row@,@pagesize@"/>


    <!--修改商品促销-->
    <sql ID="1530" value="update tb_product_online set store_num = @store_num@ where goods_id = @goods_id@"/>
    <!-- 汽车用品sql语句-->
    <!-- 获取属性列表-->
    <sql ID="1532" value="select aa.attr_id,aa.attr_name,aa.attr_value,aa.attr_hashcode from tb_attribute aa
    where find_in_set(aa.attr_id ,(select attr_ids from tb_parts_category where is_lock = 0 and parts_cate_id =?)) and aa.attr_type_input = 1"/>
    <!-- 获取属性列表-->
    <sql ID="1533" value="select goods_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_oem,is_dead,rank,orders,goods,mediums,bads,
    (select cityname from tb_city yy where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area zz where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.goods_name,pp.price2,pp.price@pc@ as price,pp.is_oem,pp.is_dead,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc @order@ limit @row@,@pagesize@"/>

    <sql ID="1534" value="select goods_id,parts_cate_id,mfg_no,original_car_no,goods_name,price2,price,is_sale_property,is_oem,is_dead,rank,orders,
    (select cityname from tb_city yy where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area zz where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.trades from
    (select pp.goods_id,pp.parts_cate_id,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price@pc@ as price,pp.is_sale_property,pp.is_oem,pp.is_dead,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc @order@ limit @row@,@pagesize@"/>
    <!--发票管理-->
    <sql ID="1535" value="select invoice_id,invoice_name,user_type,invoice_type from tb_web_user_invoice where deleted_flag=0 and user_id =?"/>
    <!--查询指定发票-->
    <sql ID="1536" value="select invoice_id,invoice_name,user_type,invoice_type,register_no,bank_name,bank_no,license_address,licnese_phone,business_copy,tax_copy,taxator_copy from tb_web_user_invoice where deleted_flag=0 and invoice_id =?"/>
    <!--增加发票-->
    <sql ID="1537" value="insert into tb_web_user_invoice (invoice_name,user_id,user_type,invoice_type,register_no,bank_name,bank_no,license_address,licnese_phone,business_copy,tax_copy,taxator_copy,add_time)values
    (@invoice_name@,@user_id@,@user_type@,@invoice_type@,@register_no@,@bank_name@,@bank_no@,@license_address@,@licnese_phone@,@business_copy@,@tax_copy@,@taxator_copy@,now())"/>
    <!--修改发票-->
    <sql ID="1538" value="update tb_web_user_invoice set invoice_name=@invoice_name@,user_type=@user_type@,invoice_type=@invoice_type@,register_no=@register_no@,bank_name=@bank_name@,bank_no=@bank_no@,
    license_address=@license_address@,licnese_phone=@licnese_phone@,business_copy=@business_copy@,tax_copy=@tax_copy@,taxator_copy=@taxator_copy@,edit_time=now() where invoice_id=@invoice_id@ "/>
    <!--计算发票数-->
    <sql ID="1539" value="select count(*) as num from tb_web_user_invoice where deleted_flag=0 and user_id=@user_id@ "/>
    <!--删除发票-->
    <sql ID="1540" value="update tb_web_user_invoice set deleted_flag = 1,delete_time=now() where invoice_id=@invoice_id@"/>

    <!--发票信息查询-->
    <sql ID="1543" value="select tax_no,legaler_phone,business_img,tax_img,company from tb_web_user_seller where user_id =?"/>
    <!-- 查询银行卡-->
    <sql ID="1544" value="select bank_full_name,account_no from tb_user_bank_card where verify_status=1 and user_id =?"/>

    <!--补充配件品牌-->
    <sql ID="1545" value="select aa.parts_cate_id,aa.parts_cate_name from tb_parts_category aa where aa.is_lock = 0 and  find_in_set(aa.parts_cate_id,(select bb.parts_cate_id from tb_parts_brand bb where bb.parts_brand_id=?))"/>
    <!--补充汽车用品下所有品牌-->
    <sql ID="1546" value="select parts_brand_id, parts_brand_name,parts_cate_id from tb_parts_brand"/>
    <sql ID="1547" value="select parts_cate_id,parts_cate_name from tb_parts_category where is_lock = 0 and parts_cate_id in(@id@)"/>
    <sql ID="1548" value="select attr_id_1,attr_value_1,attr_hashcode_1,attr_id_2,attr_value_2,attr_hashcode_2,
    price1,price2,price3,price4,price5,store_num from tb_product_sell_price where goods_id=@goods_id@"/>
    <!--补充销售属性-->
    <sql ID="1549" value="select DISTINCT aa.attr_id_1 ,aa.attr_value_1,aa.attr_hashcode_1,bb.attr_name from tb_product_sell_price aa
     LEFT JOIN tb_attribute bb on aa.attr_id_1=bb.attr_id  where aa.goods_id=@goods_id@"/>
    <sql ID="1550" value="select DISTINCT aa.attr_id_2 ,aa.attr_value_2,aa.attr_hashcode_2,bb.attr_name from tb_product_sell_price aa
    LEFT JOIN tb_attribute bb on aa.attr_id_2=bb.attr_id  where aa.goods_id=@goods_id@"/>
    <!--补充销售属性价格-->
    <sql ID="1551" value="select DISTINCT aa.attr_id_1,aa.attr_value_1,aa.attr_hashcode_1,aa.attr_id_2 ,aa.attr_value_2,aa.attr_hashcode_2,
    aa.price3 ,aa.store_num,bb.min_num_3
    from tb_product_sell_price aa left join tb_product_online bb on aa.goods_id=bb.goods_id where aa.goods_id=@goods_id@"/>
    <sql ID="1554" value="select DISTINCT aa.attr_id_1,aa.attr_value_1,aa.attr_hashcode_1,aa.attr_id_2 ,aa.attr_value_2,aa.attr_hashcode_2,
    aa.price3,aa.store_num,bb.min_num_3,aa.price4,bb.min_num_4,aa.price5,bb.min_num_5
    from tb_product_sell_price aa left join tb_product_online bb on aa.goods_id=bb.goods_id where aa.goods_id=@goods_id@"/>
    <!--查询其他几种价格-->
    <sql ID="1555" value="select goods_main_img,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,unit_name from tb_product_online where goods_id=@goods_id@"/>
    <sql ID="1556" value="select goods_main_img,price3,min_num_3,store_num,unit_name from tb_product_online where goods_id=@goods_id@"/>

    <!--补充配件品牌暂时无用-->
    <sql ID="1560" value="select goods_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_oem,is_dead,rank,orders,goods,mediums,bads,
    (select cityname from tb_city where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.goods_name,pp.price2,pp.price@pc@ as price,pp.is_oem,pp.is_dead,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc @order@ limit @row@,@pagesize@"/>
    <!--补充相关产品-->
    <sql ID="1561" value="select aa.goods_id,aa.parts_cate_id,aa.goods_main_img,aa.goods_name,aa.price2,aa.price@pc@,aa.is_oem,aa.is_dead,cc.orders
      from tb_product_online aa left join tb_product_top cc on aa.goods_id = cc.goods_id
      where aa.is_lock=0 @where@ order by aa.sort_weight desc limit 0,15"/>
    <!--急！！汽车车型和年份查询车型配置-->
    <sql ID="1562" value="select car_conf_id from tb_car_conf where car_model_id =? and manufacture_year =?"/>
    <!--新闻资讯-->
    <sql ID="1563" value="select aa.art_cateid,aa.artid,aa.art_title,cc.parent_cateid from tb_article aa
    left join tb_article_top bb on aa.artid=bb.artid
    left join tb_article_cate cc on aa.art_cateid=cc.art_cateid where cc.cate_template='simple' and aa.is_lock = 0 order by bb.clicks DESC,bb.goods DESC,bb.shares DESC limit 0,5"/>


    <!--卖家中心订单信息-->
    <sql ID="1569" value="select order_id,order_time from tb_order where user_id=? and order_id=? "/>
    <sql ID="1570" value="select aa.order_id,bb.goods_id,bb.goods_name,bb.goods_main_img,bb.property_json,bb.sale_price,bb.discount_price,bb.goods_num,dd.parts_cate_id from tb_order_supplier aa
    left join tb_order_goods bb on aa.order_id=bb.order_id
    left join tb_product_online dd on bb.goods_id=dd.goods_id where aa.user_id_supplier =? and aa.order_id =?"/>
    <!--卖家中心订单收货人信息-->
    <sql ID="1571" value="select user_id,receiver,phone,address from tb_order where order_id=?"/>
    <sql ID="1572" value="select address_id,area_name,receiver,mobile from tb_web_seller_address where is_default=1 and user_id=?"/>
    <sql ID="1573" value="select address_id,area_name,receiver,mobile from tb_web_seller_address where is_default_return=1 and user_id=?"/>

    <!-- 买家中心地址管理修改查询-->
    <sql ID="1574" value="select user_id,receiver,phone,address from tb_order where order_id=?"/>
    <!-- 买家中心地址管理修改更新-->
    <sql ID="1575" value="update tb_order set receiver=@receiver@,phone=@phone@,address=@address@ where order_id=@order_id@"/>
    <!-- 卖家中心订单物流信息确认-->
    <sql ID="1576" value="update tb_order_supplier set express_remark=@express_remark@,express_money=@express_money@,
    express_no=@express_no@,express_company=@express_company@,is_expressed=1 where order_id=@order_id@ and user_id_buyer=@user_id@"/>
    <sql ID="1577" value="select count(*) as num from tb_order_supplier where is_expressed=0 and order_id=@order_id@ "/>
    <sql ID="1578" value="update tb_order set order_status =2 where order_id=@order_id@ "/>
    <!-- 确认发货  更新tb_user_order_pay_in表 -->
    <sql ID="1583" value="update tb_user_order_pay_in set trade_status=3 where order_id=@order_id@"/>
    <!-- 确认发货  更新tb_user_order_pay_out表 -->
    <sql ID="1584" value="update tb_user_order_pay_out set trade_status=3 where order_id=@order_id@"/>
    <!-- 卖家中心批量发货-->
    <sql ID="1580" value="select order_id,receiver,order_time, address,phone from tb_order where order_id in(@id@)"/>
    <!-- 卖家中心订单信息-->
    <sql ID="1581" value="select aa.order_id,bb.goods_id,bb.goods_name,bb.goods_main_img,bb.property_json,
    bb.sale_price,bb.discount_price,bb.goods_num,dd.parts_cate_id from tb_order_supplier aa
    left join tb_order_goods bb on aa.order_id=bb.order_id
    left join tb_product_online dd on bb.goods_id=dd.goods_id where aa.user_id_supplier =? and aa.order_id =?"/>

    <!-- 卖家中心批量更新-->
    <sql ID="1582" value="select order_id,receiver,order_time, address,phone from tb_order where order_id in(@id@)"/>


    <!--我的报价-->
    <sql ID="1590" value="select aa.buy_offer_id,aa.price,aa.contacts,aa.end_time,aa.company,aa.dead_days,aa.sex,aa.mobile,aa.phone,aa.supply_status,
    aa.email,aa.norms_remark,aa.other_norms,aa.file1,bb.buy_status,bb.buy_name,bb.buy_num,bb.buy_describe,bb.start_time,bb.end_time as end,now() as now,curdate() as cnow from tb_buy_supply_info aa
    left join tb_buy_offer bb on aa.buy_offer_id=bb.buy_offer_id where @sql@"/>
    <!--我的报价 查询-->
    <sql ID="1591" value="select aa.price,aa.contacts,aa.end_time,aa.company,aa.province_id,aa.city_id,aa.dead_days,aa.sex,aa.mobile,aa.phone,
    aa.email,aa.norms_remark,aa.sub_remark,aa.other_norms,aa.file1,bb.buy_name,bb.buy_num,bb.buy_describe,bb.start_time,bb.end_time as end from tb_buy_supply_info aa
    left join tb_buy_offer bb on aa.buy_offer_id=bb.buy_offer_id where aa.buy_offer_id= ? and aa.user_id=?"/>
    <!--我的报价 修改-->
    <sql ID="1592" value="update tb_buy_supply_info set price=@wpdj@,end_time=@jgyxq@,dead_days=@jhqx@,norms_remark=@guige@,other_norms=@other_norms@,sub_remark=@baojia@,file1=@path@,
     company=@gsmc@,sex=@sex@,contacts=@sellname@,province_id=@province@,city_id=@city@,area_name=@areaname@,mobile=@telephone@,email=@email@ where buy_offer_id=@buy_offer_id@ and user_id=@user_id@"/>
    <!--我的报价 删除-->
    <sql ID="1593" value="update tb_buy_supply_info set supply_status=3 where buy_offer_id=@buy_offer_id@ and user_id=@user_id@"/>

    <!--<!- 确认收货  查询 实付款 地址 -->-->
    <!--<sql ID="1140" value="select aa.amounts,aa.order_id,aa.pay_sn,aa.address,aa.receiver,aa.phone,NOW() as receiver_time from  tb_order as aa where aa.user_id = ? and aa.order_id = ? "/>-->
    <!--<!- 确认收货  查询 实付款 地址 -->-->
    <!--<sql ID="1141" value="select trade_password,login_salt from tb_web_user where user_id = @user_id@ "/>-->
    <!--<!- 确认收货  更新order表 -->-->
    <!--<sql ID="1142" value="update tb_order set order_status = 3 where order_id = @orderId@ and user_id = @user_id@ "/>-->
    <!--<!- 确认收货  评论表插入数据 商品积分0不知道哪取 -->-->
    <!--<sql ID="1143" value="insert into tb_web_goods_reviews(order_id,user_id,goods_id,goods_name,buy_time,goods_img,credits,is_reviews)-->
    <!--select aa.order_id,aa.user_id,bb.goods_id,bb.goods_name, aa.order_time,bb.goods_main_img,0,0 from tb_order as aa left join  tb_order_goods  as bb on aa.order_id = bb.order_id where aa.order_id = @orderId@ and aa.user_id = @user_id@"/>-->


    <!-- 确认收货  更新tb_user_order_pay_in表 -->
    <sql ID="1558" value="update tb_user_order_pay_in set settle_amount=0 where seller_user_id=@seller_user_id@ and pay_sn in(@pay_sn@)"/>
    <!-- 确认收货  -->
    <sql ID="1559" value="select order_id,order_item,goods_id,property_code,goods_num from tb_order_goods where refund_status=0 and user_id_buyer=@user_id@ and order_id in(@orderId@)"/>
    <!-- 确认支付  更新tb_web_user表买家消费总金额 -->
    <sql ID="1600" value="update tb_web_user set total_money=total_money+@total_money@ where user_id=@user_id@"/>
    <!-- 确认收货  更新tb_web_user_seller表卖家销售总金额 -->
    <sql ID="1601" value="update tb_web_user_seller set sell_total_money=sell_total_money+@sell_total_money@ where user_id=@seller_user_id@"/>
    <!-- 确认收货  更新tb_user_order_pay_in表 -->
    <sql ID="1602" value="update tb_user_order_pay_in set trade_status=5,update_time=@now_time@,settle_amount=amount-refund_amount where pay_sn in(@pay_sn@)"/>
    <!-- 确认收货  更新tb_user_order_pay_out表 -->
    <sql ID="1603" value="update tb_user_order_pay_out set trade_status=5,update_time=@now_time@,settle_amount=amount-refund_amount where pay_sn in(@pay_sn@)"/>
    <!-- 确认收货  更新tb_product_top表 -->
    <sql ID="1604" value="update tb_product_top set trades=trades+@goods_num@ where goods_id=@goods_id@"/>
    <!-- 确认收货  查询tb_web_user表卖家余额、总余额 -->
    <sql ID="1605" value="select user_id,login_salt,balance_num,balance,total_balance from tb_web_user where user_id in(@seller_user_id@)"/>
    <!-- 确认收货  更新tb_web_user表卖家余额、总余额 -->
    <sql ID="1606" value="update tb_web_user set balance=?,total_balance=?,balance_num=balance_num+1 where balance_num=? and user_id=?"/>
    <!-- 确认收货  更新tb_order_goods表 -->
    <sql ID="1607" value="update tb_order_goods set refund_status=1,status_time=@now_time@ where refund_status=0 and order_id in(@orderId@)"/>
    <!-- 确认收货 运费查询 -->
    <sql ID="1608" value="select freight_rec_amount,freight_extra_amount,order_amount,refund_money from tb_order_supplier where user_id_buyer=@user_id@ and order_id in(@order_id@) "/>
    <!-- 确认收货  -->
    <sql ID="1609" value="select pay_sn,batch_no,seller_user_id,order_amount,refund_amount,amount from tb_user_order_pay_in where seller_type=1 and trade_status>2 and seller_user_id in(select user_id from tb_order_goods where refund_status=0 and user_id_buyer=@user_id@ and order_id in(@orderId@)) and buyer_user_id=@user_id@ and order_id in(@orderId@)"/>


    <!--退款管理-->
    <!-- 退款管理  查询订单商品信息 -->
    <sql ID="1610" value="select aa.user_id,aa.goods_id,aa.order_id,aa.goods_name,aa.goods_main_img,aa.property_json,aa.sale_price,aa.goods_num,aa.promotion_id,aa.amounts,bb.freight_rec_amount,bb.freight_extra_amount
    from tb_order_goods aa LEFT JOIN tb_order_supplier bb on aa.order_id =bb.order_id and aa.user_id = bb.user_id_supplier
     where aa.refund_status =0 and aa.goods_id in(@goodsId@) and aa.order_id =@orderId@ and aa.user_id_buyer=@userId@"/>
    <!-- 插入tb_order_refund表 -->
    <sql ID="1611" value="insert into tb_order_refund(refund_id,order_item,buyer_id,refund_status,status_time,create_time,dead_time,refund_serve,
    receive_status,refund_cause,refund_money,refund_remark,refund_img,pay_sn,order_id,goods_id,goods_name,goods_json,seller_id)
    select @refundId@,@order_item@,@userId@,0,now(),now(),@deadtime@,@serve@,@receivesta@,@cause@,@money@,@remark@,@refund_img@,
     aa.pay_sn,@orderId@,@goodsId@,@goodsname@,@json@,@supplier@
    from tb_order aa where aa.order_id=@orderId@ "/>
    <!-- 插入tb_order_refund_record表 -->
    <sql ID="1612" value="insert into tb_order_refund_record(refund_id,record_time,user_id,user_name,record_content,record_ip)
    values(@refundId@,now(),@userId@,@nick@,@content@,@ip@)"/>
    <!--更新订单产品表refund_status更新为2  -->
    <sql ID="1613" value="update tb_order_goods set refund_status=2,status_time=now(),refund_id=@refundId@ where goods_id=@goodsId@ and order_id =@orderId@ and order_item =@order_item@ and user_id_buyer=@userId@"/>
    <!--更新订单表order_status更新为4 -->
    <sql ID="1614" value="update tb_order set order_status = 4 where order_id =@orderId@ and user_id=@userId@"/>
    <!--查询退款表信息 -->
    <sql ID="1615" value="select aa.refund_id,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.refund_img,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,aa.seller_id,bb.goods_main_img,bb.sale_price,bb.goods_num,bb.promotion_id,bb.amounts
    from tb_order_refund aa LEFT JOIN tb_order_goods bb on aa.order_id = bb.order_id and aa.goods_id = bb.goods_id
    where aa.refund_id=?"/>
    <!--更新退款表-->
    <sql ID="1616" value="update tb_order_refund set refund_status=0,status_time=now(),refund_serve=@serve@,receive_status=@receivesta@,refund_cause=@cause@,refund_remark=@remark@,refund_img=@refund_img@,refund_money=@money@
     where refund_id=@refundId@"/>
    <sql ID="1617" value="select * from tb_order_refund_record where refund_id=? order by record_time desc"/>

    <!--买家取消退款申请-->
    <!--查询退款tb_order_refund-->
    <sql ID="1619" value="select aa.refund_id,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.create_time,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,aa.refund_img,bb.goods_main_img from tb_order_refund aa left join tb_order_goods bb on aa.order_id =bb.order_id and aa.goods_id = bb.goods_id
    where aa.refund_id=? and aa.refund_status in(0,5)"/>
    <!--查询退款tb_order_refund_record-->
    <sql ID="1620" value="select record_content,record_time,user_name,record_time,user_id from tb_order_refund_record where refund_id=@refundId@ order by record_time asc "/>
    <!-- 退款表中可否被撤销-->
    <sql ID="1621" value="select goods_id,refund_status,buyer_id,seller_id,refund_serve,express_company,express_no,refund_id from tb_order_refund where refund_id=@refundId@ and buyer_id=@userId@"/>
    <!-- is_expressed-->
    <sql ID="1622" value="select is_expressed from tb_order_supplier where is_expressed=0 and order_id =@orderId@"/>
    <!-- 查询退库中该订单下所有退款编号-->
    <sql ID="1627" value="select refund_id,seller_id,goods_id from tb_order_refund where order_id =@orderId@"/>
    <!--更新tb_order_renfund-->
    <sql ID="1623" value="update tb_order_refund set refund_status=6,status_time=now() where refund_id=@refundId@"/>
    <!--更新tb_order-->
    <sql ID="1624" value="update tb_order set order_status=@status@ where order_id=@orderId@"/>
    <!--更新tb_order_goods-->
    <sql ID="1625" value="update tb_order_goods set refund_status=0,status_time=now() where order_id=@orderId@ and goods_id=@goodsId@ and order_item=@order_item@"/>

    <!--插入tb_order_refund_record 1612-->
    <sql ID="1626" value="select refund_img from tb_order_refund where refund_id=@refundId@"/>
    <!-- 删除运费单个-->
    <sql ID="1628" value="delete from tb_order_refund where refund_id=@refundIdfee@"/>


    <!--买家退货-->
    <!--筛选需要退货信息状态应该是1-->
    <sql ID="1629" value="select aa.goods_id,aa.refund_id,aa.order_id,aa.goods_name,aa.goods_json,aa.refund_money,aa.refund_cause,aa.refund_serve,aa.refund_remark,bb.seller_receive_info
    from tb_order_refund aa LEFT JOIN tb_order_supplier bb on aa.order_id =bb.order_id  and bb.user_id_buyer =aa.buyer_id and bb.user_id_supplier =aa.seller_id
     where aa.refund_status=1 and aa.goods_id =@goodsId@ and aa.order_id =@orderId@ and aa.order_item=@item@ and aa.buyer_id=@userId@ "/>
    <!--更新tb_order_renfund-->
    <sql ID="1630" value="update tb_order_refund set refund_status=2,status_time=now(),express_time=now(),express_company=@wname@,
     express_py=@express_py@,express_no=@odd@,express_num=@num@,express_money=@cost@ where refund_id = @refundId@"/>
    <!--更新tb_order_goods refund_status=4-->
    <sql ID="1631" value="update tb_order_goods set refund_status=4,status_time=now() where order_id in(@orderId@) and goods_id in(@goodsIds@) and order_item=@order_items@ and user_id_buyer=@userId@"/>
    <!--更新tb_order-->
    <sql ID="1632" value="update tb_order set order_status=6 where order_id in (@orderId@)"/>
    <!-- 删除运费套餐-->
    <sql ID="1690" value="delete from tb_order_refund where goods_id =0 and buyer_id=@userId@ and order_id=@orderId@"/>
    <!--套餐tb_order_refund -->
    <sql ID="1691" value="update tb_order_refund set refund_status=6,status_time=now() where order_id=@orderId@ and buyer_id=@userId@"/>
    <!--套餐更新tb_order_goods -->
    <sql ID="1692" value="update tb_order_goods set refund_status=0,status_time=now() where order_id=@orderId@"/>


    <!--补充 查询该订单产品详情-->
    <sql ID="1" value="select order_id,active_id,pay_sn,user_id,amounts,biz_clazz,order_status from tb_order where order_id =@orderId@ and user_id=@userId@"/>
    <!--补充 查询该订单产品详情-->
    <sql ID="1801" value="select goods_id,refund_status,user_id,order_item,amounts,refund_id,biz_clazz from tb_order_goods where order_id =@orderId@ and user_id_buyer=@userId@"/>
    <!--补充 该订单下该卖家未退商品id num freight_id weight volume price(原价单价)-->
    <sql ID="1802" value="select aa.user_id,aa.goods_id,aa.order_id,aa.goods_num,aa.amounts,aa.sale_price,cc.freight_id,cc.weight,cc.volume
        from tb_order_goods aa LEFT JOIN  tb_product_online cc on aa.goods_id =cc.goods_id
     where aa.refund_status =0 and aa.goods_id not in(@goodsId@) and aa.order_id =@orderId@ and aa.user_id_buyer=@userId@ and aa.user_id=@supplier@"/>
    <!--退款产品卖家-->
    <sql ID="1803" value="select user_id,refund_id,biz_clazz,amounts from tb_order_goods where order_id =@orderId@ and goods_id in(@goodsId@) and user_id_buyer=@userId@ and order_item in(@order_item@)"/>
    <!--补充 该订单下总运费-->
    <sql ID="1804" value="select freight_rec_amount,freight_extra_amount,user_id_supplier from tb_order_supplier where order_id=@orderId@ and user_id_buyer=@userId@"/>
    <!--补充 该订单所有信息-->
    <sql ID="1805" value="select * from tb_order where order_id=@orderId@ and user_id=@userId@"/>

    <!--补充 该订单下 其他产品 退款状态-->
    <sql ID="1806" value="select aa.goods_id,aa.refund_status,aa.refund_serve,aa.seller_id,bb.biz_clazz from tb_order_refund aa LEFT JOIN tb_order_goods bb on aa.order_id=bb.order_id and aa.order_item=bb.order_item and aa.goods_id=bb.goods_id
    where aa.goods_id !=0 and aa.order_id=@orderId@ and aa.buyer_id=@userId@ and aa.goods_id not in(@goodsId@) and aa.order_item not in (@order_item@)"/>
    <!--补充 插入运费-->
    <sql ID="1807" value="insert into tb_order_refund(refund_id,buyer_id,refund_status,status_time,create_time,dead_time,refund_money,order_id,goods_id,goods_name,seller_id)
    values(@refundIdfee@,@userId@,0,now(),now(),@deadtime@,@refundfee@,@orderId@,0,'运费',@supplierId@)"/>
    <!--补充 查询该订单退款状态-->
    <sql ID="1808" value="select goods_id,refund_status,refund_serve,seller_id from tb_order_refund where order_id=@orderId@ and order_item in(@order_item@) and buyer_id=@userId@ and goods_id in(@goodsId@)"/>
    <!--退款商品所属卖家运费是否存在-->
    <sql ID="1840" value="select refund_id,refund_status from tb_order_refund where goods_id=0 and order_id=@orderId@ and seller_id=@supplier@ and buyer_id=@userId@"/>
    <!--删除运费-->
    <sql ID="1841" value="delete from tb_order_refund where refund_id=@refundIdfee@"/>
    <!-- 查询退款表是否有运费插入-->
    <sql ID="1842" value="select refund_id from tb_order_refund where goods_id=0 and order_id=@orderId@ and buyer_id=@userId@"/>
    <!-- 删除运费套餐-->
    <sql ID="1843" value="delete from tb_order_refund where goods_id =0 and buyer_id=@userId@ and order_id=@orderId@"/>
    <!--查询退款状态-->
    <sql ID="1844" value="select refund_id from tb_order_refund where order_id=@orderId@ and seller_id=@supplier@ and buyer_id=@userId@"/>
    <!--查询系统退款操作记录-->
    <sql ID="1845" value="select bank_amount,pay_time,pay_status from tb_order_pay_refund where ori_pay_sn = @pay_sn@ and order_id=@orderId@ and pay_status=1"/>
    <sql ID="1846" value="select pay_sn from tb_order where order_id=@orderId@ and user_id=@userId@ "/>
    <sql ID="1847" value="select refund_clazz,retund_time from tb_order_refund where refund_id=@refundId@ and buyer_id=@userId@ "/>

    <sql ID="1848" value="select refund_clazz,retund_time from tb_order_refund where refund_id=@refundId@ and buyer_id=@userId@ "/>
    <!--补充 插入运费-->
    <sql ID="1849" value="insert into tb_order_refund(refund_id,buyer_id,refund_status,status_time,create_time,refund_money,order_id,goods_id,goods_name,seller_id)
    values(@refundIdfee@,@userId@,0,now(),now(),@refundfee@,@orderId@,0,'运费',@supplierId@)"/>
    <!--更新运费状态-->
    <sql ID="1850" value="update tb_order_refund set refund_status=0,status_time=now() where refund_id =@refundIdfee@"/>

    <!--同价调拨有销售属性-->
    <sql ID="1809" value="select DISTINCT aa.attr_id_1,aa.attr_value_1,aa.attr_hashcode_1,aa.attr_id_2,aa.attr_value_2,aa.attr_hashcode_2,
    aa.price@pc@ as prices from tb_product_sell_price aa left join tb_product_online bb on aa.goods_id=bb.goods_id where aa.goods_id=@goods_id@"/>
    <!--同价调拨无销售属性-->
    <sql ID="1810" value="select price@pc@ from tb_product_online where goods_id=@goods_id@"/>

    <!-- 1610 查询订单商品信息  考虑到销售属性 以条目判断 -->
    <sql ID="1633" value="select aa.refund_status,aa.user_id,aa.biz_clazz,aa.refund_id,aa.goods_id,aa.order_id,aa.goods_num,aa.amounts,bb.freight_rec_amount,bb.freight_extra_amount
    from tb_order_goods aa LEFT JOIN tb_order_supplier bb on aa.order_id =bb.order_id and aa.user_id = bb.user_id_supplier
     where aa.goods_id =@goodsId@ and aa.order_id =@orderId@ and aa.order_item=@order_item@ and aa.user_id_buyer=@userId@"/>
    <!-- 1615 根据refundid查询订单商品信息  -->
    <!--<sql ID="1634" value="select aa.refund_id,aa.order_item,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.refund_img,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,aa.seller_id from tb_order_refund aa
    where aa.refund_id=@refundId@ and aa.refund_status=0"/>-->
    <sql ID="1634" value="select aa.refund_id,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,aa.refund_img from tb_order_refund aa
    where aa.refund_id=@refundId@"/>
    <!-- 查询是否存在退款记录 -->
    <sql ID="1635" value="select aa.refund_id,aa.order_item,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.refund_img,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,aa.seller_id,bb.goods_main_img,bb.sale_price,bb.goods_num,bb.amounts
    from tb_order_refund aa LEFT JOIN tb_order_goods bb on aa.order_id = bb.order_id and aa.goods_id = bb.goods_id and aa.order_item=bb.order_item
    where aa.goods_id =@goodsId@ and aa.order_id =@orderId@ and bb.order_item=@item@ and aa.refund_status=6 and aa.buyer_id=@userId@"/>
    <!-- 查询退款申请 等待商家处理退款申请-->
    <sql ID="1636" value="select aa.refund_id,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.create_time,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,aa.refund_img from tb_order_refund aa
    where aa.goods_id =@goodsId@ and aa.order_id =@orderId@ and aa.order_item=@item@ and aa.buyer_id=@userId@ and aa.refund_status in(0,5)"/>
    <!-- 查询退款申请 等待商家处理退款申请-->
    <sql ID="1637" value="select aa.refund_id,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.create_time,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,aa.refund_img from tb_order_refund aa
    where aa.refund_id=@refundId@ and aa.refund_status in(0,5)"/>
    <!-- 插入tb_order_refund表 -->
    <sql ID="1638" value="insert into tb_order_refund(refund_id,dead_time,refund_serve,receive_status,refund_cause,refund_remark,refund_img,pay_sn,order_item,buyer_id,refund_status,status_time,create_time,order_id,goods_id,goods_name,goods_json,seller_id,refund_money)
    select @refundId@,@deadtime@,@serve@,@receivesta@,@cause@,@remark@,@refund_img@,@pay_sn@,aa.order_item,aa.user_id_buyer,0,now(),now(),aa.order_id,aa.goods_id,aa.goods_name,aa.property_json,aa.user_id,@money@
    from tb_order_goods aa where aa.order_id=@orderId@ and aa.order_item=@order_item@ and aa.goods_id=@goodsId@ and aa.user_id_buyer=@userId@"/>
    <!-- 查询退款商品卖家运费 -->
    <sql ID="1639" value="select freight_rec_amount,freight_extra_amount,user_id_supplier from tb_order_supplier where order_id=@orderId@ and user_id_buyer=@userId@ and user_id_supplier =@supplier@"/>
    <!-- 查询退款运费 -->
    <sql ID="1657" value="insert into tb_order_refund(refund_id,buyer_id,refund_status,status_time,create_time,refund_money,order_id,goods_id,goods_name,seller_id)
    values(@refundIdfee@,@userId@,0,now(),now(),@refundfee@,@orderId@,0,'运费',@supplier@)"/>
    <!-- 更新tb_order_refund表-->
    <sql ID="1658" value="update tb_order_refund set refund_status=0,status_time=now(),dead_time=@deadtime@,receive_status=@receivesta@,refund_cause=@cause@,refund_money=@money@,refund_remark=@remark@,refund_img=@refund_img@,refund_serve=@serve@
     where refund_id=@refundId@"/>
    <sql ID="1659" value="select goods_id,refund_status,refund_serve,seller_id from tb_order_refund where order_id=@orderId@ and order_item in(@order_items@) and goods_id in(@goodsIds@) and buyer_id=@userId@ "/>

    <!--补充 查询该订单状态-->
    <sql ID="1640" value="select order_status from tb_order where order_id=?"/>
    <!--补充 卖家确认退款退货order 状态改为5-->
    <sql ID="1641" value="update tb_order set order_status=@sta@ where order_id=@orderId@"/>
    <!--补充 卖家确认退款退货 订单下的申请退款的个数-->
    <sql ID="1642" value="select count(goods_id) as gs from tb_order_goods where order_id=? "/>
    <!--补充 卖家确认退款退货 该订单下要申请的退款个数 排除运费-->
    <sql ID="1643" value="select count(goods_id) as gds from tb_order_refund where refund_status=0 and goods_id !=0 and order_id=? and seller_id =?"/>
    <!--补充 卖家确认退款退货 goodsId 是否有换货行为-->
    <sql ID="1644" value="select goods_id from tb_order_refund where refund_status=0 and refund_serve=3 and goods_id !=0 and order_id=?"/>
    <!--补充 卖家确认退款退货 goodsId 仅退款产品的个数-->
    <sql ID="1646" value="select count(goods_id) as tk from tb_order_refund where refund_status=0 and refund_serve=1 and goods_id !=0 and order_id=?"/>
    <!--补充 卖家确认退款退货 该订单下 其他卖家下的产品状态 是否处于0买家已申请退款等待卖家确认-->
    <sql ID="1647" value="select goods_id from tb_order_refund where refund_status=0 and goods_id!=0 and goods_id not in(select goods_id from tb_order_refund where refund_status=0 and seller_id=? and order_id=?)  and order_id=?"/>
    <!--补充 该卖家确认收货 的个数-->
    <sql ID="1651" value="select count(goods_id) as gds from tb_order_refund where refund_status=2 and goods_id !=0 and order_id=? and seller_id =?"/>
    <!--补充 其他买家卖家有要确认收货 的个数-->
    <sql ID="1649" value="select goods_id from tb_order_refund where refund_status=2 and goods_id !=0 and order_id=? and seller_id !=?"/>

    <!--补充 卖家确认收货  是否有行为-->
    <sql ID="1645" value="select count(goods_id) as ifser from tb_order_refund where refund_status=2 and refund_serve=3 and goods_id !=0 and order_id=?"/>

    <sql ID="1648" value="update tb_order_refund set refund_status=@rsta@,status_time=now() where refund_id=@refundId@"/>
    <sql ID="1650" value="update tb_order_goods set refund_status=@osta@,status_time=now() where order_id =@orderId@ and goods_id =@goodsId@"/>
    <!--查询撤销的退款tb_order_refund-->
    <sql ID="1652" value="select aa.refund_id,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.create_time,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,bb.goods_main_img from tb_order_refund aa left join tb_order_goods bb on aa.order_id =bb.order_id and aa.goods_id = bb.goods_id
    where aa.buyer_id=? and aa.refund_id=? and aa.refund_status =6 and aa.goods_id != 0 order by aa.create_time desc"/>


    <!--查询已经退款的退款tb_order_refund-->
    <sql ID="1654" value="select aa.refund_id,aa.refund_status,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.refund_money,aa.refund_remark,
    aa.create_time,aa.order_id,aa.goods_id,aa.goods_name,aa.goods_json,bb.goods_main_img from tb_order_refund aa left join tb_order_goods bb on aa.order_id =bb.order_id and aa.goods_id = bb.goods_id
    where aa.buyer_id=? and aa.refund_id=? and bb.refund_status in(5,6) and aa.goods_id != 0 order by aa.create_time desc"/>
    <!--查询已经退款的tb_product_online-->
    <sql ID="1655" value="update tb_product_online set store_num=store_num+@store@ where goods_id=@goodsId@"/>
    <!--查询已经退款tb_product_top-->
    <sql ID="1656" value="update tb_product_top set refunds=refunds+@store@ where goods_id=@goodsId@"/>





    <!--筛选已经退货信息状态应该是2-->
    <sql ID="1660" value="select aa.goods_id,aa.refund_id,aa.order_id,aa.goods_name,aa.goods_json,aa.refund_money,aa.refund_cause,aa.refund_serve,aa.refund_remark,aa.express_py,aa.express_no,bb.seller_receive_info
    from tb_order_refund aa LEFT JOIN tb_order_supplier bb on aa.order_id =bb.order_id  and bb.user_id_buyer =aa.buyer_id and bb.user_id_supplier =aa.seller_id
     where aa.refund_status =2 and aa.goods_id =@goodsId@ and aa.order_id =@orderId@ and aa.order_item=@item@ and aa.buyer_id=@userId@ "/>


    <!-- &lt;!&ndash; 插入tb_order_refund表 &ndash;&gt;
     <sql ID="1638" value="insert into tb_order_refund(refund_id,dead_time,refund_serve,receive_status,refund_cause,refund_remark,refund_img,pay_sn,order_item,buyer_id,refund_status,status_time,create_time,order_id,goods_id,goods_name,goods_json,seller_id,refund_money)
     select @refundId@,@deadtime@,@serve@,@receivesta@,@cause@,@remark@,@refund_img@,@pay_sn@,aa.order_item,aa.user_id_buyer,0,now(),now(),aa.order_id,aa.goods_id,aa.goods_name,aa.property_json,aa.user_id,@money@
     from tb_order_goods aa where aa.order_id=@orderId@ and aa.order_item=@order_item@ and aa.goods_id=@goodsId@ and aa.user_id_buyer=@userId@"/>
    -->
    <!-- 更新tb_order_refund表 1658-->
    <sql ID="1661" value="update tb_order_refund set refund_status=0,status_time=now(),dead_time=@deadtime@,receive_status=@receivesta@,refund_cause=@cause@,refund_money=@money2@,refund_remark=@remark@,refund_img=@refund_img@,refund_serve=@serve2@
     where refund_id=@refundId2@"/>
    <!-- 插入tb_order_refund_record表 -->
    <sql ID="1662" value="insert into tb_order_refund_record(refund_id,record_time,user_id,user_name,record_content,record_ip)
    values(@refundIdG@,now(),@userId@,@nick@,@content@,@ip@)"/>
    <!--更新订单产品表refund_status更新为2  1613  -->
    <sql ID="1663" value="update tb_order_goods set refund_status=2,status_time=now(),refund_id=@refundIdG@ where goods_id=@goodsIdG@ and order_id =@orderId@ and order_item =@order_itemG@ and user_id_buyer=@userId@"/>

    <sql ID="1664" value="select aa.user_id_buyer,aa.refund_status,aa.order_item,aa.user_id,aa.goods_id,aa.order_id,bb.seller_receive_info
    from tb_order_goods aa left join tb_order_supplier bb on aa.order_id =bb.order_id and aa.user_id_buyer = bb.user_id_buyer and aa.user_id = bb.user_id_supplier
     where aa.goods_id in(@goodsId@) and aa.order_item in(@order_item@) and aa.order_id in(@orderId@) and aa.user_id_buyer=@userId@"/>



    <!--搜索结果页 查询-->
    <sql ID="1671" value="select brand_ids,car_model_ids,car_conf_ids from tb_product_online where goods_id=@goods_id@"/>

    <!-- mobel配件第1层 -->
    <sql ID="1709" value="select parts_cate_id,parts_cate_name from tb_parts_category where (parts_cate_id%?=0) and is_lock = 0"/>
    <sql ID="1700" value="select parts_cate_id,parts_cate_name,icon_font from tb_parts_category where (parts_cate_id%?=0) and parts_cate_id!=270000 and is_lock = 0"/>
    <!-- 配件第3层-->
    <sql ID="1701" value="select parts_cate_id,parts_cate_name from tb_parts_category where parts_cate_id＞? and parts_cate_id＜=(?+99) and is_lock = 0"/>
    <!-- 汽车用品-->
    <sql ID="1702" value="select goods_id,user_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_sale_property,sale_limit,is_oem,is_dead,store_num,rank,clickeds,orders,goods,mediums,bads,refunds,trades,sort_weight
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,refunds from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price3 as price,pp.is_sale_property,pp.sale_limit,pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by sort_weight desc limit @row@,@pagesize@ "/>
    <!-- 配件分类-->
    <sql ID="1703" value="select goods_id,user_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_sale_property,sale_limit,is_oem,is_dead,store_num,rank,clickeds,orders,goods,mediums,bads,refunds,trades,sort_weight,
    (select cityname from tb_city where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,refunds from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price3 as price,pp.is_sale_property,pp.sale_limit,pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by @order@ goods_id desc limit @row@,@pagesize@ "/>
    <!-- 配件二分类-->
    <sql ID="1705" value="select parts_cate_id,parts_cate_name,parts_cate_parent from tb_parts_category where (parts_cate_id%100=0) and parts_cate_parent != 0 and is_lock = 0"/>
    <!-- 配件大分类-->
    <sql ID="1706" value="select parts_cate_id,parts_cate_name,parts_cate_parent from tb_parts_category where parts_cate_parent=0 and is_lock = 0"/>
    <!-- 省份拼音读取-->
    <sql ID="1707" value="select provinceid,provincename,SUBSTRING(provincepy,1,1) as provincepy from tb_province"/>
    <!-- 滞销产品-->
    <sql ID="1708" value="select goods_id,user_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_sale_property,sale_limit,is_oem,is_dead,store_num,rank,orders,clickeds,goods,mediums,bads,trades,refunds,sort_weight,
    (select cityname from tb_city where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,ca.refunds from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price3 as price,pp.is_sale_property,pp.sale_limit,pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 and pp.is_dead=1 and pp.store_num >0 @sql@ ) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by @order@ goods_id desc limit @row@,@pagesize@"/>

    <!--补充 新闻查询-->

    <!-- 查询大分类-->
    <sql ID="1710" value="select art_cateid,catename from tb_article_cate where cate_template='simple' and parent_cateid =0"/>
    <!-- 查询文章依据大分类-->
    <sql ID="1711" value="select aa.artid,aa.art_cateid,aa.art_title,aa.art_content,aa.art_img,aa.art_author,cc.parent_cateid,cc.catename
    FROM tb_article aa LEFT JOIN tb_article_cate cc on aa.art_cateid=cc.art_cateid
    where cc.cate_template='simple' and aa.is_lock = 0 and parent_cateid!=0 order by aa.update_time desc "/>
    <!-- 热点-->
    <sql ID="1712" value="select aa.art_cateid,aa.artid,aa.art_title,aa.art_content,aa.art_img,cc.parent_cateid
    from tb_article aa left join tb_article_top bb on aa.artid=bb.artid left join tb_article_cate cc on aa.art_cateid=cc.art_cateid
    where aa.is_lock = 0 and cc.cate_template='simple' order by bb.clicks DESC,bb.goods DESC,bb.shares desc limit 0,4"/>
    <!-- 广告推荐-->
    <sql ID="1713" value="select aa.art_cateid,aa.artid,aa.art_title,aa.art_content,aa.art_img,cc.parent_cateid
    from tb_article aa left join tb_article_top bb on aa.artid=bb.artid left join tb_article_cate cc on aa.art_cateid=cc.art_cateid
    where aa.is_lock = 0 and cc.cate_template='simple' and parent_cateid=@parent_cateid@ order by bb.clicks DESC,bb.goods DESC,bb.shares desc limit 0,3"/>
    <!-- 热点资讯-->
    <sql ID="1714" value="select aa.artid,aa.art_cateid,aa.art_title,aa.art_img,aa.create_time,bb.parent_cateid
    from tb_article aa left join tb_article_cate bb on aa.art_cateid=bb.art_cateid
    where aa.is_lock = 0 and bb.cate_template='simple' and parent_cateid=@parent_cateid@ order by aa.is_recommend desc,aa.create_time desc limit 0,4"/>
    <!-- 该分类下所有文章-->
    <sql ID="1715" value="select aa.artid,aa.art_cateid,aa.art_title,aa.art_content,aa.art_img,aa.art_author,cc.parent_cateid,cc.catename
    FROM tb_article aa LEFT JOIN tb_article_cate cc on aa.art_cateid=cc.art_cateid
    where cc.cate_template='simple' and aa.is_lock = 0 and parent_cateid=@parent_cateid@ order by aa.update_time desc "/>
    <!--文章 点击量更新-->
    <sql ID="1716" value="update tb_article_top set clicks = clicks+1 where artid=@artid@"/>


    <!-- 获取汽车型号 -->
    <sql ID="1717" value="select brand_id,car_model_id,car_model_name,(select brand_name from tb_car_brand where brand_id = ?) as brand_name from tb_car_model where brand_id = ?"/>
    <!-- 获取汽车年款 -->
    <sql ID="1718" value="select distinct bb.brand_id,aa.car_model_id,cc.manufacture_year,bb.brand_name,aa.car_model_name from tb_car_model aa,tb_car_brand bb,tb_car_conf cc
    where aa.car_model_id=? and aa.brand_id = bb.brand_id and  aa.car_model_id =cc.car_model_id"/>
    <!-- 获取汽车配置 -->
    <sql ID="1719" value="select cc.car_conf_id,cc.car_conf_name,aa.brand_id,aa.car_model_id,bb.brand_name,aa.car_model_name,manufacture_year
    from tb_car_model aa,tb_car_brand bb,tb_car_conf cc
    where aa.car_model_id =? and cc.manufacture_year =? and aa.brand_id =bb.brand_id and  aa.car_model_id =cc.car_model_id"/>
    <!-- 获取我的汽车信息列表 -->
    <sql ID="1720" value="select aa.user_id,aa.car_id,aa.vin,aa.buy_date,aa.car_name,aa.brand_id,aa.car_model_id,aa.car_conf_id,aa.car_no,aa.car_km,aa.car_name,aa.user_name,aa.user_phone
     from mt_car aa left join tb_web_user ee on aa.user_id = ee.user_id where aa.user_id =? "/>
    <!-- 保存我的汽车 -->
    <sql ID="1721" value="insert into mt_car (brand_id,car_model_id,car_conf_id,user_id,car_name) value (@brand_id@,@car_model_id@,@car_conf_id@,@user_id@,@car_name@) "/>
    <!-- 获取汽车 -->
    <sql ID="1722" value="update tb_web_user set brand_id=@brand_id@,car_model_id=@car_model_id@,car_conf_id=@car_conf_id@ where user_id=@user_id@ "/>
    <!-- 获取我的汽车信息-->
    <sql ID="1723" value="select aa.user_id,aa.car_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,ee.real_name,ee.valid_mobile
     from mt_car aa LEFT JOIN tb_web_user ee on aa.user_id = ee.user_id where aa.user_id =@user_id@"/>
    <!-- 根据三个或四个条件获取我的汽车信息 -->
    <sql ID="1724" value="select aa.user_id,aa.car_id,aa.brand_id,aa.car_model_id,aa.car_conf_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.car_name,aa.user_name,aa.user_phone
     from mt_car aa where @sql@"/>
    <!--更新 mt_car-->
    <sql ID="1725" value="update mt_car set vin=@vin@,buy_date=@buy_date@,car_no=@car_no@,car_km=@car_km@,user_name=@user_name@,user_phone=@user_phone@ where
     car_id=@car_id@ "/>
    <!--插入 mt_car-->
    <sql ID="1726" value="insert into mt_car (brand_id,car_model_id,car_conf_id,user_id,car_name,car_no,car_km,user_name,user_phone,buy_date,vin)
    value ( @brand_id@,@car_model_id@,@car_conf_id@,@user_id@,@car_name@,@car_no@,@car_km@,@user_name@,@user_phone@,@buy_date@,@vin@)"/>
    <!--删除-->
    <sql ID="1727" value="delete from mt_car where car_id=@car_id@  "/>
    <!--新增时查询车架号-->
    <sql ID="1728" value="select aa.user_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.car_name,ee.real_name,ee.valid_mobile
     from mt_car aa left join tb_web_user ee on aa.user_id = ee.user_id where aa.vin=@vin@ and aa.user_id=@user_id@"/>
    <!--工时页-->
    <!--查询id 保养查询已用-->
    <sql ID="1729" value="select now()as now,cc.user_id,cc.car_id,cc.brand_id,cc.car_model_id,cc.car_conf_id,cc.vin,cc.buy_date,cc.car_name,cc.car_no,cc.car_km,cc.user_name,cc.user_phone,uu.province_id,uu.city_id,uu.area_id
     from mt_car cc left join tb_web_user uu on cc.user_id = uu.user_id where cc.car_id = ?"/>
    <!--查询工时-->
    <sql ID="1730" value="select hour_id,cate_id,hour_name,hour_ico,hour_cycle,hour_kilometre,hour_rank,hour_content
     from mt_hour_item where service_clazz = 1 and find_in_set(@car_conf_id@,hour_conf_ids) @sql@  order by hour_rank"/>
    <!--商品页-->
    <!--查询所选车型 用1729-->
    <sql ID="1731" value="select car_id,brand_id,car_model_id,car_conf_id,buy_date,car_name,car_name from mt_car where car_id =@car_id@"/>
    <!--查询保养产品 一级-->
    <sql ID="1732" value="select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,ca.refunds from
     (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.goods_name,pp.price3,pp.min_num_3,pp.price4,pp.min_num_4,pp.price5,pp.min_num_5,pp.sale_limit,pp.weight,pp.volume,pp.freight_id,
      pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time,mm.hour_id,mm.material_id,mm.unit_name,mm.unit_per from tb_product_online pp LEFT JOIN mt_material mm  on
    pp.parts_cate_id= mm.parts_cate_id where pp.is_lock=0 @sql@) pa left join tb_product_top ca on pa.goods_id = ca.goods_id @order@ limit 1"/>

    <!-- 保养产品列表查询-->
    <sql ID="1733" value="select goods_id,user_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,is_sale_property,sale_limit,is_oem,is_dead,store_num,rank,weight,volume,freight_id,orders,clickeds,goods,mediums,bads,trades,refunds,sort_weight,
    (select areaname from tb_area where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,ca.refunds from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price3,pp.min_num_3,pp.price4,pp.min_num_4,pp.price5,pp.min_num_5,pp.weight,pp.volume,pp.freight_id,
    pp.is_sale_property,pp.sale_limit,pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@ ) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by @order@ goods_id desc limit @row@,@pagesize@"/>
    <!--服务商页-->
    <!--根据所选服务查询服务商-->
    <!-- <sql ID="1734" value="select uu.user_id,rr.province_id,rr.city_id,rr.area_id,uu.company,uu.contacts_phone,uu.company_address,mm.hour_id,sum(mm.user_hour_fee) as fee
     from  mt_fee mm left join tb_web_user_seller uu on mm.user_id = uu.user_id left join tb_web_user rr on mm.user_id = rr.user_id
     where uu.user_id !='' and find_in_set(@car_model_ids@,mm.car_model_ids) and mm.hour_id in (@hours@) @area_id@ group by mm.user_id HAVING COUNT(mm.fee_id) = @size@"/> -->
    <!--  <sql ID="1734" value="select uu.user_id from tb_web_user uu where uu.user_id in( select user_id from
       (select distinct user_id,hour_id from mt_fee where find_in_set(@car_model_ids@,car_model_ids) and hour_id in (@hours@)) aa group by user_id having count(hour_id)=@size@) @area_id@"/> -->
    <sql ID="1734" value="select uu.user_id,rr.province_id,rr.city_id,rr.area_id,uu.company,uu.contacts_phone,uu.company_address,mm.hour_id,mm.user_hour_fee
    from  mt_fee mm left join tb_web_user_seller uu on mm.user_id = uu.user_id left join tb_web_user rr on mm.user_id = rr.user_id
    where uu.user_id !='' and  find_in_set(@car_model_ids@,car_model_ids) and mm.hour_id in (@hours@) and uu.user_id in( select user_id from
     (select distinct user_id,hour_id from mt_fee where find_in_set(@car_model_ids@,car_model_ids) and hour_id in (@hours@))  aa group by user_id having count(hour_id)=@size@)  @area_id@
     ORDER BY uu.user_id,mm.hour_id,mm.user_hour_fee asc"/>
    <!--工时名称查询-->
    <sql ID="1735" value="select hour_id,cate_id,hour_name,hour_ico,hour_cycle,hour_kilometre,hour_rank,hour_content
     from mt_hour_item where hour_id in(?)"/>
    <!--根据所选服务查询服务商 已用-->
    <sql ID="1736" value="select goods_id,user_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price3,min_num_3,price4,min_num_4,price5,min_num_5,is_sale_property,sale_limit,is_oem,is_dead,store_num,rank,weight,volume,freight_id,orders,clickeds,goods,mediums,bads,trades,refunds,sort_weight,
    (select cityname from tb_city where cityid = (select city_id from tb_web_user uu where uu.user_id = aa.user_id))as city,
    (select areaname from tb_area where areaid = (select area_id from tb_web_user uu where uu.user_id = aa.user_id))as area
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,ca.refunds from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price3,pp.min_num_3,pp.price4,pp.min_num_4,pp.price5,pp.min_num_5,pp.weight,pp.volume,pp.freight_id,
    pp.is_sale_property,pp.sale_limit,pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@ ) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa "/>
    <!--查找特约服务商-->
    <sql ID="1737" value="select mm.user_hour_fee,uu.company from mt_fee mm left join tb_web_user_seller uu on mm.user_id=uu.user_id  where mm.user_id = @service@ and mm.hour_id in(@hours@) "/>
    <!--推荐特约服务商-->
    <!--<sql ID="1738" value="select mm.user_id,rr.province_id,rr.city_id,rr.area_id,mm.hour_id,sum(mm.user_hour_fee) as user_hour_fee
    from mt_fee mm left join tb_web_user rr on mm.user_id = rr.user_id
    where mm.user_id !='' and find_in_set(@car_model_ids@,mm.car_model_ids) and mm.hour_id in (@hours@) group by mm.user_id HAVING COUNT(mm.fee_id) = @size@ @area@ limit 1"/>-->
    <sql ID="1738" value="select uu.user_id,uu.province_id,uu.city_id,uu.area_id from tb_web_user uu where uu.user_id in( select user_id from
     (select distinct user_id,hour_id from mt_fee where find_in_set(@car_model_ids@,car_model_ids) and hour_id in (@hours@)) aa group by user_id having count(hour_id)=@size@) @area@ limit 1"/>
    <!--推荐特约服务商  无地区-->
    <!--<sql ID="1758" value="select mm.user_id,rr.province_id,rr.city_id,rr.area_id,mm.hour_id,sum(mm.user_hour_fee) as user_hour_fee
    from mt_fee mm left join tb_web_user rr on mm.user_id = rr.user_id
    where mm.user_id !='' and find_in_set(@car_model_ids@,mm.car_model_ids) and mm.hour_id in (@hours@) group by mm.user_id HAVING COUNT(mm.fee_id) = @size@ limit 1"/>-->
    <sql ID="1758" value="select uu.user_id,uu.province_id,uu.city_id,uu.area_id from tb_web_user uu where uu.user_id in( select user_id from
     (select distinct user_id,hour_id from mt_fee where find_in_set(@car_model_ids@,car_model_ids) and hour_id in (@hours@)) aa group by user_id having count(hour_id)=@size@) limit 1"/>
    <!--工时名称查询-->
    <sql ID="1739" value="select hour_id,hour_name from mt_hour_item where hour_id in(@hours@)"/>
    <!--补充 公里数保存-->
    <sql ID="1740" value="update mt_car set car_km=@car_km@ where car_id=@car_id@ "/>
    <!--补充 查询工时-->
    <sql ID="1741" value="select * from mt_cate where service_clazz=1"/>

    <!--精确筛选 1728   非首次注册-->
    <sql ID="1742" value="select aa.user_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.car_name,ee.real_name,ee.valid_mobile
     from mt_car aa left join tb_web_user ee on aa.user_id = ee.user_id where aa.car_id != @car_id@ and aa.vin=@vin@ and aa.user_id=@user_id@"/>

    <sql ID="1743" value="select bb.brand_name,mm.car_model_name,cc.car_conf_name,cc.car_image from tb_car_brand bb,tb_car_model mm,tb_car_conf cc where
     bb.brand_id=? and mm.car_model_id=? and cc.car_conf_id = ?"/>
    <!--根据用户id查询服务商-->
    <sql ID="1744" value="select uu.user_id,uu.province_id,uu.city_id,uu.area_id from tb_web_user uu where uu.user_id = ?"/>
    <!--根据用户hoursid查询工时相关信息-->
    <!--<sql ID="1745" value="select mm.parts_cate_id,mm.material_id,mm.unit_name,mm.unit_per,hh.hour_name,hh.hour_id
    from mt_hour_item hh left join mt_material mm on mm.hour_id = hh.hour_id where hh.hour_id in(@hours@)"/>-->
    <sql ID="1745" value="select mm.parts_cate_id,mm.material_id,mm.unit_name,mm.unit_per,hh.hour_name,hh.hour_id,pp.parts_cate_name
    from mt_hour_item hh left join mt_material mm on mm.hour_id = hh.hour_id  LEFT JOIN tb_parts_category pp on mm.parts_cate_id=pp.parts_cate_id where hh.hour_id in(@hours@)"/>
    <!--查询分条工时费 综合服务上信息及工时费及工时名称-->
    <sql ID="1746" value="select mm.user_id,mm.user_hour_fee,uu.company,uu.company_address,mm.hour_id,hh.hour_name,aa.valid_mobile,aa.province_id,aa.city_id,aa.area_id
     from mt_fee mm left join tb_web_user_seller uu on mm.user_id=uu.user_id left join tb_web_user aa on mm.user_id=aa.user_id
    left join mt_hour_item hh on mm.hour_id=hh.hour_id where mm.user_id = @service@ and mm.hour_id in(@hours@) and find_in_set(@car_model_ids@,mm.car_model_ids)"/>
    <!--查询 tb_order_statistics 中二级代理商产品-->
    <!--<sql ID="1747" value="select goods_id from tb_order_statistics where
    parts_cate_id =@parts_cate_id@ and (user_id=@service@ or son_user_id=@service@) group by goods_id HAVING SUM(move_num)＞0 limit 1"/>-->
    <sql ID="1747" value="select goods_id,parts_cate_id from tb_product_online where
    ((brand_ids = '0') or (FIND_IN_SET(@brand_id@,brand_ids) and car_model_ids='0') or (FIND_IN_SET(@car_model_id@,car_model_ids) and car_conf_ids='0')  or (FIND_IN_SET(@car_conf_id@,car_conf_ids))) and
     goods_id in (select goods_id from tb_order_statistics where parts_cate_id =@parts_cate_id@ and son_user_id=@service@ group by goods_id HAVING SUM(move_num)＞0) limit 1  "/>
    <!--一级二级goodsid-->
    <sql ID="1748" value="select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.goods_name,pp.store_num,pp.price3,pp.min_num_3,pp.price4,pp.min_num_4,pp.price5,pp.min_num_5,pp.sale_limit,pp.weight,pp.volume,pp.freight_id,
     pp.rank,pp.sort_weight,mm.hour_id,mm.material_id,mm.unit_name,mm.unit_per from tb_product_online pp LEFT JOIN mt_material mm  on
     pp.parts_cate_id= mm.parts_cate_id where pp.is_lock=0 and pp.goods_id in(@pro_goods@)"/>
    <!--列表页查询 tb_order_statistics 中二级代理商产品-->
    <sql ID="1749" value="select goods_id from tb_order_statistics where
    parts_cate_id =@parts_cate_id@ and son_user_id=@service@ group by goods_id HAVING SUM(move_num)＞0 "/>

    <!--查询提供工时最多的服务商之一-->
    <sql ID="1755" value="select mm.user_id,uu.company,count(mm.hour_id) as number from mt_fee mm left join tb_web_user_seller uu on mm.user_id = uu.user_id
    where mm.user_id !='' and find_in_set(@car_model_ids@,mm.car_model_ids) and mm.hour_id in (@hours@) group by mm.user_id order by number desc limit 1"/>
    <!--查询 该服务商能否提供指定工时-->
    <sql ID="1756" value="select mm.user_id,mm.hour_id,hh.hour_name from mt_fee mm left join mt_hour_item hh on mm.hour_id = hh.hour_id
    where mm.user_id =@service@ and find_in_set(@car_model_ids@,mm.car_model_ids) and mm.hour_id in (@hours@) "/>
    <!--查询 该服务商能否提供指定工时-->
    <sql ID="1757" value="select mm.user_id,mm.hour_id,hh.hour_name from mt_fee mm left join mt_hour_item hh on mm.hour_id = hh.hour_id
    where mm.user_id =@service@ and mm.hour_id in (@hours@) "/>
    <!--查询 该服务商工时费-->
    <sql ID="1759" value="select mm.user_id,mm.hour_id,hh.hour_name from mt_fee mm left join mt_hour_item hh on mm.hour_id = hh.hour_id
    where mm.user_id =@service@ and mm.hour_id in (@hours@) "/>

    <!--个人中心修改资料-->
    <!--1759/没哟     个人中心修改资料查询-->
    <sql ID="1760" value="select avatar,nick,sex,valid_mobile,valid_email,qq,wechat_id,real_name,province_id,city_id,area_id from tb_web_user where user_id =@user_id@"/>
    <!--个人中心修改-->
    <sql ID="1761" value="update tb_web_user set avatar=@avatar@,nick=@nick@,qq=@qq@,wechat_id=@wechat_id@,real_name=@real_name@,sex=@sex@,valid_mobile=@valid_mobile@,valid_email=@valid_email@,province_id=@province_id@,city_id=@city_id@,area_id=@area_id@ where user_id=@user_id@"/>
    <!--搜索结果页修改-->
    <!--汽车用品搜索结果页-->
    <sql ID="1762" value="select aa.user_id,aa.store_num,aa.goods_main_img,aa.goods_name,aa.goods_id,aa.mfg_no,aa.rank,aa.is_dead,bb.city_id,bb.province_id,
    aa.original_car_no,bb.user_type,aa.parts_cate_id,aa.price3,aa.price2,cc.orders,cc.clickeds,cc.goods,cc.mediums,cc.bads,cc.trades,cc.refunds from tb_product_online aa
    left join tb_web_user bb on aa.user_id=bb.user_id left join tb_product_top cc on aa.goods_id=cc.goods_id @sql@ order by @orderby@ limit @start@,@end@"/>
    <!-- 获取属性列表-->
    <sql ID="1763" value="select aa.attr_id,aa.attr_name,aa.attr_value,aa.attr_hashcode from tb_attribute aa
    where find_in_set(aa.attr_id ,(select attr_ids from tb_parts_category where is_lock = 0 and parts_cate_id =?)) and aa.attr_type_input = 1"/>
    <!-- 获取该车系下所有配置-->
    <sql ID="1764" value="select cc.car_conf_id,cc.car_conf_name,aa.brand_id,aa.car_model_id,bb.brand_name,aa.car_model_name
    from tb_car_model aa,tb_car_brand bb,tb_car_conf cc where aa.brand_id =bb.brand_id and  aa.car_model_id =cc.car_model_id and cc.car_model_id =?"/>
    <!-- 依据goodid查询产品-->
    <sql ID="1765" value="select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.goods_name,pp.store_num,pp.price3,pp.min_num_3,pp.price4,pp.min_num_4,pp.price5,pp.min_num_5,pp.sale_limit,pp.weight,pp.volume,pp.freight_id,
     pp.rank,pp.sort_weight from tb_product_online pp where pp.is_lock=0 and pp.goods_id in(@pro_goods@) "/>
    <!--修改车辆信息 查询三个字段（品牌、车型、配置）及 车牌号 不重复-->
    <sql ID="1766" value="select aa.user_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.car_name,ee.real_name,ee.valid_mobile
     from mt_car aa left join tb_web_user ee on aa.user_id = ee.user_id where aa.car_id != @car_id@ and aa.brand_id=@brand_id@ and aa.car_model_id=@car_model_id@ and
     aa.car_conf_id =@car_conf_id@ and aa.car_no=@car_no@ and aa.user_id=@user_id@"/>
    <!--更新 mt_car 1725-->
    <sql ID="1767" value="update mt_car set vin=@vin@,buy_date=@buy_date@,car_no=@car_no@,car_km=@car_km@,user_name=@user_name@,user_phone=@user_phone@ where
     car_id=@car_id@ "/>
    <!--插入 mt_car 1726-->
    <sql ID="1768" value="insert into mt_car (brand_id,car_model_id,car_conf_id,user_id,car_name,car_no,car_km,user_name,user_phone,buy_date,vin)
    value (@brand_id@,@car_model_id@,@car_conf_id@,@user_id@,@car_name@,@car_no@,@car_km@,@user_name@,@user_phone@,@buy_date@,@vin@)"/>
    <!--新增车辆信息 查询三个字段（品牌、车型、配置）及 车牌号 不重复-->
    <sql ID="1769" value="select aa.user_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.car_name,ee.real_name,ee.valid_mobile
     from mt_car aa left join tb_web_user ee on aa.user_id = ee.user_id where aa.brand_id=@brand_id@ and aa.car_model_id=@car_model_id@ and
     aa.car_conf_id =@car_conf_id@ and aa.car_no=@car_no@ and aa.user_id=@user_id@"/>
    <!-- 1724 根据car_id获取我的汽车信息 -->
    <sql ID="1770" value="select aa.user_id,aa.car_id,aa.brand_id,aa.car_model_id,aa.car_conf_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.user_name,aa.user_phone
     from mt_car aa where aa.car_id=@car_id@"/>
    <!--插入 mt_car 1768-->
    <sql ID="1771" value="insert into mt_car (brand_id,car_model_id,car_conf_id,user_id,car_name,car_no,car_km,user_name,user_phone,buy_date,vin)
    value (@brand_id@,@car_model_id@,@car_conf_id@,@user_id@,@car_name@,@car_no@,@car_km@,@user_name@,@user_phone@,@buy_date@,@vin@)"/>
    <!--更新 mt_car 1767-->
    <sql ID="1772" value="update mt_car set vin=@vin@,buy_date=@buy_date@,car_no=@car_no@,car_km=@car_km@,user_name=@user_name@,user_phone=@user_phone@ where
     car_id=@car_id@ "/>
    <!--查询可做该车的工时分类-->
    <sql ID="1773" value="select distinct cate_id,hour_name,hour_ico from mt_hour_item where service_clazz = 1 and find_in_set(@car_conf_id@,hour_conf_ids)"/>
    <!--1742 查询 车牌号车架号不可同时重复-->
    <sql ID="1774" value="select aa.user_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.car_name
     from mt_car aa where aa.car_no = @car_no@ and aa.vin=@vin@ and aa.user_id=@user_id@"/>
    <!--查询 车牌号车架号不可同时重复 非car_id-->
    <sql ID="1775" value="select aa.user_id,aa.vin,aa.buy_date,aa.car_name,aa.car_no,aa.car_km,aa.car_name
     from mt_car aa where aa.car_id != @car_id@ and aa.vin=@vin@ and aa.car_no = @car_no@ and aa.user_id=@user_id@"/>
    <!--1729 查询车辆信息-->
    <sql ID="1776" value="select cc.car_id,cc.user_id,aa.car_image,cc.brand_id,cc.car_model_id,cc.car_conf_id,cc.buy_date,cc.car_name,cc.car_no,cc.car_km,uu.province_id,uu.city_id,uu.area_id
     from mt_car cc left join tb_car_conf aa on cc.car_conf_id = aa.car_conf_id left join tb_web_user uu on cc.user_id = uu.user_id where cc.car_id = ?"/>
    <!--根据分类 查询能做的保养-->
    <sql ID="1777" value="select aa.cate_id,aa.cate_ico,aa.cate_name,group_concat(mm.hour_id) as hour_id from mt_hour_item mm left join
    mt_cate aa on aa.cate_id= mm.cate_id where mm.service_clazz = 1 and find_in_set(@car_conf_id@,mm.hour_conf_ids) group by cate_id"/>
    <!--更新 mt_car 1767 1772-->
    <sql ID="1778" value="update mt_car set buy_date=@buy_date@,car_km=@car_km@ where car_id=@car_id@ "/>
    <sql ID="1779" value="update mt_car set car_km=@car_km@ where car_id=@car_id@ "/>
    <sql ID="1780" value="update mt_car set buy_date=@buy_date@ where car_id=@car_id@ "/>
    <!--一级二级goodsid 1748-->
    <sql ID="1781" value="select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.goods_name,pp.store_num,pp.weight,pp.volume,pp.freight_id
      from tb_product_online pp  where pp.is_lock=0 and pp.goods_id in(@pro_goods@)"/>
    <!--查询工时名称-->
    <sql ID="1782" value="select hour_id,hour_name,hour_ico from mt_hour_item where hour_id in(@hours@)"/>
    <!--查询提供工时最多的服务商若干 1734-->
    <sql ID="1783" value="select uu.user_id,rr.province_id,rr.city_id,rr.area_id,uu.coor_x,uu.coor_y,uu.company,uu.biz_main_img,uu.contacts_phone,uu.company_address,mm.hour_id,mm.user_hour_fee
    from  mt_fee mm left join tb_web_user_seller uu on mm.user_id = uu.user_id left join tb_web_user rr on mm.user_id = rr.user_id
    where find_in_set(@car_model_id@,car_model_ids) and mm.hour_id in (@hours@) and mm.user_id in( select user_id from
     (select mm.user_id,count(mm.hour_id) as number from mt_fee mm where mm.user_id ＜＞'' and find_in_set(@car_model_id@,mm.car_model_ids) and mm.hour_id in (@hours@) group by mm.user_id  order by number desc) aa )  @sql@
     ORDER BY @area@ uu.user_id asc,mm.hour_id asc,mm.user_hour_fee asc"/>
    <!--查询保养产品 一级1732-->
    <sql ID="1784" value="select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,ca.refunds from
     (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.goods_name,pp.price3,pp.weight,pp.volume,pp.freight_id,
     pp.store_num,pp.sort_weight,pp.update_time,mm.hour_id,mm.material_id,mm.unit_name,mm.unit_per from tb_product_online pp LEFT JOIN mt_material mm  on
    pp.parts_cate_id= mm.parts_cate_id where pp.is_lock=0 @sql@) pa left join tb_product_top ca on pa.goods_id = ca.goods_id @order@ limit 1"/>
    <!-- 保养产品列表查询 1733 1762-->
    <sql ID="1785" value="select aa.user_id,aa.store_num,aa.goods_main_img,aa.goods_name,aa.goods_id,aa.mfg_no,aa.rank,aa.volume,aa.freight_id,aa.weight,aa.is_dead,bb.city_id,bb.province_id,
    aa.original_car_no,bb.user_type,aa.parts_cate_id,aa.price3,aa.price2 from tb_product_online aa
    left join tb_web_user bb on aa.user_id=bb.user_id left join tb_product_top cc on aa.goods_id=cc.goods_id where aa.is_lock=0 and aa.store_num＞0 @sql@ order by @order@ goods_id desc limit @row@,@pagesize@"/>
    <!-- 保养产品列表查询 1733 1762-->
    <!--<sql ID="1786" value="select user_id,goods_id,parts_cate_id from tb_product_online where goods_id in (select cc.goods_id from (
 (select tos.goods_id from tb_order_statistics tos where tos.son_user_id=@service@ and tos.parts_cate_id =@parts_cate_id@ group by tos.goods_id HAVING SUM(tos.move_num)＞0) union
 (select aa.goods_id from tb_product_online aa LEFT JOIN tb_product_top cc on aa.goods_id=cc.goods_id
     where aa.is_lock=0 and aa.parts_cate_id=@parts_cate_id@ @sql@ @order@ limit 1 )) cc) @sqlstring@ limit 1"/>-->
    <sql ID="1786" value="select user_id,goods_id,parts_cate_id from tb_product_online where goods_id in (select cc.goods_id from (
    (select aa.goods_id from tb_product_online aa LEFT JOIN tb_product_top cc on aa.goods_id=cc.goods_id where aa.is_lock=0 and aa.store_num＞0 and aa.parts_cate_id=@parts_cate_id@ @sql@ @order@ limit 1 )
    union  (select tos.goods_id from tb_order_statistics tos where tos.son_user_id=@service@ and tos.parts_cate_id =@parts_cate_id@ group by tos.goods_id HAVING SUM(tos.move_num)＞0)
    ) cc) @sqlstring@ limit 1"/>
    <!--推荐服务商全部1738-->
    <sql ID="1787" value="select uu.user_id,uu.province_id,uu.city_id,uu.area_id from tb_web_user uu where uu.user_id in( select user_id from
     (select distinct user_id,hour_id from mt_fee where find_in_set(@car_model_ids@,car_model_ids) and hour_id in (@hours@)) aa group by user_id having count(hour_id)=@size@) @area@ limit 1"/>
    <!--查询提供工时最多的服务商之一 1755-->
    <sql ID="1788" value="select mm.user_id,aa.user_type,uu.company,count(mm.hour_id) as number from mt_fee mm left join tb_web_user_seller uu on mm.user_id = uu.user_id left join tb_web_user aa on mm.user_id = aa.user_id
    where mm.user_id !='' and find_in_set(@car_model_ids@,mm.car_model_ids) and mm.hour_id in (@hours@) group by mm.user_id order by number desc @area@ limit 1"/>

    <!--判断产品是否选定服务商的虚拟产品-->
    <sql ID="1789" value="select goods_id from tb_order_statistics where goods_id in(@pro_goods@) and son_user_id=@service@ group by goods_id HAVING SUM(move_num)＞0"/>
    <!--查询工时-->
    <sql ID="1790" value="select hour_id,cate_id,hour_name,hour_ico,hour_cycle,hour_kilometre,hour_rank,hour_content
     from mt_hour_item where find_in_set(@car_conf_id@,hour_conf_ids) and cate_id in(@cate_id@) order by hour_rank"/>
    <!--1786-->
    <sql ID="1791" value="select user_id,goods_id,parts_cate_id from tb_product_online where goods_id in (select cc.goods_id from (
    (select aa.goods_id from tb_product_online aa where aa.is_lock=0 and aa.store_num＞0 and aa.parts_cate_id=@parts_cate_id@ @sql@ @order@ limit 1 )
    union  (select tos.goods_id from tb_order_statistics tos where tos.son_user_id=@service@ and tos.parts_cate_id =@parts_cate_id@ group by tos.goods_id HAVING SUM(tos.move_num)＞0)
    ) cc) @sqlstring@ limit 1"/>
    <!--1785-->
    <sql ID="1792" value="select aa.user_id,aa.store_num,aa.goods_main_img,aa.goods_name,aa.goods_id,aa.mfg_no,aa.rank,aa.volume,aa.freight_id,aa.weight,aa.is_dead,bb.city_id,bb.province_id,
    aa.original_car_no,bb.user_type,aa.parts_cate_id,aa.price3,aa.price2 from tb_product_online aa
    left join tb_web_user bb on aa.user_id=bb.user_id where aa.is_lock=0 and aa.store_num＞0 @sql@ order by @order@ goods_id desc limit @row@,@pagesize@"/>


    <!--汽车用品-->
    <!--汽车用品 查询名字-->
    <sql ID="1750" value="select parts_cate_id,parts_cate_name,parts_cate_parent from tb_parts_category where is_lock = 0 and parts_cate_id =?"/>
    <!-- 汽车用品  加上权重 参考1702-->
    <sql ID="1751" value="select goods_id,user_id,parts_cate_id,goods_main_img,mfg_no,goods_name,price2,price,is_sale_property,sale_limit,is_oem,is_dead,store_num,rank,clickeds,orders,goods,mediums,bads,refunds,trades,sort_weight
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,ca.refunds from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price3 as price,pp.is_sale_property,pp.sale_limit,pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
     left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by @order@ goods_id desc limit @row@,@pagesize@ "/>

    <!-- 专题  加上权重 参考1703-->
    <sql ID="1752" value="select goods_id,parts_cate_id,goods_main_img,user_id,mfg_no,goods_name,price2,price,is_sale_property,sale_limit,is_oem,is_dead,store_num,rank,clickeds,orders,goods,mediums,bads,refunds,trades,sort_weight
    from (select pa.*,ca.orders,ca.clickeds,ca.goods,ca.mediums,ca.bads,ca.trades,refunds from
    (select pp.goods_id,pp.parts_cate_id,pp.goods_main_img,pp.user_id,pp.mfg_no,pp.original_car_no,pp.goods_name,pp.price2,pp.price3 as price,pp.is_sale_property,pp.sale_limit,pp.is_oem,pp.is_dead,pp.store_num,pp.rank,pp.sort_weight,pp.update_time from tb_product_online pp where pp.is_lock=0 @sql@) pa
    left join tb_product_top ca on pa.goods_id = ca.goods_id) aa order by @order@ goods_id desc limit @row@,@pagesize@ "/>


    <!--99活动 适配汽车-->
    <sql ID="1811" value="select goods_id,brand_ids,car_model_ids,car_conf_ids,goods_name from tb_product_online where active_clazz=2 and biz_clazz = 3 and is_lock = 0 and sell_start_time＜NOW() and sell_end_time＞NOW() and price3 = @aId@"/>
    <!--99活动 活动信息-->
    <sql ID="1812" value="select active_name,user_clazz,user_rank,goods_ids,start_time,end_time from ac_coupon where active_id =@aId@"/>
    <!--99活动 用户信息 -->
    <sql ID="1813" value="select user_clazz from tb_web_user where user_id = @user_id@"/>
    <!--99活动 用户信息 -->
    <sql ID="1814" value="select aa.active_id,aa.pay_deposit,aa.active_name,aa.f_condition,bb.goods_id,bb.goods_name,bb.goods_main_img,bb.price2,bb.price3 from
    ac_coupon aa,tb_product_online bb where aa.active_id in(@aId@) and FIND_IN_SET(bb.goods_id,aa.goods_ids) and  bb.is_lock = 0 order by aa.active_id "/>
    <!--99活动 插入 mt_car 1768 1771-->
    <sql ID="1815" value="insert into mt_car (brand_id,car_model_id,car_conf_id,user_id,car_name,car_no,user_name,user_phone)
    value (@brand_id@,@car_model_id@,@car_conf_id@,@user_id@,@car_name@,@car_no@,@user_name@,@user_phone@)"/>
    <!--99活动 更新 mt_car 1767 1772-->
    <sql ID="1816" value="update mt_car set car_no=@car_no@,user_name=@user_name@,user_phone=@user_phone@ where car_id=@car_id@ "/>
    <!--新增车辆信息 查询三个字段（品牌、车型、配置）及 车牌号 不重复-->
    <sql ID="1817" value="select aa.user_id,aa.car_id,aa.user_name,aa.user_phone,aa.car_name,aa.car_no from mt_car aa
    where aa.brand_id=@brand_id@ and aa.car_model_id=@car_model_id@ and aa.car_conf_id =@car_conf_id@ and aa.car_no=@car_no@ and aa.user_id=@user_id@"/>
    <!--一元购-->
    <!--查询我参与的活动-->
    <sql ID="1818" value="select DISTINCT(active_id) as active_id from ac_reward where user_id = @user_id@"/>
    <!--查询已揭晓的活动-->
    <sql ID="1819" value="select active_id,reward_nums,login_name,reward_time from ac_lottery_nums where active_id in (select distinct(active_id) from ac_reward where user_id = @user_id@)"/>
    <!--活动详情总需求等-->
    <sql ID="1820" value="select aa.active_id,aa.active_name,pp.goods_main_img,aa.f_condition FROM ac_coupon aa left JOIN tb_product_online pp on aa.active_id = pp.goods_id
    where find_in_set(aa.active_id,@active_id@)"/>
    <!--活动详情剩余人数-->
    <sql ID="1821" value="select count(random_value) as countvalue,active_id from tb_random where find_in_set(active_id,@active_id@) and random_value＞-1"/>
    <!--活动详情自己本期参与-->
    <sql ID="1822" value="select sum(buy_nums) as buy_nums,active_id from ac_reward where find_in_set(active_id,@active_id@) and user_id = @user_id@ group by active_id"/>
    <!--99购 活动补充-->
    <sql ID="1823" value="select active_id,f_condition from ac_coupon where f_condition in(99,149,199) and biz_clazz=2 and active_clazz=2 and end_time＞UNIX_TIMESTAMP()*1000 and start_time＜UNIX_TIMESTAMP()*1000"/>

    <sql ID="1824" value="select aa.active_id,aa.active_name,aa.user_clazz,aa.user_rank,aa.goods_ids,aa.start_time,aa.end_time,pp.brand_ids,pp.car_model_ids,pp.car_conf_ids
    from ac_coupon aa left join tb_product_online pp on aa.active_id =pp.goods_id where aa.active_id in (@aId@) and aa.end_time＞UNIX_TIMESTAMP()*1000 and aa.start_time＜UNIX_TIMESTAMP()*1000"/>
    <!--订单详情  -->
    <sql ID="1825" value="select cc.confirm_time,cc.max_confirm_time,cc.order_id,cc.biz_clazz,cc.active_id,cc.order_status,cc.order_time,cc.user_id,cc.car_json,cc.is_invoice,cc.amounts,cc.address,cc.receiver,cc.phone,cc.pay_sn,cc.pay_time,cc.is_buyer_reviews,cc.confirm_no,cc.presale_status,cc.deposit_pay_sn,cc.deposit_pay_money,cc.free_no from tb_order cc
    where cc.user_id =@user_id@ and cc.order_id =@order_id@"/>
    <!--订单详情  -->
    <sql ID="1826" value="select bb.user_id,bb.goods_id,bb.goods_name,bb.goods_main_img,bb.car_property,bb.property_json,bb.sale_price,bb.discount_price,bb.goods_num,bb.refund_status,bb.status_time,bb.promotion_id,bb.refund_id,bb.order_item,
    aa.is_seller_reviews,aa.freight_rec_amount,aa.freight_extra_amount,aa.goods_rec_amount,aa.goods_extra_amount,aa.insurance_amount,aa.order_amount,aa.is_expressed,aa.delivery_type,aa.seller_remark,
    aa.order_remark,aa.shippment_time,aa.express_company,aa.express_py,aa.express_no,aa.express_num from tb_order_goods bb
    left join tb_order_supplier aa on bb.order_id=aa.order_id and aa.user_id_supplier=bb.user_id
    where bb.user_id_buyer =@user_id@ and bb.order_id =@order_id@ order by bb.order_item"/>
    <!--订单详情  计算总运费-->
    <sql ID="1827" value="select user_id_supplier,freight_rec_amount,freight_extra_amount from tb_order_supplier where user_id_buyer =@user_id@ and order_id =@order_id@ "/>
    <!--订单详情服务商详情-->
    <sql ID="1828" value="select user_id,company_address,company,contacts_phone from tb_web_user_seller where user_id in
    (select user_id_supplier from tb_order_supplier where  biz_clazz in(2,3) and user_id_buyer =@user_id@ and order_id =@order_id@) "/>
    <sql ID="1829" value="select goods_id,brand_ids,car_model_ids,car_conf_ids,goods_name from tb_product_online where active_clazz=2 and biz_clazz = 3 and is_lock = 0 and sell_start_time＜NOW() and sell_end_time＞NOW() and parts_cate_id = @aId@"/>

    <sql ID="1830" value="select active_id,active_name,user_clazz,user_rank,goods_ids,f_condition,start_time,end_time,pay_deposit from ac_coupon where active_id in(@aIds@"/>
    <sql ID="1831" value="select goods_id,goods_name,goods_main_img,price2,price3 from tb_product_online where goods_id in(@goods_ids@)"/>



    <!--查询tb_order_supplier表-->
    <sql ID="1859" value="select user_id_supplier,order_status,user_id_buyer,is_insurance,insurance_amount,is_expressed from tb_order_supplier where order_id=@orderId@ and user_id_buyer=@userId@ and user_id_supplier in(@supplierIds@)"/>
    <!--更新tb_order_supplier-->
    <sql ID="1860" value="update tb_order_supplier set order_status=@seller_sta@ where order_id=@orderId@ and user_id_buyer=@userId@ and user_id_supplier=@user_id_supplier@"/>
    <!--查询tb_order_supplier表-->
    <sql ID="1861" value="select user_id_supplier,order_status,user_id_buyer,is_insurance,insurance_amount,is_expressed from tb_order_supplier where order_id=@orderId@ and user_id_buyer=@userId@"/>
    <!--更新tb_order_supplier表1625-->
    <sql ID="1862" value="update tb_order_goods set refund_status=@goods_sta@,status_time=now() where order_id=@orderId@ and goods_id=@goodsId@ and order_item=@order_item@"/>
    <!--拒绝 1626显示 所有要退订单下的产品-->
    <sql ID="1863" value="select aa.refund_id,aa.order_item,aa.refund_status as r_status,bb.biz_clazz,aa.refund_serve,aa.receive_status,aa.refund_cause,aa.order_id,aa.goods_id,bb.goods_num,bb.user_id,bb.refund_status as g_status
    from tb_order_refund aa left join tb_order_goods bb on aa.order_id =bb.order_id and aa.goods_id = bb.goods_id and aa.order_item=bb.order_item
    where aa.seller_id=@userId@ and aa.order_id in(@order_ids@) and aa.goods_id!=0 order by aa.order_id"/>
    <!--更新tb_order_supplier-->
    <sql ID="1864" value="update tb_order_supplier set order_status=@seller_sta@ where order_id=@s_orderId@ and user_id_buyer=@userId@ and user_id_supplier=@user_id_supplier@"/>
    <!-- 1629筛选需要退货信息状态应该是1-->
    <sql ID="1865" value="select aa.user_id_buyer,aa.refund_status as g_status,aa.order_item,aa.user_id,aa.goods_id,aa.order_id,aa.goods_num,cc.refund_id,cc.refund_status as r_status
     from tb_order_goods aa left join tb_order_refund cc on aa.goods_id=cc.goods_id and aa.order_id=cc.order_id and aa.user_id_buyer=cc.buyer_id and aa.user_id=cc.seller_id and aa.order_item=cc.order_item
     where aa.goods_id in(@goodsIds@) and aa.order_item in(@order_items@) and aa.order_id in(@orderId@) and aa.user_id_buyer=@userId@"/>
    <!-- 1634筛选确认退货信息状态2-->
    <sql ID="1866" value="select aa.refund_id,aa.order_item,aa.refund_status as r_status,aa.refund_serve,aa.receive_status,aa.refund_money,aa.order_id,aa.goods_id
    from tb_order_refund aa left join tb_order_goods bb on aa.order_id =bb.order_id and aa.goods_id = bb.goods_id and aa.order_item=bb.order_item
    where aa.seller_id=@userId@ and aa.order_id=@orderId@"/>
    <!--该订单下所有产品-->
    <sql ID="1994" value="select user_id,biz_clazz,refund_id,order_item,refund_status,goods_id,order_id,goods_name,goods_num,amounts from tb_order_goods where user_id_buyer=@userId@ and order_id in(@orderId@)"/>




















    <!--确认收货 1559-->
    <sql ID="1870" value="select order_id,refund_status,order_item,goods_id,property_code,goods_num,father_user_id,user_id_buyer,user_id,biz_clazz,refund_money,amounts,fee_rate,fee_free,price_clazz,discount_price,credits,property_json,goods_name,goods_main_img,order_time,
    (select parts_cate_id from tb_product_online bb where bb.goods_id=aa.goods_id) as parts_cate_id from tb_order_goods aa where user_id_buyer=@user_id@ and order_id in(@orderId@)"/>

    <sql ID="1873" value="select order_id,order_amount,amount,refund_amount,seller_user_id,pay_sn,goods_name,fee_all from tb_user_order_pay_in where pay_sn in(select distinct pay_sn from tb_user_order_pay_in where seller_type=1 and trade_status>1 and
    seller_user_id in(select user_id from tb_order_goods where refund_status in(6,8,9) and user_id_buyer=@user_id@ and order_id in(@orderId@)) and buyer_user_id=@user_id@ and order_id in(@orderId@))"/>

    <sql ID="1874" value="select total_money from tb_web_user where user_id = @user_id@"/>
    <sql ID="1875" value="select sell_total_money,user_id from tb_web_user_seller where user_id in (select user_id from tb_order_goods where user_id_buyer=@user_id@ and order_id in(@orderId@))"/>
    <sql ID="1876" value="select trades,goods_id from tb_product_top where goods_id in(select goods_id from tb_order_goods where user_id_buyer=@user_id@ and order_id in(@orderId@))"/>

    <!--&lt;!&ndash; 确认收货  更新order表 &ndash;&gt;
    <sql ID="1880" value="update tb_order set order_status=3,confirm_time=? where order_id=?"/>
    &lt;!&ndash; 确认收货  更新tb_order_goods表 &ndash;&gt;
    <sql ID="1881" value="update tb_order_goods set refund_status=?,status_time=?,refund_free=? where refund_status in(6,8,9) and order_id=? and goods_id=? and order_item=?"/>
    &lt;!&ndash; 确认收货  更新tb_order_supplier表 &ndash;&gt;
    <sql ID="1882" value="update tb_order_supplier set order_status=1,refund_free=? where order_id=? and user_id_supplier=?"/>
    &lt;!&ndash; 确认收货  更新tb_user_order_pay_in表 &ndash;&gt;
    <sql ID="1883" value="update tb_user_order_pay_in set trade_status=5,update_time=?,refund_free=?,settle_amount=? where pay_sn=? and order_id=? and seller_user_id=?"/>
    &lt;!&ndash; 确认收货  更新tb_user_order_pay_out表 &ndash;&gt;
    <sql ID="1884" value="update tb_user_order_pay_out set trade_status=5,update_time=?,settle_amount=amount-refund_amount where pay_sn=? and order_id=? and buyer_user_id=?"/>
    &lt;!&ndash; 确认收货   插入tb_money_movements表 &ndash;&gt;
    &lt;!&ndash; 插入资金变动记录表 &ndash;&gt;
    <sql ID="1885" value="insert into tb_money_movements(pay_id,order_id,trade_type,user_id,move_time,amount,remarks,status_time,move_status,bank_status) values (?,?,?,?,?,?,?,?,?,?)"/>
    &lt;!&ndash; 确认支付  更新tb_web_user表买家消费总金额 &ndash;&gt;
    <sql ID="1886" value="update tb_web_user set total_money=? where user_id=?"/>
    &lt;!&ndash; 确认收货  更新tb_web_user_seller表卖家销售总金额 &ndash;&gt;
    <sql ID="1887" value="update tb_web_user_seller set sell_total_money=? where user_id=?"/>
    &lt;!&ndash; 确认收货  更新tb_product_top表 &ndash;&gt;
    <sql ID="1888" value="update tb_product_top set trades=? where goods_id=?"/>
    &lt;!&ndash; 确认收货  评论表插入数据 商品积分0不知道哪取 &ndash;&gt;
    <sql ID="1889" value="insert into tb_web_goods_reviews(order_id,user_id,goods_id,goods_name,specifications,buy_time,goods_img,credits,is_reviews,seller_user_id) values (?,?,?,?,?,?,?,?,?,?)"/>
    &lt;!&ndash; 确认收货 虚拟库存表 &ndash;&gt;
    <sql ID="1890" value="insert into tb_order_statistics(goods_id,parts_cate_id,user_id,son_user_id,price_clazz,order_id,order_item,move_num,price,amount) values (?,?,?,?,?,?,?,?,?,?)"/>
    <sql ID="1891" value="update tb_order_statistics set property_code=?,move_time=? where goods_id=? and order_id=? and order_item=?"/>
    <sql ID="1892" value="update tb_order_confirm_pool set order_id=0 where order_id=?"/>-->

    <!-- 确认收货  更新order表 -->
    <sql ID="1880" value="update tb_order set order_status=3,confirm_time=? where order_id=? and order_status in(1,2)"/>
    <!-- 确认收货  更新tb_order_goods表 -->
    <sql ID="1881" value="update tb_order_goods set refund_status=?,status_time=?,refund_free=? where refund_status in(6,8,9) and order_id=? and goods_id=? and order_item=?"/>
    <!-- 确认收货  更新tb_order_supplier表 -->
    <sql ID="1882" value="update tb_order_supplier set order_status=1,refund_free=? where order_status in(6,8,9) and order_id=? and user_id_supplier=?"/>
    <!-- 确认收货  更新tb_user_order_pay_in表 -->
    <sql ID="1883" value="update tb_user_order_pay_in set trade_status=5,update_time=?,refund_free=?,settle_amount=? where pay_sn=? and order_id=? and seller_user_id=?"/>
    <!-- 确认收货  更新tb_user_order_pay_out表 -->
    <sql ID="1884" value="update tb_user_order_pay_out set trade_status=5,update_time=?,settle_amount=amount-refund_amount where pay_sn=? and order_id=? and buyer_user_id=?"/>
    <!-- 确认收货   插入tb_money_movements表 -->
    <!-- 插入资金变动记录表 -->
    <sql ID="1885" value="insert into tb_money_movements(pay_id,order_id,trade_type,user_id,move_time,amount,remarks,status_time,move_status,bank_status)
   select @pay_id@,order_id,2,@user_id@,@now_time@,@settle_amount@,@goods_name@,@now_time@,1,1 from tb_order_supplier
   where 0=(select count(*) from tb_money_movements where user_id=@user_id@ and order_id=@orderId@) and order_id=@orderId@ and user_id_supplier=@user_id@"/>
    <!-- 确认支付  更新tb_web_user表买家消费总金额 -->
    <sql ID="1886" value="update tb_web_user set total_money=? where user_id=?"/>
    <!-- 确认收货  更新tb_web_user_seller表卖家销售总金额 -->
    <sql ID="1887" value="update tb_web_user_seller set sell_total_money=? where user_id=?"/>
    <!-- 确认收货  更新tb_product_top表 -->
    <sql ID="1888" value="update tb_product_top set trades=? where goods_id=?"/>
    <!-- 确认收货  评论表插入数据 商品积分0不知道哪取 -->
    <sql ID="1889" value="insert into tb_web_goods_reviews(order_id,user_id,biz_clazz,goods_id,goods_name,specifications,order_item,buy_time,goods_img,credits,is_reviews,seller_user_id)
        select order_id,user_id_buyer,biz_clazz,goods_id,goods_name,property_json,order_item,order_time,goods_main_img,credits,0,user_id from tb_order_goods where refund_status in(6,8,9) and biz_clazz!=4 and order_id=@orderId@"/>
    <!-- 确认收货 虚拟库存表 -->
    <sql ID="1890" value="insert into tb_order_statistics(goods_id,parts_cate_id,user_id,son_user_id,price_clazz,order_id,order_item,move_num,price,amount)
    select goods_id,(select parts_cate_id from tb_product_online tpo where tpo.goods_id=tog.goods_id) as parts_cate_id,user_id,user_id_buyer,price_clazz,order_id,order_item,goods_num,discount_price,amounts from tb_order_goods tog
    where refund_status in(8,9) and user_id_buyer=@user_id_buyer@ and order_id=@orderId@"/>
    <!--<sql ID="1890" value="insert into tb_order_statistics(goods_id,parts_cate_id,user_id,son_user_id,price_clazz,order_id,order_item,move_num,price,amount) values (?,?,?,?,?,?,?,?,?,?)"/>-->
    <sql ID="1891" value="update tb_order_statistics set property_code=?,move_time=? where goods_id=? and order_id=? and order_item=?"/>
    <sql ID="1892" value="update tb_order_confirm_pool set order_id=0 where order_id=?"/>


    <!--1900-2000 wyx-->
    <!--商户详情  查询地址 电话-->
    <sql ID="1900" value="select aa.biz_main_img,aa.user_id,aa.company,aa.company_address,aa.company_remark, bb.valid_mobile from tb_web_user_seller aa left join tb_web_user bb on aa.user_id=bb.user_id
      WHERE aa.user_id=@service_id@"/>
    <!--商户详情  查询工时名称-->
    <sql ID="1901" value="select distinct aa.user_id,bb.hour_name from mt_fee aa left join mt_hour_item bb on aa.hour_id = bb.hour_id where aa.user_id=@service_id@"/>
    <!--查看库存  查询编号 -->
    <sql ID="1902" value="select aa.goods_id,aa.property_code,aa.parts_cate_id,aa.order_id,bb.goods_name,bb.goods_main_img, sum(aa.move_num) as move_num from tb_order_statistics aa left join tb_product_online bb on aa.goods_id=bb.goods_id where aa.son_user_id=@user_id@  group by goods_id"/>
    <!--查看库存  查询库存数量  单价-->
    <sql ID="1903" value="select aa.goods_id,aa.order_id,bb.order_time,bb.discount_price,bb.amounts,aa.move_num from tb_order_statistics aa
     left join tb_order_goods bb on aa.goods_id=bb.goods_id and aa.order_id=bb.order_id where aa.goods_id=@goods_id@ and aa.son_user_id=@user_id@"/>
    <!--查询产品编号-->
    <sql ID="1904" value="select aa.goods_id,aa.property_code,aa.parts_cate_id,aa.order_id,bb.goods_name,bb.goods_main_img, sum(aa.move_num) as move_num from tb_order_statistics aa left join tb_product_online bb on aa.goods_id=bb.goods_id where aa.son_user_id=@user_id@ and aa.goods_id=@goods_id@ group by goods_id"/>
    <!--表单提交-->
    <sql ID="1905" value="insert into tb_web_join(company_name,join_clazz,best_time,contactor,mobile,phone,email,province,city,town,address,remark,create_time)
    value (@company_name@,@join_clazz@,@best_time@,@contactor@,@mobile@,@phone@,@email@,@province@,@city@,@town@,@address@,@remark@,now())"/>
    <!--出库录入-->
    <sql ID="1906" value="insert into tb_order_statistics(goods_id,user_id,son_user_id,parts_cate_id,property_code,move_num,price,order_id,amount,move_time) value (@goods_id@,@user_id@,@user_id@,@parts_cate_id@,@property_code@,-@move_num@,@price@,0,ABS(price*move_num),now())"/>
    <!--留言 -->
    <sql ID="1907" value="select refund_img from tb_order_refund where refund_id=@refundId@"/>
    <!--按时间排留言-->
    <sql ID="1908" value="select record_content,record_time,user_name from tb_order_refund_record where refund_id=@refundId@ order by record_time desc"/>
    <!--查询辛运号计算详情  rll一元购共用-->
    <sql ID="1909" value="select aa.active_id,aa.norm_1,aa.norm_2,aa.norm_3,aa.norm_4,aa.norm_5,aa.norm_6,aa.reward_nums,bb.f_condition from ac_lottery_nums aa left join ac_coupon bb on aa.active_id=bb.active_id where aa.active_id=@active_id@"/>
    <!--查询汽车用品产品属性-->
    <sql ID="1910" value="select aa.goods_id,aa.user_id,aa.parts_cate_id,aa.goods_main_img,aa.is_sale_property,aa.goods_name,aa.price2,aa.price1,aa.store_num,aa.rank,bb.goods,bb.orders from
tb_product_online aa LEFT JOIN tb_product_top bb on aa.goods_id=bb.goods_id where aa.user_id=@user_id@"/>
    <!--车俩信息初始化-->
    <sql ID="1911" value="select valid_mobile,city_id,area_id,province_id from tb_web_user WHERE user_id=@user_id@"/>

    <!--查询提供工时最多的服务商若干 1734-->
    <sql ID="1920" value="select uu.user_id,rr.province_id,rr.city_id,rr.area_id,uu.coor_x,uu.coor_y,uu.company,uu.biz_main_img,uu.contacts_phone,uu.company_address,5 as views@param@
    from  tb_web_user_seller uu left join tb_web_user rr on uu.user_id = rr.user_id @sql@ order by @order@ limit @start@,@end@ "/>

    <sql ID="1921" value="select provinceid,provincename,provincepy,provincestatus from tb_province where instr(provincename,@prov@)＞0"/>
    <sql ID="1922" value="select cityid,cityname,citypy,citystatus,provinceid from tb_city where instr(cityname,@city@)＞0 and provinceid=@prov@"/>
    <sql ID="1923" value="select areaid,areaname,areapy,areastatus,cityid from tb_area where instr(areaname,@area@)＞0 and cityid=@city@"/>

    <sql ID="1924" value="select aa.cate_id,aa.cate_ico,aa.cate_name,group_concat(mm.hour_id) as hour_id,aa.service_clazz from mt_hour_item mm left join
    mt_cate aa on aa.cate_id= mm.cate_id where find_in_set(@car_conf_id@,mm.hour_conf_ids) group by cate_id order by aa.service_clazz"/>
    <sql ID="1925" value="SELECT cate_id,cate_name,cate_ico,service_clazz from mt_cate"/>
































    <!-- cp  2001-2500 _______________________________________________________________________________________________________________________________________ / -->
    <!-- 配件第1层 -->
    <sql ID="2001" value="select parts_cate_id,parts_cate_name from tb_parts_category where (parts_cate_id%@firstLev@=0) and is_lock=0"/>
    <!-- 配件第2层-->
    <sql ID="2002" value="select parts_cate_id,parts_cate_name,attr_ids from tb_parts_category where parts_cate_id%100=0 and parts_cate_id＞@parentLev@ and parts_cate_id＜=(@parentLev@+9900) and is_lock=0"/>
    <!-- 配件第3层-->
    <sql ID="2003" value="select parts_cate_id,parts_cate_name,attr_ids from tb_parts_category where parts_cate_id＞@parentLev@ and parts_cate_id＜=(@parentLev@+99) and is_lock=0"/>
    <!-- 批量删除产品-->
    <sql ID="2004" value="delete from tb_product_offline where goods_id in(@goods_ids@)"/>
    <!-- 单个删除产品-->
    <sql ID="2005" value="delete from tb_product_offline where goods_id=@goods_id@"/>
    <!-- 产品归类-->
    <sql ID="2006" value="update tb_product_offline set parts_cate_id=@parts_cate_id@ where goods_id in(@goods_ids@)"/>
    <!-- 产品查询：全部，未归类，已归类-->
    <sql ID="2007" value="select aa.goods_id,aa.goods_name,aa.original_car_no,aa.mfg_no,aa.goods_sell_title,aa.price2,aa.price3,aa.price4,aa.price5,aa.store_num,aa.sell_start_time,aa.sell_end_time,aa.add_time,aa.parts_cate_id,bb.parts_cate_name from tb_product_offline aa left join tb_parts_category bb on aa.parts_cate_id=bb.parts_cate_id where 1=1 @where@ order by aa.goods_id desc limit @page@,@row@"/>
    <sql ID="2008" value="select aa.goods_id,aa.goods_name,aa.original_car_no,aa.mfg_no,aa.goods_sell_title,aa.price2,aa.price3,aa.price4,aa.price5,aa.store_num,aa.sell_start_time,aa.sell_end_time,aa.add_time,aa.parts_cate_id,bb.parts_cate_name from tb_product_offline aa left join tb_parts_category bb on aa.parts_cate_id=bb.parts_cate_id where 1=1 @where@ and aa.parts_cate_id is null order by aa.goods_id desc limit @page@,@row@"/>
    <sql ID="2009" value="select aa.goods_id,aa.goods_name,aa.original_car_no,aa.mfg_no,aa.goods_sell_title,aa.price2,aa.price3,aa.price4,aa.price5,aa.store_num,aa.sell_start_time,aa.sell_end_time,aa.add_time,aa.parts_cate_id,bb.parts_cate_name from tb_product_offline aa left join tb_parts_category bb on aa.parts_cate_id=bb.parts_cate_id where 1=1 @where@ and aa.parts_cate_id is not null order by aa.goods_id desc limit @page@,@row@"/>
    <!--配件品牌-->
    <sql ID="2010" value="select parts_brand_id,parts_brand_name from tb_parts_brand where FIND_IN_SET(@partsCateId@,parts_cate_id)"/>
    <!--运费模板-->
    <sql ID="2011" value="select freight_id,user_id,freight_name from tb_web_freight where user_id=@user_id@"/>
    <!--读取字典-->
    <sql ID="2012" value="select dic_type,dic_code,dic_name,dic_value from tb_sys_dic where dic_code!=0 and dic_type=@dic_type@"/>
    <!--线下产品详情查询-->
    <sql ID="2013" value="select aa.*,bb.parts_cate_name,cc.parts_brand_name from tb_product_offline aa left join tb_parts_category bb on aa.parts_cate_id=bb.parts_cate_id left join tb_parts_brand cc on aa.parts_brand_id=cc.parts_brand_id where aa.goods_id=?"/>
    <!--线下产品暂存-->
    <sql ID="2014" value="update tb_product_offline set brand_ids=@brand_ids@,car_model_ids=@car_model_ids@,car_conf_ids=@car_conf_ids@,original_car_no=@original_car_no@,parts_cate_id=@parts_cate_id@,parts_brand_id=@parts_brand_id@,is_oem=@is_oem@,is_dead=@is_dead@,is_sale_property=@is_sale_property@,sale_limit=@saleLimit@,goods_name=@goods_name@,goods_sell_title=@goods_sell_title@,mfg_no=@mfg_no@,rank=@rank@,goods_no=@goods_no@,goods_sn=@goods_sn@,goods_standard=@goods_standard@,unit_name=@unit_name@,weight=@weight@,
    volume=@volume@,goods_main_img=@goods_main_img@,goods_ imgs=@goods_imgs@,price_life=@price_life@,is_tax=@isTax@,c_tax_rate=@c_tax_rate@,s_tax_rate=@s_tax_rate@,price0=@price0@,price1=@price1@,price2=@price2@,price3=@price3@,min_num_3=@min_num_3@,price4=@price4@,min_num_4=@min_num_4@,price5=@price5@,min_num_5=@min_num_5@,store_num=@store_num@,remark=@remark@,freight_id=@freight_id@,sell_start_time=@sell_start_time@,sell_end_time=@sell_end_time@,update_time=now(),goods_name_py=@goods_name_py@,goods_name_sp=@goods_name_sp@ where goods_id=@goods_id@"/>
    <!--产品保存并上架-->
    <sql ID="2015" value="insert into tb_product_online(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,is_sale_property,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,goods_standard,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    select goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,is_sale_property,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,goods_standard,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,0,now(),goods_name_py,goods_name_sp from tb_product_offline where goods_id=@goods_id@"/>
    <!--汽车品牌-->
    <sql ID="2016" value="select brand_id,brand_name,brand_sp from tb_car_brand"/>
    <!--汽车车型-->
    <sql ID="2017" value="select car_model_id,car_model_name from tb_car_model where brand_id =@brand_id@"/>
    <!--汽车年款-->
    <sql ID="2018" value="select car_conf_id,car_conf_name from tb_car_conf where car_model_id =@car_model_id@"/>
    <!--查询销售属性-->
    <sql ID="2019" value="select attr_id,attr_name,attr_value,attr_hashcode,is_sell from tb_attribute where attr_id in(@attr_id@) and is_sell>0 limit 0,2"/>
    <!--查询产品属性-->
    <sql ID="2020" value="select attr_id,attr_name,attr_type_input,attr_value,attr_hashcode from tb_attribute where attr_id in(@attr_id@)"/>
    <!--删除销售属性-->
    <sql ID="2021" value="delete from tb_product_sell_price where goods_id=@goods_id@"/>
    <!--删除产品属性-->
    <sql ID="2022" value="delete from tb_goods_property where goods_id=@goods_id@"/>
    <!--根据配件类型查询属性-->
    <sql ID="2023" value="select attr_ids from tb_parts_category where is_lock = 0 and parts_cate_id=@parts_cate_id@"/>
    <!--根据goods_id查询销售属性-->
    <sql ID="2024" value="select is_image_1,attr_id_1,attr_value_1,attr_hashcode_1,attr_content_1,is_image_2,attr_id_2,attr_value_2,attr_hashcode_2,attr_content_2,price0,price1,price2,price3,price4,price5,store_num,
    (select is_sell from tb_attribute where attr_id=tb_product_sell_price.attr_id_1) as is_sell_1,(select is_sell from tb_attribute where attr_id=tb_product_sell_price.attr_id_2) as is_sell_2 from tb_product_sell_price where goods_id=@goods_id@"/>
    <!--根据goods_id查询产品属性-->
    <sql ID="2025" value="select attr_id,attr_value,attr_hashcode from tb_goods_property where goods_id=@goods_id@"/>
    <!--根据goods_id查询产品属性-->
    <sql ID="2026" value="select update_time,serial_number from tb_sys_sn where table_name=?"/>
    <!--根据goods_id查询产品属性-->
    <sql ID="2027" value="update tb_sys_sn set update_time=@update_time@,serial_number=@serial_number@ where table_name=@table_name@"/>
    <!--插入一种销售属性-->
    <sql ID="2028" value="insert into tb_product_sell_price(goods_id,attr_id_1,attr_value_1,attr_hashcode_1,price0,price1,price2,price3,price4,price5,store_num) values@values@"/>
    <!--插入两种销售属性-->
    <sql ID="2029" value="insert into tb_product_sell_price(goods_id,is_image_1,attr_id_1,attr_value_1,attr_hashcode_1,attr_content_1,is_image_2,attr_id_2,attr_value_2,attr_hashcode_2,attr_content_2,price0,price1,price2,price3,price4,price5,store_num) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <!--插入产品属性(下拉)-->
    <sql ID="2030" value="insert into tb_goods_property(goods_id,attr_id,attr_hashcode) values@values@"/>
    <!--插入产品属性(输入)-->
    <sql ID="2031" value="insert into tb_goods_property(goods_id,attr_id,attr_value) values@values@"/>
    <!--单个删除线下产品-->
    <sql ID="2032" value="delete from tb_product_offline where goods_id=@goods_id@"/>
    <!--产品上架的同时增加产品热度-->
    <sql ID="2033" value="insert into tb_product_top(goods_id,parts_cate_id) values(@goods_id@,@parts_cate_id@)"/>
    <!--运费模板读取-->
    <sql ID="2034" value="select freight_id,freight_name,charge_type from tb_web_freight where user_id=? order by freight_id desc limit ?,?"/>
    <!--运费模板类型-->
    <sql ID="2035" value="select delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_type where freight_id=?"/>
    <!--省份读取-->
    <sql ID="2036" value="select provinceid,provincename from tb_province where provincestatus=0"/>
    <!--城市读取-->
    <sql ID="2037" value="select cityid,cityname from tb_city where citystatus=0"/>
    <!--运费模板删除-->
    <sql ID="2038" value="delete from tb_web_freight where freight_id=@freight_id@"/>
    <!--运费模板修改-->
    <sql ID="2039" value="update tb_web_freight set freight_name=@freight_name@,province_id=@province_id@,city_id=@city_id@,area_id=@area_id@,consign_time=@consign_time@,
     is_free_post=@is_free_post@,charge_type=@charge_type@,is_express=@is_express@,is_ems=@is_ems@,is_post=@is_post@,is_designated=@is_designated@ where freight_id=@freight_id@"/>
    <!--运费模板新增-->
    <sql ID="2040" value="insert into tb_web_freight(user_id,freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated)
     values(@user_id@,@freight_name@,@province_id@,@city_id@,@area_id@,@consign_time@,@is_free_post@,@charge_type@,@is_express@,@is_ems@,@is_post@,@is_designated@)"/>
    <!--卖家地址新增-->
    <sql ID="2041" value="insert into tb_web_seller_address(user_id,receiver,province_id,city_id,area_id,area_name,town_name,phone,mobile,company,is_default,is_default_return,remark,update_time)
     values(@user_id@,@receiver@,@province_id@,@city_id@,@area_id@,@area_name@,@town_name@,@phone@,@mobile@,@company@,@is_default@,@is_default_return@,@remark@,now())"/>
    <!--单个卖家地址查询-->
    <sql ID="2042" value="select receiver,province_id,city_id,area_id,area_name,town_name,phone,mobile,company,remark,is_default from tb_web_seller_address where address_id=@address_id@"/>
    <!--卖家地址修改-->
    <sql ID="2043" value="update tb_web_seller_address set receiver=@receiver@,province_id=@province_id@,city_id=@city_id@,area_id=@area_id@,
    area_name=@area_name@,town_name=@town_name@,phone=@phone@,mobile=@mobile@,company=@company@,remark=@remark@,update_time=now() where address_id=@address_id@"/>
    <!--卖家地址总查询-->
    <sql ID="2044" value="select address_id,receiver,province_id,city_id,area_id,area_name,town_name,phone,mobile,company,remark,is_default,is_default_return from tb_web_seller_address where user_id=? order by address_id desc"/>
    <!--卖家地址删除-->
    <sql ID="2045" value="delete from tb_web_seller_address where address_id=@address_id@"/>
    <!--设为默认发货地址（先把所有设置为0）-->
    <sql ID="2046" value="update tb_web_seller_address set is_default=0 where user_id=@user_id@"/>
    <!--设为默认发货地址（再把当前设置为1）-->
    <sql ID="2047" value="update tb_web_seller_address set is_default=1,update_time=now() where address_id=@address_id@"/>
    <!--设为默认收货地址（先把所有设置为0）-->
    <sql ID="2048" value="update tb_web_seller_address set is_default_return=0 where user_id=@user_id@"/>
    <!--设为默认收货地址（再把当前设置为1）-->
    <sql ID="2049" value="update tb_web_seller_address set is_default_return=1,update_time=now() where address_id=@address_id@"/>
    <!--计算地址数-->
    <sql ID="2050" value="select count(*) as num from tb_web_seller_address where user_id=@user_id@"/>
    <!--卖家中心所有订单-->
    <sql ID="2051" value="select aa.order_id,aa.order_time from tb_order_supplier aa left join tb_order cc on aa.order_id = cc.order_id where @where@ order by aa.order_id desc limit @page@,@row@"/>
    <!--卖家中心订单商品-->
    <sql ID="2052" value="select aa.order_id,aa.is_seller_reviews,aa.freight_rec_amount,aa.freight_extra_amount,aa.goods_rec_amount,aa.goods_extra_amount,aa.insurance_amount,aa.order_amount,aa.is_expressed,aa.delivery_type,bb.goods_id,bb.goods_name,bb.goods_main_img,bb.car_property,bb.property_json,bb.sale_price,
bb.discount_price,bb.goods_num,bb.refund_status,cc.user_id,cc.is_invoice,cc.invoice_id,cc.order_status,cc.amounts,dd.parts_cate_id,dd.mfg_no,dd.goods_no from tb_order_supplier aa left join tb_order_goods bb on aa.order_id=bb.order_id
left join tb_order cc on aa.order_id=cc.order_id left join tb_product_online dd on bb.goods_id=dd.goods_id where aa.user_id_supplier =? and aa.order_id =? and bb.user_id=? order by bb.order_item"/>
    <!--下架的产品暂存-->
    <sql ID="2053" value="update tb_product_online set brand_ids=@brand_ids@,car_model_ids=@car_model_ids@,car_conf_ids=@car_conf_ids@,original_car_no=@original_car_no@,
    parts_cate_id=@parts_cate_id@,parts_brand_id=@parts_brand_id@,is_oem=@is_oem@,is_dead=@is_dead@,is_sale_property=@is_sale_property@,sale_limit=@saleLimit@,goods_name=@goods_name@,goods_sell_title=@goods_sell_title@,mfg_no=@mfg_no@,
    rank=@rank@,goods_no=@goods_no@,goods_sn=@goods_sn@,goods_standard=@goods_standard@,unit_name=@unit_name@,weight=@weight@,volume=@volume@,goods_main_img=@goods_main_img@,goods_imgs=@goods_imgs@,price_life=@price_life@,is_tax=@isTax@,c_tax_rate=@c_tax_rate@,s_tax_rate=@s_tax_rate@,
    price0=@price0@,price1=@price1@,price2=@price2@,price3=@price3@,min_num_3=@min_num_3@,price4=@price4@,min_num_4=@min_num_4@,price5=@price5@,min_num_5=@min_num_5@,store_num=@store_num@,remark=@remark@,freight_id=@freight_id@,sell_start_time=@sell_start_time@,
    sell_end_time=@sell_end_time@,update_time=now(),goods_name_py=@goods_name_py@,goods_name_sp=@goods_name_sp@,snap_status=1 where goods_id=@goods_id@"/>
    <!--下架产品保存并上架-->
    <sql ID="2054" value="update tb_product_online set brand_ids=@brand_ids@,car_model_ids=@car_model_ids@,car_conf_ids=@car_conf_ids@,original_car_no=@original_car_no@,
    parts_cate_id=@parts_cate_id@,parts_brand_id=@parts_brand_id@,is_oem=@is_oem@,is_dead=@is_dead@,is_sale_property=@is_sale_property@,sale_limit=@saleLimit@,goods_name=@goods_name@,goods_sell_title=@goods_sell_title@,mfg_no=@mfg_no@,
    rank=@rank@,goods_no=@goods_no@,goods_sn=@goods_sn@,goods_standard=@goods_standard@,unit_name=@unit_name@,weight=@weight@,volume=@volume@,goods_main_img=@goods_main_img@,goods_imgs=@goods_imgs@,price_life=@price_life@,is_tax=@isTax@,c_tax_rate=@c_tax_rate@,s_tax_rate=@s_tax_rate@,
    price0=@price0@,price1=@price1@,price2=@price2@,price3=@price3@,min_num_3=@min_num_3@,price4=@price4@,min_num_4=@min_num_4@,price5=@price5@,min_num_5=@min_num_5@,store_num=@store_num@,remark=@remark@,freight_id=@freight_id@,sell_start_time=@sell_start_time@,
    sell_end_time=@sell_end_time@,is_lock=0,update_time=now(),goods_name_py=@goods_name_py@,goods_name_sp=@goods_name_sp@,snap_status=1 where goods_id=@goods_id@"/>
    <!--运费模板城市-->
    <sql ID="2058" value="select delivery_type,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_city where freight_id=? and delivery_type=?"/>
    <!--运费模板修改查询-->
    <sql ID="2059" value="select freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated from tb_web_freight where freight_id=@freight_id@"/>
    <!--非模板运费类型-->
    <sql ID="2060" value="select delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_type where freight_id=@freight_id@"/>
    <!--非模板运费城市-->
    <sql ID="2061" value="select delivery_type,city_ids,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_city where freight_id=@freight_id@"/>
    <!--城市读取-->
    <sql ID="2062" value="select cityid,cityname from tb_city where provinceid=? and citystatus=0"/>
    <!--更新前先删除-->
    <sql ID="2063" value="delete from tb_web_freight_city where freight_id=?"/>
    <sql ID="2064" value="delete from tb_web_freight_city_free where freight_id=?"/>
    <sql ID="2065" value="delete from tb_web_freight_type where freight_id=?"/>
    <sql ID="2092" value="delete from tb_web_express_timeliness where freight_id=?"/>
    <!--插入运送方式-->
    <sql ID="2066" value="insert into tb_web_freight_type(freight_id,user_id,delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee) values(?,?,?,?,?,?,?)"/>
    <!--插入指定城市运费-->
    <sql ID="2067" value="insert into tb_web_freight_city(freight_id,user_id,delivery_type,city_ids,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee) values(?,?,?,?,?,?,?,?,?)"/>
    <!--插入满足条件包邮-->
    <sql ID="2068" value="insert into tb_web_freight_city_free(freight_id,user_id,delivery_type,city_ids,city_names,charge_type,designated,first_condition,second_contition) values(?,?,?,?,?,?,?,?,?)"/>
    <!--非模板运费指定包邮-->
    <sql ID="2069" value="select delivery_type,city_ids,city_names,charge_type,designated,first_condition,second_contition from tb_web_freight_city_free where freight_id=@freight_id@"/>
    <!--复制模板-->
    <sql ID="2070" value="insert into tb_web_freight(user_id,freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated)
    select user_id,'@name@',province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated from tb_web_freight where freight_id=@freight_id@"/>
    <sql ID="2071" value="insert into tb_web_freight_type(freight_id,user_id,delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee)
    select '@freight_id@',user_id,delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_type where freight_id=@copy_id@"/>
    <sql ID="2072" value="insert into tb_web_freight_city(freight_id,user_id,delivery_type,city_ids,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee)
    select '@freight_id@',user_id,delivery_type,city_ids,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_city where freight_id=@copy_id@"/>
    <sql ID="2073" value="insert into tb_web_freight_city_free(freight_id,user_id,delivery_type,city_ids,city_names,charge_type,designated,first_condition,second_contition)
    select '@freight_id@',user_id,delivery_type,city_ids,city_names,charge_type,designated,first_condition,second_contition from tb_web_freight_city_free where freight_id=@copy_id@"/>
    <sql ID="2095" value="insert into tb_web_express_timeliness(freight_id,user_id,delivery_type,city_ids,city_names,delivery_days)
    select '@freight_id@',user_id,delivery_type,city_ids,city_names,delivery_days from tb_web_express_timeliness where freight_id=@copy_id@"/>
    <!--评价数-->
    <sql ID="2074" value="select aa.order_id,aa.goods_id,aa.goods_name,aa.is_reviews,aa.global_score,aa.detail_reviews,aa.reviews_time,aa.reply_content,aa.seller_user_id,bb.amounts,cc.nick
     from tb_web_goods_reviews aa left join tb_order_goods bb on aa.order_id=bb.order_id and aa.goods_id=bb.goods_id left join tb_web_user cc on aa.user_id=cc.user_id where @where@ limit @page@,@row@"/>
    <!--卖家回复-->
    <sql ID="2075" value="update tb_web_goods_reviews set reply_score=@reply_score@,reply_content=@reply_content@,reply_time=now() where order_id=@order_id@ and goods_id=@goods_id@ and seller_user_id=@seller_user_id@"/>
    <!-- 获取线下产品列表 -->
    <sql ID="2076" value="select goods_id,parts_cate_id,goods_main_img,goods_name,price2,price3,price4,price5,store_num,add_time,goods_no
    from tb_product_offline where 1=1 @where@ order by goods_id desc limit @row@,@pagesize@ "/>
    <!-- 获取下架产品列表 -->
    <sql ID="2077" value="select goods_id,parts_cate_id,goods_main_img,goods_name,price2,price3,price4,price5,store_num,add_time,goods_no
     from tb_product_online where is_lock=1 @where@ order by goods_id desc limit @row@,@pagesize@ "/>
    <!--修改线下商品名称-->
    <sql ID="2078" value="update tb_product_offline set goods_name = @goods_name@ where goods_id = @goods_id@"/>
    <!--修改线下商品价格-->
    <sql ID="2079" value="update tb_product_offline set price3 = @price3@,price4 = @price4@,price5 = @price5@ where goods_id = @goods_id@"/>
    <!--修改线下商品库存-->
    <sql ID="2080" value="update tb_product_offline set store_num = @store_num@ where goods_id = @goods_id@"/>
    <!--批量删除线下产品记录-->
    <sql ID="2081" value="delete from tb_product_offline where goods_id in(@goods_ids@)"/>
    <!--批量上架-->
    <sql ID="2082" value="insert into tb_product_online(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    select goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,0,now(),goods_name_py,goods_name_sp from tb_product_offline where goods_id in(@goods_ids@)"/>
    <sql ID="2083" value="update tb_product_online set is_lock = 0,snap_status=1 where goods_id in(@goods_ids@)"/>
    <!--卖家立即评价，查询当前订单产品数-->
    <sql ID="2084" value="select aa.order_id,aa.goods_id,aa.goods_name,aa.global_score,aa.detail_reviews,aa.reviews_time,aa.reply_content,bb.amounts,cc.nick from tb_web_goods_reviews aa
    left join tb_order_goods bb on aa.order_id=bb.order_id and aa.goods_id=bb.goods_id left join tb_web_user cc on aa.user_id=cc.user_id where aa.order_id=? and aa.seller_user_id=?"/>
    <!--卖家回复-->
    <sql ID="2085" value="update tb_web_goods_reviews set reply_score=@reply_score@,reply_content=@reply_content@,reply_time=now() where order_id=@order_id@ and goods_id=@goods_id@ and seller_user_id=@seller_user_id@"/>
    <sql ID="2088" value="update tb_order_supplier set is_seller_reviews=1 where order_id=@order_id@ and user_id_supplier=@seller_user_id@"/>
    <!--查询该订单是否所有卖家都已评论-->
    <sql ID="2086" value="select count(*) as num from tb_order_supplier where order_id=@order_id@ and is_seller_reviews=0"/>
    <!--所有卖家已评论,更新tb_order的is_seller_reviews=1-->
    <sql ID="2087" value="update tb_order set is_seller_reviews=1 where order_id=@order_id@"/>
    <!--线上产品详情查询-->
    <sql ID="2089" value="select aa.*,bb.parts_cate_name,cc.parts_brand_name from tb_product_online aa left join tb_parts_category bb on aa.parts_cate_id=bb.parts_cate_id left join tb_parts_brand cc on aa.parts_brand_id=cc.parts_brand_id where aa.goods_id=?"/>
    <!--新增产品线下暂存-->
    <sql ID="2090" value="insert into tb_product_offline(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,is_sale_property,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,goods_standard,
    unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    values(@goods_id@,@user_id@,@brand_ids@,@car_model_ids@,@car_conf_ids@,@original_car_no@,@parts_cate_id@,@parts_brand_id@,@is_oem@,@is_dead@,@is_sale_property@,@saleLimit@,@goods_name@,@goods_sell_title@,@mfg_no@,@rank@,@goods_no@,@goods_sn@,@goods_standard@,@unit_name@,@weight@,
    @volume@,@goods_main_img@,@goods_imgs@,@price_life@,@isTax@,@c_tax_rate@,@s_tax_rate@,@price0@,@price1@,@price2@,@price3@,@min_num_3@,@price4@,@min_num_4@,@price5@,@min_num_5@,@store_num@,@remark@,@freight_id@,@sell_start_time@,@sell_end_time@,0,now(),@goods_name_py@,@goods_name_sp@)"/>
    <!--新增产品直接上架-->
    <sql ID="2091" value="insert into tb_product_online(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,is_sale_property,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,goods_standard,
    unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    values(@goods_id@,@user_id@,@brand_ids@,@car_model_ids@,@car_conf_ids@,@original_car_no@,@parts_cate_id@,@parts_brand_id@,@is_oem@,@is_dead@,@is_sale_property@,@saleLimit@,@goods_name@,@goods_sell_title@,@mfg_no@,@rank@,@goods_no@,@goods_sn@,@goods_standard@,@unit_name@,@weight@,
    @volume@,@goods_main_img@,@goods_imgs@,@price_life@,@isTax@,@c_tax_rate@,@s_tax_rate@,@price0@,@price1@,@price2@,@price3@,@min_num_3@,@price4@,@min_num_4@,@price5@,@min_num_5@,@store_num@,@remark@,@freight_id@,@sell_start_time@,@sell_end_time@,0,now(),@goods_name_py@,@goods_name_sp@)"/>
    <!--插入预计到达时间-->
    <sql ID="2093" value="insert into tb_web_express_timeliness(freight_id,user_id,delivery_type,city_ids,city_names,delivery_days) values(?,?,?,?,?,?)"/>
    <!--运费模板修改查询预计到达时间-->
    <sql ID="2094" value="select delivery_type,city_ids,city_names,delivery_days from tb_web_express_timeliness where freight_id=@freight_id@"/>

    <!--查询个人网银-->
    <sql ID="2096" value="select * from tb_bank where pay_type = 1"/>
    <!--添加不重复银行卡-->
    <sql ID="2097" value="insert into tb_user_bank_card(user_id,bank_id,account_type,card_type,account_name,province_id,city_id,town_id,area_name,bank_full_name,account_no,mobile,create_time)
     values(@user_id@,@bank_id@,@account_type@,@card_type@,@account_name@,@province_id@,@city_id@,@town_id@,@area_name@,@bank_full_name@,@account_no@,@mobile@,now())"/>
    <!--查询真实姓名、身份证号-->
    <sql ID="2098" value="select real_name,valided_idcard,idcard,balance from tb_web_user where user_id = ?"/>
    <!--查询我的银行卡-->
    <sql ID="2099" value="select aa.bank_id,aa.card_type,aa.account_no,aa.verify_status,bb.bank_name,bb.bank_ico from tb_user_bank_card aa left join tb_bank bb on aa.bank_id=bb.bank_id where aa.user_id = ? and aa.is_deleted=0"/>
    <!-- 我的银行卡数-->
    <sql ID="2100" value="select count(*) as number from tb_user_bank_card where user_id = ? and is_deleted = 0 "/>
    <!-- 删除银行卡-->
    <sql ID="2101" value="update tb_user_bank_card set is_deleted=1 where user_id=@user_id@ and bank_id=@bank_id@ and account_no=@account_no@"/>

    <!--卖家新增配件品牌-->
    <sql ID="2102" value="insert into tb_parts_brand(parts_cate_id,parts_brand_name,parts_brand_english,parts_brand_py,parts_brand_logo,parts_brand_owner)
    values(@parts_cate_id@,@parts_brand_name@,@parts_brand_english@,@parts_brand_py@,@parts_brand_logo@,@parts_brand_owner@)"/>

    <!--查询卖家审核是否通过-->
    <sql ID="2103" value="select put_status from tb_web_user_seller where user_id=@user_id@"/>

    <!--查询账户余额-->
    <sql ID="2104" value="select balance,freeze_balance,total_balance from tb_web_user where user_id = ?"/>
    <!--查询我的银行卡，并按付款默认和更新时间排序-->
    <sql ID="2105" value="select aa.bank_id,aa.account_no,bb.bank_img,bb.pay_type,bb.pay_bank,bb.pay_clazz,bb.pay_card,bb.bank_name
     from tb_user_bank_card aa left join tb_bank bb on aa.bank_id=bb.bank_id where aa.user_id = ? and aa.is_deleted=0 and aa.verify_status=1 and aa.card_type='10' order by aa.pay_default desc,aa.update_time desc"/>
    <!--插入充值记录-->
    <sql ID="2106" value="insert into tb_user_recharge(recharge_id,bank_order_id,user_id,create_time,recharge_money,pay_remark,pay_bank,pay_type,bank_id,account_no,pay_cer_id)
    values(@recharge_id@,@bank_order_id@,@user_id@,@create_time@,@recharge_money@,@pay_remark@,@pay_bank@,@pay_type@,@bank_id@,@account_no@,@pay_cer_id@)"/>

    <!--查询订单详情-->
    <sql ID="2107" value="select order_id,order_time,amounts,deposit_pay_money,receiver,phone,address,(amounts-deposit_pay_money) as realamount from tb_order where order_id=?"/>
    <!--查询订单产品名称-->
    <sql ID="2108" value="select goods_name from tb_order_goods where order_id=?"/>
    <!--支付平台查询-->
    <sql ID="2109" value="select * from tb_bank where pay_type = 3"/>

    <!--查询银行卡是否重复-->
    <sql ID="2110" value="select is_deleted from tb_user_bank_card where user_id=@user_id@ and bank_id=@bank_id@ and account_no=@account_no@"/>
    <!--银行卡重复时更新is_deleted为0-->
    <sql ID="2111" value="update tb_user_bank_card set account_type=@account_type@,card_type=@card_type@,account_name=@account_name@,
    province_id=@province_id@,city_id=@city_id@,town_id=@town_id@,area_name=@area_name@,bank_full_name=@bank_full_name@,mobile=@mobile@,
    create_time=now(),verify_status=0,is_deleted=0 where user_id=@user_id@ and bank_id=@bank_id@ and account_no=@account_no@"/>
    <!--查询是否设置默认提现银行卡-->
    <sql ID="2112" value="select aa.bank_id,aa.card_type,aa.account_no,bb.bank_name,bb.bank_img from tb_user_bank_card aa left join tb_bank bb on aa.bank_id=bb.bank_id where aa.user_id=? and aa.advance_default=1 and aa.verify_status=1"/>
    <!--查询支付密码-->
    <sql ID="2113" value="select trade_password,login_salt from tb_web_user where user_id=? "/>
    <!--插入提现申请-->
    <sql ID="2114" value="insert into tb_user_cash(cash_id,bank_order_id,user_id,create_time,balance,cash_money,bank_id,account_no)
    values(@cash_id@,0,@user_id@,now(),@balance@,@cash_money@,@bank_id@,@account_no@)"/>
    <!--更新余额-->
    <sql ID="2115" value="update tb_web_user set balance=@updateBalance@,freeze_balance=@freeze_balance@ where user_id = @user_id@"/>
    <!--查询提现表-->
    <sql ID="2116" value="select create_time,cash_money from tb_user_cash where user_id=? and cash_status=0"/>
    <!--查询提现记录数-->
    <sql ID="2117" value="select count(*) as num from tb_user_cash where user_id=? and cash_status=0"/>
    <!--查询我的银行卡(除信用卡外，用于充值)，并按付款默认和更新时间排序-->
    <sql ID="2118" value="select aa.bank_id,aa.account_no,bb.bank_img,bb.pay_type,bb.pay_bank,bb.pay_clazz,bb.pay_card
     from tb_user_bank_card aa left join tb_bank bb on aa.bank_id=bb.bank_id where aa.user_id = ? and aa.card_type=10 and aa.is_deleted=0 order by aa.pay_default desc,aa.update_time desc"/>

    <!--更新充值记录-->
    <sql ID="2119" value="update tb_user_recharge set bank_order_id=@bank_order_id@,pay_type=@pay_type@,bank_id=@bank_id@,account_no=@account_no@,pay_cer_id=@pay_cer_id@,pay_bank=@pay_bank@,,pay_remark=@pay_remark@ where recharge_id=@recharge_id@ and user_id=@user_id@"/>
    <!--上架时批量插入热度表-->
    <sql ID="2120" value="insert into tb_product_top (goods_id,parts_cate_id) values @values@"/>
    <!--插入充值记录时插入资金变动表-->
    <sql ID="2121" value="insert into tb_money_movements (pay_id,order_id,bank_order_id,trade_type,pay_bank,pay_type,pay_cer_id,user_id,move_time,amount,remarks,status_time) values
    (@pay_id@,@order_id@,@bank_order_id@,@trade_type@,@pay_bank@,@pay_type@,@pay_cer_id@,@user_id@,@move_time@,@amount@,@remarks@,@status_time@)"/>
    <!--查询资金变动表的消费变动状态：无、0、1-->
    <sql ID="2122" value="select pay_id,pay_bank,bank_order_id,pay_type,pay_cer_id,freezed,status_time,move_status from tb_money_movements where order_id=? and user_id=? and trade_type=1"/>

    <!--批量设置更新运费模板-->
    <sql ID="2123" value="update tb_product_online set freight_id=@freight_id@,snap_status=1 where goods_id in(@goods_ids@)"/>
    <!--批量设置更新运费模板-->
    <sql ID="2124" value="update tb_product_offline set freight_id=@freight_id@ where goods_id in(@goods_ids@)"/>

    <!--查询下单人id-->
    <sql ID="2125" value="select user_id,amounts,biz_clazz,deposit_pay_money,(amounts-deposit_pay_money) as realamount from tb_order where order_id=@order_id@ and order_status=0"/>

    <!--交易记录（资金变动）查询-->
    <sql ID="2126" value="select * from tb_money_movements where @where@ order by move_time desc limit @page@,@row@"/>
    <!--支出记录查询-->
    <sql ID="2127" value="select * from tb_user_order_pay_out where @where@ order by create_time desc,seller_user_id asc limit @page@,@row@"/>
    <!--收入记录查询-->
    <sql ID="2128" value="select * from tb_user_order_pay_in where @where@ order by create_time desc limit @page@,@row@"/>
    <!--充值记录查询-->
    <sql ID="2129" value="select aa.*,bb.bank_name from tb_user_recharge aa left join tb_bank bb on aa.bank_id=bb.bank_id where @where@ order by aa.create_time desc limit @page@,@row@"/>
    <!--提现记录查询-->
    <sql ID="2130" value="select aa.*,bb.bank_name from tb_user_cash aa left join tb_bank bb on aa.bank_id=bb.bank_id where @where@ order by aa.create_time desc limit @page@,@row@"/>
    <!--退款记录查询-->
    <sql ID="2131" value="select * from tb_order_refund where @where@ order by create_time desc limit @page@,@row@"/>

    <!--插入系统日志表-->
    <sql ID="2132" value="insert into tb_sys_web_db_log (sql_id,params) values(@sql_id@,@params@)"/>

    <!--更新资金变动表-->
    <sql ID="2133" value="update tb_money_movements set bank_order_id=@bank_order_id@,pay_bank=@pay_bank@,pay_type=@pay_type@,pay_cer_id=@pay_cer_id@,status_time=@move_time@ where pay_id=@recharge_id@ and order_id=@recharge_id@ and user_id=@user_id@ and trade_type=3"/>

    <!--更新资金变动表-->
    <sql ID="2134" value="select update_time,serial_number from tb_sys_sn where table_name=@table_name@"/>

    <!--根据订单号查询订单买家信息-->
    <sql ID="2135" value="select order_status,user_id,amounts,phone from tb_order where order_id=?"/>

    <!--根据银行卡号查询该卡是否默认-->
    <sql ID="2136" value="select pay_default,advance_default from tb_user_bank_cark where user_id=@user_id@ and bank_id=@bank_id@ and account_no=@account_no@"/>
    <!--查询我的银行卡(含信用卡)，并按付款默认和更新时间排序-->
    <sql ID="2137" value="select aa.bank_id,aa.account_no,bb.bank_english,bb.bank_img,bb.pay_type,bb.pay_bank,bb.pay_clazz,bb.pay_card,bb.bank_name
     from tb_user_bank_card aa left join tb_bank bb on aa.bank_id=bb.bank_id where aa.user_id = ? and aa.is_deleted=0 order by aa.pay_default desc,aa.update_time desc"/>

    <!--@删除运费模板-->
    <sql ID="2138" value="delete from tb_web_freight_city where freight_id=@freight_id@"/>
    <sql ID="2139" value="delete from tb_web_freight_city_free where freight_id=@freight_id@"/>
    <sql ID="2140" value="delete from tb_web_freight_type where freight_id=@freight_id@"/>
    <sql ID="2141" value="delete from tb_web_express_timeliness where freight_id=@freight_id@"/>
    <!--注册成为卖家后，新增模板-->
    <sql ID="2142" value="insert into tb_web_freight(user_id,freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated)
    select '@user_id@',freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated from tb_web_freight where freight_id=92"/>
    <sql ID="2143" value="insert into tb_web_freight(user_id,freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated)
    select '@user_id@',freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated from tb_web_freight where freight_id=93"/>
    <sql ID="2144" value="insert into tb_web_freight(user_id,freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated)
    select '@user_id@',freight_name,province_id,city_id,area_id,consign_time,is_free_post,charge_type,is_express,is_ems,is_post,is_designated from tb_web_freight where freight_id=95"/>

    <sql ID="2145" value="insert into tb_web_freight_type(freight_id,user_id,delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee)
    select '@freight_id@','@user_id@',delivery_type,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_type where freight_id=@copy_id@"/>
    <sql ID="2146" value="insert into tb_web_freight_city(freight_id,user_id,delivery_type,city_ids,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee)
    select '@freight_id@','@user_id@',delivery_type,city_ids,city_names,default_first_weight,default_first_fee,default_second_weight,default_second_fee from tb_web_freight_city where freight_id=@copy_id@"/>
    <sql ID="2147" value="insert into tb_web_freight_city_free(freight_id,user_id,delivery_type,city_ids,city_names,charge_type,designated,first_condition,second_contition)
    select '@freight_id@','@user_id@',delivery_type,city_ids,city_names,charge_type,designated,first_condition,second_contition from tb_web_freight_city_free where freight_id=@copy_id@"/>
    <sql ID="2148" value="insert into tb_web_express_timeliness(freight_id,user_id,delivery_type,city_ids,city_names,delivery_days)
    select '@freight_id@','@user_id@',delivery_type,city_ids,city_names,delivery_days from tb_web_express_timeliness where freight_id=@copy_id@"/>

    <!--产品单个上架时插入任务表，以生成详情页-->
    <sql ID="2149" value="insert into tb_task(task_type,task_obj_id) values(0,@goods_id@)"/>
    <!--产品批量上架时插入任务表，以生成详情页-->
    <sql ID="2150" value="insert into tb_task(task_type,task_obj_id) values @detail@"/>


    <!--插入商家入驻咨询-->
    <sql ID="2153" value="insert into tb_web_consult(consult_content,user_id,consult_time,is_email,email) values(@consult_content@,@user_id@,now(),@is_email@,@email@)"/>
    <!--删除线上产品-->
    <sql ID="2154" value="delete from tb_product_online where goods_id in(@goods_ids@)"/>

    <!--通过订单号和卖家id查询发货公司和快递单号-->
    <sql ID="2155" value="select express_company,express_no from tb_order_supplier where order_id=? and user_id_supplier=?"/>

    <!--批量查询年款信息-->
    <sql ID="2156" value="select car_conf_id,car_conf_name from tb_car_conf where car_model_id in (@car_model_ids@)"/>

    <!--订单修改价格-->
    <!--查询tb_order_goods产品信息-->
    <sql ID="2160" value="select aa.goods_id,aa.order_item,aa.property_json,aa.goods_name,aa.discount_price,aa.goods_num,aa.amounts,bb.price1,bb.price2,bb.price3,bb.price4,
    bb.price5 from tb_order_goods aa left join tb_product_online bb on aa.goods_id=bb.goods_id where aa.user_id =? and aa.order_id =? order by aa.order_item"/>
    <!--查询tb_order_supplier订单该卖家的运费和店铺合计-->
    <sql ID="2161" value="select goods_rec_amount,goods_extra_amount,freight_rec_amount,freight_extra_amount,order_amount from tb_order_supplier where user_id_supplier =? and order_id =?"/>
    <!--查询tb_order订单总金额、实付、产品增减、运费增减-->
    <sql ID="2162" value="select order_amount,amounts,goods_extra_amount,freight_extra_amount from tb_order where order_id=?"/>
    <!--更新tb_order_supplier产品增减、运费增减、店铺合计信息-->
    <sql ID="2163" value="update tb_order_supplier set goods_extra_amount=?,freight_extra_amount=?,order_amount=? where user_id_supplier=? and order_id=?"/>
    <!--更新tb_order实付金额、产品增减、运费增减-->
    <sql ID="2164" value="update tb_order set amounts=?,goods_extra_amount=?,freight_extra_amount=? where order_id=?"/>
    <!--更新tb_order_goods优惠价、小计、利润、积分、是否优惠、promotion_id-->
    <sql ID="2165" value="update tb_order_goods set is_discount=1,promotion_id='改',discount_price=?,amounts=?,profit_amounts=?,credits=? where goods_id=? and order_item=? and order_id=?"/>

    <!--提现时插入资金变动表-->
    <sql ID="2166" value="insert into tb_money_movements (pay_id,order_id,bank_order_id,trade_type,user_id,move_time,amount,freezed,remarks,status_time) values(@cash_id@,@cash_id@,0,4,@user_id@,now(),@cash_money@,@cash_money@,'提现',now())"/>

    <!--查询卖家质保金-->
    <sql ID="2167" value="select month_money,power_status,law_money from tb_web_user_seller where user_id=?"/>

    <!--关闭交易-->
    <!--查询该订单冻结金额及pay_id-->
    <sql ID="2168" value="select freezed,pay_id from tb_money_movements where order_id=@order_id@ and user_id=@user_id@ and trade_type=1"/>
    <!--查询该订单产品-->
    <sql ID="2169" value="select goods_id,goods_num,user_id,father_user_id from tb_order_goods where order_id=@order_id@"/>
    <!--查询账户余额-->
    <sql ID="2179" value="select balance,freeze_balance,total_balance from tb_web_user where user_id = @user_id@"/>
    <!--更新订单2个表，资金变动5个表-->
    <!--更新订单表状态-->
    <sql ID="2170" value="update tb_order set order_status=9 where order_id=? and user_id=?"/>
    <!--更新订单产品表状态-->
    <sql ID="2171" value="update tb_order_goods set refund_status=7,status_time=now() where order_id=? and user_id_buyer=?"/>
    <!--更新tb_money_movements状态-->
    <sql ID="2172" value="update tb_money_movements set freezed=0,move_status=3,status_time=? where order_id=? and user_id=? and trade_type=1"/>
    <!--更新tb_user_order_pay_in状态-->
    <sql ID="2173" value="update tb_user_order_pay_in set trade_status=6,update_time=? where order_id=? and buyer_user_id=?"/>
    <!--更新tb_user_order_pay_out状态-->
    <sql ID="2174" value="update tb_user_order_pay_out set trade_status=6,update_time=? where order_id=? and buyer_user_id=?"/>
    <!--更新tb_order_pay状态-->
    <sql ID="2175" value="update tb_order_pay set pay_status=3 where order_id=? and user_id=?"/>
    <!--更新tb_order_pay_clazz状态-->
    <sql ID="2176" value="update tb_order_pay_clazz set pay_status=3 where pay_sn=?"/>
    <!--更新订单2个表，资金变动5个表-->
    <!--更新会员表，更新余额、冻结余额-->
    <sql ID="2177" value="update tb_web_user set balance=?,freeze_balance=? where user_id=?"/>
    <!--更新产品表，加回库存,可能有多条-->
    <sql ID="2178" value="update tb_product_online set store_num=?+store_num where goods_id=?"/>

    <!--交易记录（资金变动）查询-->
    <sql ID="2180" value="select * from tb_money_movements where @where@ order by move_time desc"/>
    <!--支出记录查询-->
    <sql ID="2181" value="select * from tb_user_order_pay_out where @where@ order by create_time desc,seller_user_id asc"/>
    <!--收入记录查询-->
    <sql ID="2182" value="select * from tb_user_order_pay_in where @where@ order by create_time desc"/>
    <!--充值记录查询-->
    <sql ID="2183" value="select aa.*,bb.bank_name from tb_user_recharge aa left join tb_bank bb on aa.bank_id=bb.bank_id where @where@ order by aa.create_time desc"/>
    <!--提现记录查询-->
    <sql ID="2184" value="select aa.*,bb.bank_name from tb_user_cash aa left join tb_bank bb on aa.bank_id=bb.bank_id where @where@ order by aa.create_time desc"/>
    <!--退款记录查询-->
    <sql ID="2185" value="select * from tb_order_refund where @where@ order by create_time desc"/>
    <!--上传产品查询卖家税率-->
    <sql ID="2186" value="select is_tax,c_tax_rate,s_tax_rate from tb_web_user_seller where user_id=?"/>
    <!--上传产品修改卖家税率-->
    <sql ID="2187" value="update tb_web_user_seller set is_tax=@is_tax@,c_tax_rate=@c_tax_rate@,s_tax_rate=@s_tax_rate@ where user_id=@user_id@"/>

    <!-- 获取待审核产品列表 -->
    <sql ID="2188" value="select goods_id,parts_cate_id,goods_main_img,goods_name,price2,price3,price4,price5,store_num,add_time,goods_no
    from tb_product_live where 1=1 @where@ order by goods_id desc limit @row@,@pagesize@ "/>
    <!--修改线下商品名称-->
    <sql ID="2189" value="update tb_product_live set goods_name = @goods_name@ where goods_id = @goods_id@"/>
    <!--修改线下商品价格-->
    <sql ID="2190" value="update tb_product_live set price3 = @price3@,price4 = @price4@,price5 = @price5@ where goods_id = @goods_id@"/>
    <!--修改线下商品库存-->
    <sql ID="2191" value="update tb_product_live set store_num = @store_num@ where goods_id = @goods_id@"/>
    <!--批量删除待审核产品记录-->
    <sql ID="2192" value="delete from tb_product_live where goods_id in(@goods_ids@)"/>
    <!--批量设置更新运费模板-->
    <sql ID="2193" value="update tb_product_live set freight_id=@freight_id@ where goods_id in(@goods_ids@)"/>
    <!--待审核产品详情查询-->
    <sql ID="2194" value="select aa.*,bb.parts_cate_name,cc.parts_brand_name from tb_product_live aa left join tb_parts_category bb on aa.parts_cate_id=bb.parts_cate_id left join tb_parts_brand cc on aa.parts_brand_id=cc.parts_brand_id where aa.goods_id=?"/>
    <!--待审核的产品暂存-->
    <sql ID="2195" value="update tb_product_live set brand_ids=@brand_ids@,car_model_ids=@car_model_ids@,car_conf_ids=@car_conf_ids@,original_car_no=@original_car_no@,
    parts_cate_id=@parts_cate_id@,parts_brand_id=@parts_brand_id@,is_oem=@is_oem@,is_dead=@is_dead@,is_sale_property=@is_sale_property@,sale_limit=@saleLimit@,goods_name=@goods_name@,goods_sell_title=@goods_sell_title@,mfg_no=@mfg_no@,
    rank=@rank@,goods_no=@goods_no@,goods_sn=@goods_sn@,goods_standard=@goods_standard@,unit_name=@unit_name@,weight=@weight@,volume=@volume@,goods_main_img=@goods_main_img@,goods_imgs=@goods_imgs@,price_life=@price_life@,is_tax=@isTax@,c_tax_rate=@c_tax_rate@,s_tax_rate=@s_tax_rate@,
    price0=@price0@,price1=@price1@,price2=@price2@,price3=@price3@,min_num_3=@min_num_3@,price4=@price4@,min_num_4=@min_num_4@,price5=@price5@,min_num_5=@min_num_5@,store_num=@store_num@,remark=@remark@,freight_id=@freight_id@,sell_start_time=@sell_start_time@,
    sell_end_time=@sell_end_time@,update_time=now(),goods_name_py=@goods_name_py@,goods_name_sp=@goods_name_sp@ where goods_id=@goods_id@"/>
    <!--新增产品上架到待审核区-->
    <sql ID="2196" value="insert into tb_product_live(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,is_sale_property,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,goods_standard,
    unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    values(@goods_id@,@user_id@,@brand_ids@,@car_model_ids@,@car_conf_ids@,@original_car_no@,@parts_cate_id@,@parts_brand_id@,@is_oem@,@is_dead@,@is_sale_property@,@saleLimit@,@goods_name@,@goods_sell_title@,@mfg_no@,@rank@,@goods_no@,@goods_sn@,@goods_standard@,@unit_name@,@weight@,
    @volume@,@goods_main_img@,@goods_imgs@,@price_life@,@isTax@,@c_tax_rate@,@s_tax_rate@,@price0@,@price1@,@price2@,@price3@,@min_num_3@,@price4@,@min_num_4@,@price5@,@min_num_5@,@store_num@,@remark@,@freight_id@,@sell_start_time@,@sell_end_time@,0,now(),@goods_name_py@,@goods_name_sp@)"/>
    <!--批量上架-->
    <sql ID="2197" value="insert into tb_product_live(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    select goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,0,now(),goods_name_py,goods_name_sp from tb_product_offline where goods_id in(@goods_ids@)"/>
    <!--单个删除待审核产品-->
    <sql ID="2198" value="delete from tb_product_live where goods_id=@goods_id@"/>
    <!--线上产品移到待审核区-->
    <sql ID="2199" value="insert into tb_product_live(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,is_sale_property,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,goods_standard,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    select goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,is_sale_property,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,goods_standard,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,0,now(),goods_name_py,goods_name_sp from tb_product_online where goods_id=@goods_id@"/>
    <!--删除线上产品-->
    <sql ID="2200" value="delete from tb_product_online where goods_id=@goods_id@"/>
    <!--批量上架-->
    <sql ID="2201" value="insert into tb_product_live(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    select goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,0,now(),goods_name_py,goods_name_sp from tb_product_online where goods_id in(@goods_ids@)"/>
    <!--单个线下产品到待审区-->
    <sql ID="2202" value="insert into tb_product_live(goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,is_lock,add_time,goods_name_py,goods_name_sp)
    select goods_id,user_id,brand_ids,car_model_ids,car_conf_ids,original_car_no,parts_cate_id,parts_brand_id,is_oem,is_dead,sale_limit,goods_name,goods_sell_title,mfg_no,rank,goods_no,goods_sn,unit_name,weight,volume,goods_main_img,goods_imgs,price_life,is_tax,c_tax_rate,s_tax_rate,price0,price1,price2,price3,min_num_3,price4,min_num_4,price5,min_num_5,store_num,remark,freight_id,sort_weight,sell_start_time,sell_end_time,0,now(),goods_name_py,goods_name_sp from tb_product_offline where goods_id=@goods_id@"/>
    <!--查询资金变动表的消费变动状态：无、0、1-->
    <sql ID="2203" value="select pay_id,pay_bank,bank_order_id,pay_type,pay_cer_id,freezed,status_time,move_status from tb_money_movements where order_id=? and user_id=? and trade_type=3"/>
    <!--聊天查询卖家信息-->
    <sql ID="2204" value="select aa.user_id,aa.login_name,aa.rank,substring(aa.reg_time,1,10) as reg_time,substring(aa.last_time,1,10) as last_time,bb.cityname from tb_web_user aa left join tb_city bb on aa.city_id=bb.cityid where aa.user_id=?"/>
    <!--聊天查询卖家信息-->
    <sql ID="2205" value="select aa.pay_time,bb.pay_clazz,bb.pay_remark,bb.bank_amount from tb_order aa left join tb_order_pay_clazz bb on aa.pay_sn=bb.pay_sn where aa.order_id=?"/>

    <!--查询银行-->
    <!--查询支付个人网银-->
    <sql ID="2206" value="select * from tb_bank where pay_bank=201 and pay_type = 1 and pay_clazz=13"/>
    <!--查询充值个人网银-->
    <sql ID="2207" value="select * from tb_bank where pay_bank=201 and pay_type = 1 and pay_clazz=10"/>
    <!--查询企业网银-->
    <sql ID="2208" value="select * from tb_bank where pay_bank=201 and pay_type = 2 and pay_clazz=10"/>

    <!--查询开票信息-->
    <sql ID="2209" value="select count(*) as count from tb_order_invoice where order_id=? and seller_id = ?"/>

    <!--卖家中心订单详情-->
    <!--<sql ID="2210" value="select reply_time from tb_web_goods_reviews where order_id=@order_id@ and seller_user_id=@user_id@"/>-->
    <sql ID="2210" value="select aa.is_seller_reviews,aa.freight_rec_amount,aa.freight_extra_amount,aa.goods_rec_amount,aa.goods_extra_amount,
    aa.insurance_amount,aa.order_amount,aa.is_expressed,aa.delivery_type,aa.seller_remark,aa.shippment_time,aa.express_company,aa.express_py,
    aa.express_no,aa.express_num,bb.goods_id,bb.goods_name,bb.goods_main_img,bb.car_property,bb.property_json,bb.sale_price,
    bb.discount_price,bb.goods_num,bb.refund_status,bb.status_time,bb.promotion_id,cc.order_time,cc.user_id,cc.is_invoice,cc.invoice_id,cc.order_status,
    cc.amounts,cc.address,cc.receiver,cc.phone,cc.pay_sn,cc.pay_time,dd.parts_cate_id,dd.mfg_no,dd.goods_no from tb_order_supplier aa left join tb_order_goods bb on aa.order_id=bb.order_id
    left join tb_order cc on aa.order_id=cc.order_id left join tb_product_online dd on bb.goods_id=dd.goods_id where aa.user_id_supplier =@user_id@ and aa.order_id =@order_id@ and bb.user_id=@user_id@ order by bb.order_item"/>
    <!--查询企业网银-->
    <sql ID="2211" value="select reply_time from tb_web_goods_reviews where order_id=@order_id@ and seller_user_id=@user_id@"/>
    <!--查询企业网银-->
    <sql ID="2212" value="select invoice_name,user_type,invoice_type,register_no,bank_name,bank_no,license_address,licnese_phone,business_copy,tax_copy,taxator_copy from tb_web_user_invoice where invoice_id=@invoice_id@"/>
    <!--查询线下表产品is_lock-->
    <sql ID="2213" value="select is_lock from tb_product_offline where goods_id=@goods_id@"/>
    <!--查询线下表产品is_lock-->
    <sql ID="2214" value="select is_lock from tb_product_offline where goods_id in(@goods_ids@) order by field(goods_id,@goods_ids@)"/>

    <!--查询线下表产品is_lock-->
    <sql ID="2215" value="select dic_type,dic_code,dic_name,dic_value from tb_sys_dic where dic_code!=0 and dic_type in(@dic_type@) order by field(dic_type,@dic_type@)"/>

    <!--查询工单-->
    <!--<sql ID="2216" value="select user_name,user_phone,vin,car_no from mt_car where car_id=(select car_id from tb_order where order_id=@order_id@)"/>-->
    <sql ID="2216" value="select aa.appointment_time,aa.appointment_km,aa.enter_time,aa.enter_km,aa.finish_time,aa.fault_remark,
     bb.user_name,bb.user_phone,bb.vin,bb.car_no from tb_order aa left join mt_car bb on aa.car_id=bb.car_id where aa.order_id=@order_id@"/>
    <sql ID="2217" value="select goods_id,goods_name,discount_price from tb_order_goods where order_id = @order_id@ and biz_clazz=2"/>
    <sql ID="2218" value="select aa.goods_id,aa.goods_name,aa.discount_price,aa.goods_num,aa.amounts,bb.goods_standard from tb_order_goods aa left join tb_product_online
     bb on aa.goods_id=bb.goods_id where aa.order_id = @order_id@ and (aa.biz_clazz=3 or aa.biz_clazz=1)"/>
    <sql ID="2219" value="select aa.order_id,bb.company from tb_order_confirm_pool aa,tb_web_user_seller bb where aa.confirm_no=? and bb.user_id=?"/>
    <!--查询提现银行卡-->
    <sql ID="2220" value="select aa.bank_id,aa.card_type,aa.account_no,aa.verify_status,bb.bank_name,bb.bank_ico from tb_user_bank_card aa left join tb_bank bb on aa.bank_id=bb.bank_id where aa.user_id = ? and aa.is_deleted=0 and advance_default=1"/>
    <!--订单打印-->
    <sql ID="2221" value="select order_id,order_time,is_invoice from tb_order where user_id=? and find_in_set(order_id,?) order by order_id desc"/>
    <!--工单打印列表页查询-->
    <sql ID="2222" value="select aa.order_id,bb.user_name,bb.user_phone,bb.car_name from tb_order aa left join mt_car bb on aa.car_id=bb.car_id left join tb_order_supplier cc on aa.order_id=cc.order_id where @where@ order by aa.order_id desc limit @page@,@row@"/>
    <!--查询保养订单服务商-->
    <sql ID="2223" value="select user_id_supplier from tb_order_supplier where order_id=@order_id@ and biz_clazz＜＞1"/>
    <!--查询保养订单材料费和工时费小计-->
    <sql ID="2224" value="SELECT SUM(amounts) as amounts from tb_order_goods where order_id=@order_id@ GROUP BY biz_clazz ORDER BY biz_clazz asc"/>

    <!--订单验证页-->
    <sql ID="2225" value="SELECT goods_name,amounts,group_id,SUM(amounts) as amount from (select goods_name,amounts,group_id from tb_order_goods where order_id=@order_id@ order by biz_clazz desc) oo GROUP BY group_id ORDER BY group_id asc"/>
    <sql ID="2226" value="SELECT goods_id,goods_name,goods_main_img,discount_price,goods_num,amounts from tb_order_goods where group_id=@group_id@ and (biz_clazz=3 or biz_clazz=1) and order_id=@order_id@"/>
    <sql ID="2227" value="SELECT aa.order_id,aa.amounts,aa.appointment_time,aa.appointment_km,bb.user_name,bb.user_phone,bb.vin,bb.car_no from tb_order aa left join mt_car bb on aa.car_id=bb.car_id where aa.order_id=@order_id@"/>

    <!--卖家更新是否支持开票-->
    <sql ID="2228" value="update tb_web_user_seller set is_tax=@is_tax@ where user_id=@user_id@"/>

    <!--从确认码池中取得order_id-->
    <sql ID="2229" value="select aa.order_id from tb_order_confirm_pool aa left join tb_order_supplier bb on aa.order_id=bb.order_id where aa.confirm_no=? and bb.user_id_supplier=? and bb.biz_clazz＜＞1"/>
    <!--工单验证时更新确认码池-->
    <sql ID="2230" value="update tb_order set appointment_time=@appointment_time@,appointment_km=@appointment_km@,enter_time=@enter_time@,
     enter_km=@enter_km@,finish_time=@finish_time@,fault_remark=@fault_remark@ where order_id=@order_id@"/>

    <!--保养订单验证-->
    <sql ID="2231" value="select aa.order_id,bb.user_id_buyer from tb_order_confirm_pool aa left join tb_order_supplier bb on aa.order_id=bb.order_id where aa.confirm_no=@confirm_no@ and bb.user_id_supplier=@user_id@ and bb.biz_clazz＜＞1"/>
    <sql ID="2232" value="select order_id,goods_id,goods_num from tb_order_goods where refund_status in(6,8,9) and order_id in(@orderId@)"/>
    <sql ID="2233" value="select pay_sn,batch_no,seller_user_id,order_amount,refund_amount,amount from tb_user_order_pay_in where seller_type=1 and trade_status>1 and seller_user_id in(select user_id from tb_order_goods where refund_status in(6,8,9) and order_id in(@orderId@)) and order_id in(@orderId@)"/>
    <sql ID="2234" value="update tb_order_confirm_pool set order_id=0 where order_id=@orderId@ and confirm_no=@confirm_no@"/>

    <!--工单打印，对日期进行了处理-->
    <sql ID="2235" value="select DATE_FORMAT(aa.appointment_time,'%Y-%m-%d %h:%i') appointment_time,aa.appointment_km,DATE_FORMAT(aa.enter_time,'%Y-%m-%d %h:%i') enter_time,aa.enter_km,DATE_FORMAT(aa.finish_time,'%Y-%m-%d %h:%i') finish_time,aa.fault_remark,
     bb.user_name,bb.user_phone,bb.vin,bb.car_no from tb_order aa left join mt_car bb on aa.car_id=bb.car_id where aa.order_id=@order_id@"/>

    <!--关闭订单时删除虚拟库存出库记录-->
    <sql ID="2236" value="delete from tb_order_statistics where move_num＜0 and user_id=? and order_id=? and goods_id=?"/>

    <!--一元购查询产品-->
    <sql ID="2237" value="select aa.*,bb.*,(select sum(buy_nums) from ac_reward where active_id=?) as buy_num,
    (select COUNT(*) from tb_random where active_id=? and random_value＞-1) as count from tb_product_online
     aa left join ac_coupon bb on aa.goods_id=bb.active_id where aa.goods_id=? and parts_cate_id＞?"/>
    <!--一元购订单插入-->
    <sql ID="2238" value="insert into tb_order(order_id,user_id,user_nick,order_time,refer_ip,order_amount,amounts) values(?,?,?,?,?,?,?)"/>
    <sql ID="2239" value="insert into tb_order_goods(order_id,biz_clazz,user_id_buyer,order_time,order_item,goods_id,user_id,father_user_id,goods_name,goods_main_img,sale_price,discount_price,goods_num,amounts,price1,cost_amounts,profit_amounts,credits,price_clazz) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"/>
    <sql ID="2240" value="insert into tb_order_supplier(order_id,biz_clazz,user_id_buyer,order_time,user_id_supplier,goods_rec_amount,freight_rec_amount,order_amount) values(?,?,?,?,?,?,?,?)"/>

    <sql ID="2241" value="select user_id,goods_name,goods_main_img,price0,price1 from tb_product_online where goods_id=?"/>
    <!--一元购查询我的抽奖号-->
    <sql ID="2242" value="select count(*) as count from ac_reward where active_id=@active_id@ and user_id=@user_id@"/>
    <sql ID="2243" value="select * from ac_reward where active_id=@active_id@ and user_id=@user_id@"/>
    <sql ID="2244" value="select aa.active_name,sum(buy_nums) as buy_num from ac_coupon aa left join ac_reward bb on aa.active_id=bb.active_id where aa.active_id=? and bb.user_id=?"/>
    <!--一元购查询所有人的抽奖号-->
    <sql ID="2245" value="select login_name,join_date,join_time,buy_nums,reward_nums from ac_reward where active_id=? ORDER BY join_date desc,join_time desc"/>
    <!--web查询所有人的抽奖号-->
    <sql ID="2246" value="select * from ac_reward where active_id=? ORDER BY join_date desc,join_time desc"/>
    <!--一元购查询中奖号码（顺便用于查询是否已揭晓）-->
    <sql ID="2247" value="select * from ac_lottery_nums where active_id=@active_id@"/>
    <!--一元购查询单次付款的兑奖号码-->
    <sql ID="2248" value="select aa.active_id,aa.buy_nums,aa.reward_nums,bb.goods_name from ac_reward aa left join tb_product_online bb on aa.active_id=bb.goods_id where aa.deposit_id=? and aa.user_id=?"/>
    <!--查询活动详细信息-->
    <sql ID="2249" value="select is_presale,active_name,active_clazz,f_condition,s_condition,pay_deposit from ac_coupon where active_id=?"/>
    <!--查询资金变动表，暂不知trade_type=？-->
    <sql ID="2250" value="select pay_id,pay_bank,bank_order_id,pay_type,pay_cer_id,freezed,status_time,move_status,amount from tb_money_movements where order_id=? and user_id=? and trade_type=11"/>
    <!--支付成功跳转查询-->
    <sql ID="2251" value="select biz_clazz from tb_order where order_id=?"/>
    <sql ID="2252" value="select active_clazz from ac_coupon where active_id=(select active_id from ac_active_deposit where order_id=? and deposit_id=?)"/>

    <!--查询账户余额-->
    <sql ID="2253" value="select balance,freeze_balance,total_balance from tb_web_user where user_id = @user_id@"/>
    <!--查询订单产品名称-->
    <sql ID="2254" value="select goods_name from tb_order_goods where order_id=@order_id@"/>
    <!--查询订单产品名称-->
    <sql ID="2255" value="select * from tb_bank where bank_id in(@bids@) order by field(bank_id,@bids@)"/>

    <!--查询资金变动表的消费变动状态：无、0、1，语句同2122-->
    <sql ID="2256" value="select pay_id,pay_bank,bank_order_id,pay_type,pay_cer_id,freezed,status_time,move_status from tb_money_movements where order_id=@order_id@ and user_id=@user_id@ and trade_type=@trade_type@"/>

    <!--查询用户免单码信息-->
    <sql ID="2257" value="select free_no,free_invite from tb_order where user_id=@user_id@ and (free_no !='' or free_invite !='')"/>
    <!--验证是否是自己的免单码-->
    <sql ID="2258" value="select count(*) as count from tb_order where user_id=? and free_no=?"/>

    <sql ID="2260" value="SELECT aa.order_id,aa.amounts,aa.appointment_time,aa.appointment_km,aa.car_json from tb_order aa where aa.order_id=@order_id@"/>
    <!--卖家中心所有订单-->
    <sql ID="2261" value="select count(*) as count from (select DISTINCT aa.order_id from tb_order_supplier aa left join tb_order cc on aa.order_id = cc.order_id
    left join tb_order_goods bb on aa.order_id = bb.order_id where @where@ order by aa.order_id desc) oo"/>

    <!--发货更新tb_order-goods-->
    <sql ID="2262" value="update tb_order_goods set refund_status=9 where user_id=@user_id@ and order_id=@order_id@"/>
    <!--根据订单号查询订单买家信息2135-->
    <sql ID="2263" value="select ss.order_status,ss.user_id_buyer,oo.phone from tb_order_supplier ss left join tb_order oo on ss.order_id=oo.order_id where ss.order_id=?"/>

    <!--关闭交易更新订单卖家表状态-->
    <sql ID="2264" value="update tb_order_supplier set order_status=7 where order_id=? and user_id_buyer=?"/>
    <!--关闭交易查询该订单红包信息-->
    <sql ID="2265" value="select cash_sn,cash_amount from tb_order where order_id=@order_id@"/>
    <!--关闭交易退还红包-->
    <sql ID="2266" value="update tb_my_cash set is_used=0 where cash_sn=? and order_id=? and buyer_id=?"/>
    <!--定时更新缓存查询-->
    <sql ID="2272" value="select appointment_date,appointment_part,user_id,son_user_id,COUNT(if(is_enable=2,true,null)) as paid,
    COUNT(if(is_enable=1,true,null)) as no_pay from mt_order_appointment WHERE appointment_date>=date_format(now(),'%Y%m%d') GROUP BY appointment_date,appointment_part,user_id,son_user_id"/>



    <!--查询银行信息-->
    <sql ID="2302" value="insert into tb_balance_task(balance_uuid,pay_sn,user_id,balance,freeze_balance,total_balance,add_time,
    update_time,remark) values(?,?,?,?,?,?,?,?,?)"/>


    <!-- rll  2501 - 3000 _______________________________________________________________________________________________________________________________________ / -->
    <!-- 保养套餐数量 -->
      <!-- 手机首页 配置 -->
    <sql ID="2514" value="select aa.goods_id,aa.goods_name,aa.goods_main_img,aa.price2,aa.price3 from tb_product_online aa @sql@ "/>
    <sql ID="5000" value="select * from tb_product_online where is_lock=0 and goods_id=?"/>
    <sql ID="5001" value="select * from tb_parts_brand where parts_brand_id =?"/>
    <sql ID="5002" value="select * from tb_parts_category where parts_cate_id in "/>
    <sql ID="5003" value="select dd.user_type,aa.*,(select pp.provincename from tb_province pp where pp.provinceid = dd.province_id)as province,(select yy.cityname from tb_city yy where yy.cityid =dd.city_id)as city,(select zz.areaname from tb_area zz where zz.areaid=dd.area_id)as area from tb_product_online aa left join tb_web_user dd on aa.user_id = dd.user_id where  goods_id in "/>
    <sql ID="5004" value="select DISTINCT attr_id_1,attr_value_1,attr_hashcode_1  from tb_product_sell_price where goods_id=?"/>
    <sql ID="5005" value="select DISTINCT attr_id_2,attr_value_2,attr_hashcode_2  from tb_product_sell_price where goods_id=?"/>
    <sql ID="5006" value="select attr_name,attr_id from tb_attribute where attr_id=?"/>
    <sql ID="5007" value="select attr_id from tb_goods_property where goods_id=?"/>
    <sql ID="5008" value="select attr_id,attr_name,attr_type_input,attr_value,attr_hashcode from tb_attribute where attr_id in "/>

</sqls>


